{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///veol.min.js","webpack:///webpack/bootstrap 59d62ee2cd3a96dde017","webpack:///./src/javascripts/index.js","webpack:///./src/javascripts/PageMaker.js","webpack:///./src/javascripts/Widgets/widget-list.js","webpack:///./src/javascripts/WidgetDefinition.js","webpack:///./src/javascripts/utils.js","webpack:///./src/javascripts/Application.js","webpack:///./src/javascripts/Gui/WidgetPropertiesEditor/PropertyEditorPool.js","webpack:///./src/javascripts/Gui/WidgetPropertiesEditor/Editor/TextField.js","webpack:///./src/javascripts/Gui/WidgetPropertiesEditor/Editor/SimpleInput.js","webpack:///./src/javascripts/Gui/WidgetPropertiesEditor/PropertyEditor.js","webpack:///./src/javascripts/Gui/WidgetPropertiesEditor/Editor/TextArea.js","webpack:///./src/javascripts/Gui/WidgetPropertiesEditor/Editor/Select.js","webpack:///./src/javascripts/Gui/WidgetPropertiesEditor/Editor/Range.js","webpack:///./src/javascripts/Gui/WidgetPropertiesEditor/Editor/Checkbox.js","webpack:///./src/javascripts/Gui/WidgetPropertiesEditor/Editor/Color.js","webpack:///./src/javascripts/Gui/ConfirmBox.js","webpack:///./src/javascripts/Error.js","webpack:///./src/javascripts/Gui/Tree.js","webpack:///./src/javascripts/Gui/WidgetCreator.js","webpack:///./src/javascripts/Gui/WidgetCreatorFieldEditor.js","webpack:///./src/javascripts/Gui/WidgetPropertiesEditor/drawWidgetEditors.js","webpack:///./src/javascripts/Gui/SingleFieldEditor.js","webpack:///./src/javascripts/Gui/Component.js","webpack:///./src/javascripts/Gui/Preview.js","webpack:///./src/javascripts/Gui/ToolboxBar.js","webpack:///./src/javascripts/Gui/ToolboxAction/PreviewDeviceSwitch.js","webpack:///./src/javascripts/Gui/WidgetPropertiesEditor.js","webpack:///./src/javascripts/Gui/Viewport.js","webpack:///./src/javascripts/Gui/vueJsPreview.js","webpack:///./src/javascripts/Gui/ToolboxAction/SimpleButton.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","_PageMaker","_PageMaker2","_WidgetDefinition","_WidgetDefinition2","_utils","_utils2","_Tree","_Tree2","_Preview","_Preview2","_WidgetPropertiesEditor","_WidgetPropertiesEditor2","_WidgetCreator","_WidgetCreator2","_Viewport","_Viewport2","_ToolboxBar","_ToolboxBar2","_vueJsPreview","_vueJsPreview2","_SimpleButton","_SimpleButton2","_PreviewDeviceSwitch","_PreviewDeviceSwitch2","_Error","_Error2","_PropertyEditor","_PropertyEditor2","_SimpleInput","_SimpleInput2","Veol","PageMaker","WidgetDefinition","Gui","Tree","Preview","WidgetPropertiesEditor","WidgetCreator","Viewport","vueJsPreview","ToolboxBar","ToolboxAction","SimpleButton","PreviewDeviceSwitch","PropertyEditor","utils","titleDetails","Error","_currentZIndex","SimpleInput","_widgetList","_widgetList2","_Application","_Application2","_PropertyEditorPool","_PropertyEditorPool2","widgetInstanceId","widgets","editorPool","loadDefaults","addWidgetDefinition","prototype","name","widget","findWidgetDefinition","parseData","data","application","parent","arguments","length","undefined","newData","meta","editor","wid","makeObservable","widgetName","widgetDefinition","helper","save","onSave","isContainer","children","hasOwnProperty","createApplication","create","title","faIconName","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","i","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","push","getOwnPropertyNames","config","types","whitelistBlacklistChecker","childrenWhitelist","childrenBlacklist","parentWhitelist","parentBlacklist","Widget_","fastInstance","createEvent","stopped","event","stop","isStopped","insertWidgetAt","insertWidget","at","inParent","indexInBaseParent","indexOf","splice","arrayContainsOneOf","testArray","dataArray","directBind","realTarget","addEventListener","callback","eventTarget","__veol_callbacks","removeEventListener","dispatchEvent","properties","eventData","apply","insertWidgetBefore","beforeWidget","index","insertWidgetAfter","afterWidget","appendWidget","domIndexOf","child","Array","whiteList","blackList","items","getPropertyEditor","property","editorName","findEditor","bindModal","$modal","closeHandler","find","click","css","z-index","setZIndex","$el","getWidgetIconClass","widgetDef","_typeof","Symbol","iterator","constructor","_ConfirmBox","_ConfirmBox2","Application","pageMaker","ERR_INVALID_DATA","keys","originalData","selectedWidget","yesNo","propertyName","getWidget","metaName","parentWidget","widgetData","inWidget","pool","addEditor","_TextField2","_TextArea2","_Select2","_Range2","_Checkbox2","_Color2","_TextField","_TextArea","_Select","_Range","_Checkbox","_Color","PropertyEditorPool","editors","names","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","setPrototypeOf","__proto__","_SimpleInput3","TextField","getPrototypeOf","$","_PropertyEditor3","_this","isLiveEdit","onCreateEditor","$editor","$input","getInput","on","updateWidgetData","val","drawEditor","append","editionHandler","valueGetter","TextArea","Select","$select","multiple","prop","options","opt","optType","label","Range","min","max","step","$count","html","addClass","Checkbox","is","Color","ConfirmBox","$root","hide","$modalContent","close","console","log","_yes","_no","message","yesHandler","noHandler","show","VeolError","errorType","setTreeNodeTitle","$child","getDescription","details","empty","drawWidget","tree","$parent","appendTo","$title","$titleContent","evt","ctrlKey","unselectAllWidgets","selectWidget","iconClass","$widgetIcon","prepend","$caret","toggleClass","$addIcon","widgetCreator","createForParent","$subParent","$delete","ask","deleteWidget","removeDndClasses","$element","removeClass","e","$dragging","isDragging","$draggedParent","closest","canBeDroppedNext","canBeDroppedInside","droppedWidget","getDraggedWidget","allowedAsChild","allowedAsParent","hasClass","childOffset","offset","mouseYInChild","clientY","top","mouseYInPercent","outerHeight","preventDefault","operationType","bindApplication","movedWidget","$target","$moved","first","insertAfter","insertBefore","error","remove","$into","parentId","_Component2","_Component3","_Component","$header","$addWidget","draw","createWidgetButton","widgetTitle","icon","$widgetButton","_WidgetCreatorFieldEditor","_WidgetCreatorFieldEditor2","$widgetList","attr","widgetDefName","fieldsEditor","newWidget","parentWidgetDef","allWidgetDef","availableWidgetDef","$item","removeAttr","trigger","_drawWidgetEditors","_drawWidgetEditors2","WidgetCreatorFieldEditor","success","cancel","defaultValue","$modalRoot","$editors","drawWidgetEditors","$weditor","$editorRow","drawEditorField","tooltip","nullable","bindNullable","showIf","bindShowIf","$nullableCb","propertyIsNull","nullBackup","getWidgetEditorProperty","checked","defaultIfNull","updateWidgetEditorProperty","useDedicatedEditor","hasEditionHandler","$editButton","singleFieldEditor","_SingleFieldEditor2","createEditor","afterDraw","_SingleFieldEditor","SingleFieldEditor","getValue","backupData","Component","preview","previewProperties","onCreateOuter","onCreateContainer","widgetRefreshPreview","$innerData","onCreateContentContainer","onDataChange","$device","defaultDeviceMove","deviceMode","topBar","$screen","setDevice","device","currentDevice","element","typeofElement","newDevice","oldDevice","propertyEditor","$propertiesWrapper","__editorCache","$mainPannel","$leftPannel","prependTo","$rightPannel","component","getComponentRoot","showLeftPannel","showRightPannel","previewOptions","template","$content","$block","Vue","el","text","action","$button","type"],"mappings":"CAAA,SAAAA,EAAAC,GACA,gBAAAC,UAAA,gBAAAC,QACAA,OAAAD,QAAAD,IACA,kBAAAG,gBAAAC,IACAD,OAAA,UAAAH,GACA,gBAAAC,SACAA,QAAA,KAAAD,IAEAD,EAAA,KAAAC,KACCK,KAAA,WACD,MCAgB,UAAUC,GCN1B,QAAAC,GAAAC,GAGA,GAAAC,EAAAD,GACA,MAAAC,GAAAD,GAAAP,OAGA,IAAAC,GAAAO,EAAAD,IACAP,WACAS,GAAAF,EACAG,QAAA,EAUA,OANAL,GAAAE,GAAAI,KAAAV,EAAAD,QAAAC,IAAAD,QAAAM,GAGAL,EAAAS,QAAA,EAGAT,EAAAD,QAvBA,GAAAQ,KAqCA,OATAF,GAAAM,EAAAP,EAGAC,EAAAO,EAAAL,EAGAF,EAAAQ,EAAA,GAGAR,EAAA,KDgBM,SAASL,EAAQD,EAASM,GAE/B,YAkEA,SAASS,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAhEvFG,OAAOC,eAAepB,EAAS,cAC3BqB,OAAO,GE3DZ,IAAAC,GAAAhB,EAAA,GFgEKiB,EAAcR,EAAuBO,GE/D1CE,EAAAlB,EAAA,GFmEKmB,EAAqBV,EAAuBS,GElEjDE,EAAApB,EAAA,GFsEKqB,EAAUZ,EAAuBW,GElEtCE,EAAAtB,EAAA,IFsEKuB,EAASd,EAAuBa,GErErCE,EAAAxB,EAAA,IFyEKyB,EAAYhB,EAAuBe,GExExCE,EAAA1B,EAAA,IF4EK2B,EAA2BlB,EAAuBiB,GE3EvDE,EAAA5B,EAAA,IF+EK6B,EAAkBpB,EAAuBmB,GE9E9CE,EAAA9B,EAAA,IFkFK+B,EAAatB,EAAuBqB,GEjFzCE,EAAAhC,EAAA,IFqFKiC,EAAexB,EAAuBuB,GEpF3CE,EAAAlC,EAAA,IFwFKmC,EAAiB1B,EAAuByB,GErF7CE,EAAApC,EAAA,IFyFKqC,EAAiB5B,EAAuB2B,GExF7CE,EAAAtC,EAAA,IF4FKuC,EAAwB9B,EAAuB6B,GE1FpDE,EAAAxC,EAAA,IF8FKyC,EAAUhC,EAAuB+B,GE3FtCE,EAAA1C,EAAA,GF+FK2C,EAAmBlC,EAAuBiC,GE9F/CE,EAAA5C,EAAA,GFkGK6C,EAAgBpC,EAAuBmC,GEhGxCE,GACAC,oBACAC,2BAEAC,KACIC,eACAC,kBACAC,iCACAC,wBACAC,mBACAC,uBACAC,qBACAC,eACIC,uBACAC,gCAMRC,yBAEAC,gBACAC,4BAEAC,gBAEAC,eAAgB,KAIpBlB,GAAKc,eAAeK,YAApBpB,EAAAjC,QF2GClB,EAAQkB,QEzGMkC,EF0GdnD,EAAOD,QAAUA,EAAiB,SAI7B,SAASC,EAAQD,EAASM,GAE/B,YAsBA,SAASS,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GApBvFG,OAAOC,eAAepB,EAAS,cAC3BqB,OAAO,GG5KZ,IAAAmD,GAAAlE,EAAA,GHiLKmE,EAAe1D,EAAuByD,GGhL3CE,EAAApE,EAAA,GHoLKqE,EAAgB5D,EAAuB2D,GGnL5ChD,EAAApB,EAAA,GHuLKqB,EAAUZ,EAAuBW,GGtLtCkD,EAAAtE,EAAA,GH0LKuE,EAAuB9D,EAAuB6D,GGxL/CE,EAAmB,IAEnBzB,EAAY,WACZjD,KAAK2E,WAEL3E,KAAK4E,WAAa,GAAAH,GAAA3D,SACd+D,cAAc,IAGlB7E,KAAK8E,oBAAoB,cAAe,GAAAT,GAAAvD,SAG5CmC,GAAU8B,UAAUD,oBAAsB,SAASE,EAAMC,GACrDjF,KAAK2E,QAAQK,GAAQC,GAQzBhC,EAAU8B,UAAUG,qBAAuB,SAASF,GAChD,GAAIC,GAASjF,KAAK2E,QAAQK,EAC1B,IAAIC,EAGA,MAAOA,EAFP,MAAM,mBAAqBD,EAAO,cAU1C/B,EAAU8B,UAAUI,UAAY,SAASC,EAAMC,GAA2B,GAAdC,GAAcC,UAAAC,OAAA,GAAAC,SAAAF,UAAA,GAAAA,UAAA,GAAL,KAC7DG,IAaJ,IAVAA,EAAQN,KAAOA,EAAKA,SACpBM,EAAQC,KAAOP,EAAKO,SACpBD,EAAQE,OAASR,EAAKQ,WACtBF,EAAQG,IAAMnB,IACdgB,EAAQJ,OAASA,EACjBI,EAAQL,YAAcA,EAEtB9D,EAAAT,QAAMgF,eAAeJ,GAAS,GAG3BN,EAAKW,aACJL,EAAQK,WAAaX,EAAKW,WAC1BL,EAAQM,iBAAmBhG,KAAKkF,qBAAqBE,EAAKW,YAE1DL,EAAQO,QACJC,KAAM,WACF,MAAOR,GAAQM,iBAAiBG,OAAOT,KAI5CA,EAAQM,iBAAiBI,eACxB,GAAGhB,EAAKiB,UAAYjB,EAAKiB,SAASb,OAAO,EAAE,CACvCE,EAAQW,WACR,KAAI,GAAI5F,KAAK2E,GAAKiB,SACXjB,EAAKiB,SAASC,eAAe7F,KAC5BiF,EAAQW,SAAS5F,GAAKT,KAAKmF,UAAUC,EAAKiB,SAAS5F,GAAI4E,EAAaK,QAI5EA,GAAQW,WAKpB,OAAOX,IAQXzC,EAAU8B,UAAUwB,kBAAoB,SAASnB,GAC7C,MAAO,IAAAb,GAAAzD,QAAgBd,KAAMoF,IHgMhCxF,EAAQkB,QG7LMmC,EH8LdpD,EAAOD,QAAUA,EAAiB,SAI7B,SAASC,EAAQD,EAASM,GAE/B,YAUA,SAASS,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GARvFG,OAAOC,eAAepB,EAAS,cAC3BqB,OAAO,GIhSZ,IAAAG,GAAAlB,EAAA,GJqSKmB,EAAqBV,EAAuBS,EAIhDxB,GAAQkB,QIvSMO,EAAAP,QAAiB0F,QAC5BJ,aAAa,EAEbK,MAAO,SAEPC,WAAY,WJySf7G,EAAOD,QAAUA,EAAiB,SAI7B,SAASC,EAAQD,EAASM,GAE/B,YAYA,SAASS,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAEvF,QAAS+F,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAZhH/F,OAAOC,eAAepB,EAAS,cAC3BqB,OAAO,GAGX,IAAI8F,GAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAIC,GAAI,EAAGA,EAAID,EAAM1B,OAAQ2B,IAAK,CAAE,GAAIC,GAAaF,EAAMC,EAAIC,GAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,SAAWF,KAAYA,EAAWG,UAAW,GAAMxG,OAAOC,eAAeiG,EAAQG,EAAWI,IAAKJ,IAAiB,MAAO,UAAUP,EAAaY,EAAYC,GAAiJ,MAA9HD,IAAYT,EAAiBH,EAAY9B,UAAW0C,GAAiBC,GAAaV,EAAiBH,EAAaa,GAAqBb,MK5TjiBvF,EAAApB,EAAA,GLgUKqB,EAAUZ,EAAuBW,GK9ThC4B,ELoUkB,WACnB,QAASA,KACLyD,EAAgB3G,KAAMkD,GA4E1B,MAzEA6D,GAAa7D,IACTsE,IAAK,SACLvG,MAAO,SKzULgE,GACH,GAAIG,IACAW,WAAYd,EAAOc,WAGvB,IAAG/F,KAAKoG,cAAc,CAClBhB,EAAKiB,WACL,KAAI,GAAI5F,KAAKwE,GAAOoB,SACbpB,EAAOoB,SAASC,eAAe7F,IAC9B2E,EAAKiB,SAASsB,KAAK1C,EAAOoB,SAAS5F,GAAGwF,OAAOC,QAiBzD,MAZGjB,GAAOG,MAAQrE,OAAO6G,oBAAoB3C,EAAOG,MAAMI,OAAS,IAC/DJ,EAAKA,KAAOH,EAAOG,MAGpBH,EAAOU,MAAQ5E,OAAO6G,oBAAoB3C,EAAOU,MAAMH,OAAS,IAC/DJ,EAAKO,KAAOV,EAAOU,MAGpBV,EAAOW,QAAU7E,OAAO6G,oBAAoB3C,EAAOW,QAAQJ,OAAS,IACnEJ,EAAKQ,OAASX,EAAOW,QAGlBR,KL4UNoC,IAAK,cACLvG,MAAO,WKzUR,MAAOjB,MAAK6H,OAAOzB,eAAgB,KLoVlCoB,IAAK,iBACLvG,MAAO,SK5UGgE,GACX,GAAI6C,SAMJ,OAJIA,GADD7C,EAAOe,iBACEf,EAAOe,iBAAiB6B,OAAOC,MAE/B7C,EAAO4C,OAAOC,MAEnBvG,EAAAT,QAAMiH,0BAA0B/H,KAAK6H,OAAOG,kBAAmBhI,KAAK6H,OAAOI,kBAAmBH,MLsVpGN,IAAK,kBACLvG,MAAO,SK/UIgE,GACZ,GAAI6C,SAMJ,OAJIA,GADD7C,EAAOe,iBACEf,EAAOe,iBAAiB6B,OAAOC,MAE/B7C,EAAO4C,OAAOC,MAEnBvG,EAAAT,QAAMiH,0BAA0B/H,KAAK6H,OAAOK,gBAAiBlI,KAAK6H,OAAOM,gBAAiBL,OLmV7F5E,IKhTZA,GAAiBsD,OAAS,SAASqB,GAC/BA,EAASA,KACT,IAAIO,GAAW,WACXpI,KAAK6H,OAASA,EACd7H,KAAK6H,OAAOzC,KAAOpF,KAAK6H,OAAOzC,SAGnC,OADAgD,GAAQrD,UAAYhE,OAAOyF,OAAOtD,EAAiB6B,WAC5CqD,GAGXlF,EAAiBmF,aAAe,SAASR,GACrC,GAAI5C,GAAS/B,EAAiBsD,OAAOqB,EACrC,OAAO,IAAI5C,ILsVdrF,EAAQkB,QKnVMoC,ELoVdrD,EAAOD,QAAUA,EAAiB,SAI7B,SAASC,EAAQD,GAEtB,YMlbD,SAAS0I,GAAYlD,GACjB,GAAImD,IAAU,EACVC,GACAC,KAAM,WACFF,GAAU,GAGdG,UAAW,WACP,MAAOH,IAGXnD,KAAMA,MAGV,OAAOoD,GNsaVzH,OAAOC,eAAepB,EAAS,cAC3BqB,OAAO,GMhdZ,IAAI0H,GAAiB,SAASC,EAAcC,EAAIC,GAE5C,GAAGF,EAAatD,OAAQ,CACpB,GAAIyD,GAAoBH,EAAatD,OAAOe,SAAS2C,QAAQJ,EAC7DA,GAAatD,OAAOe,SAAS4C,OAAOF,EAAmB,GAGpDD,IAAaF,EAAatD,QAAUuD,GAAME,GACzCF,IAIRC,EAASzC,SAAS4C,OAAOJ,EAAI,EAAGD,GAEhCA,EAAatD,OAASwD,GAItBI,EAAqB,SAASC,EAAWC,GACzC,IAAI,GAAIjC,GAAI,EAAGA,EAAIiC,EAAU5D,OAAQ2B,IACjC,GAAGgC,EAAUH,QAAQI,EAAUjC,KAAO,EAClC,OAAO,CAGf,QAAO,GAoBPnD,EAAe,SAASyC,GACxB,0CAA2CA,EAA3C,UNodH7G,GMjdOoE,eNkdPpE,EAAQkB,SMxcLgF,eAAgB,SAAUmB,EAAQoC,GAE9B,GAAIC,EAEAA,GADDD,EACcpC,EAEAA,EAAOlC,UAGxBuE,EAAWC,iBAAmB,SAASvE,EAAMwE,GACzC,GAAIC,GAAcJ,EAAaC,EAAatJ,IAEvCyJ,GAAYnD,eAAe,sBAC5BmD,EAAYC,qBAGZD,EAAYC,iBAAiBpD,eAAetB,KAC5CyE,EAAYC,iBAAiB1E,OAGjCyE,EAAYC,iBAAiB1E,GAAM2C,KAAK6B,IAG5CF,EAAWK,oBAAsB,SAAS3E,EAAMwE,GAC5C,GAAIC,GAAcJ,EAAaC,EAAatJ,IAE5C,IAAGyJ,EAAYnD,eAAe,qBAAuBmD,EAAYC,iBAAiBpD,eAAetB,GAC7F,IAAI,GAAImC,GAAIsC,EAAYC,iBAAiB1E,GAAMQ,OAAS,EAAG2B,GAAK,EAAGA,IAC3DsC,EAAYC,iBAAiB1E,GAAMmC,KAAOqC,GAC1CC,EAAYC,iBAAiB1E,GAAMiE,OAAO9B,EAAG,IAM7DmC,EAAWM,cAAgB,SAAS5E,EAAM6E,EAAYC,GAClD,GAAIL,GAAcJ,EAAaC,EAAatJ,KAExCwI,EAAQF,EAAYwB,EAExB,IAAGL,EAAYnD,eAAe,qBAAuBmD,EAAYC,iBAAiBpD,eAAetB,GAC7F,IAAI,GAAImC,GAAI,EAAGA,EAAIsC,EAAYC,iBAAiB1E,GAAMQ,SAClDiE,EAAYC,iBAAiB1E,GAAMmC,GAAG4C,MAAMvB,EAAOqB,IAChDrB,EAAME,aAFiDvB,QAa1E6C,mBAAoB,SAAUC,EAAcrB,GACxC,GAAItD,GAAS2E,EAAa3E,MAC1B,KAAIA,EACA,KAAM,6BAEV,KAAIA,EAAOe,SACP,KAAM,2DAGV,IAAI6D,GAAQ5E,EAAOe,SAAS2C,QAAQiB,EACpC,IAAGC,KAAU,EACT,KAAM,+DAGVvB,GAAeC,EAAcsB,EAAO5E,IAGxC6E,kBAAmB,SAAUC,EAAaxB,GACtC,GAAItD,GAAS8E,EAAY9E,MACzB,KAAIA,EACA,KAAM,6BAEV,KAAIA,EAAOe,SACP,KAAM,2DAGV,IAAI6D,GAAQ5E,EAAOe,SAAS2C,QAAQoB,GAAe,CACnD,IAAGF,KAAU,EACT,KAAM,+DAGVvB,GAAeC,EAAcsB,EAAO5E,IAGxC+E,aAAc,SAAS/E,EAAQsD,GAC3B,IAAItD,EAAOe,SACP,KAAM,2DAEVsC,GAAeC,EAActD,EAAOe,SAASb,OAAQF,IAGzDqD,eAAgBA,EAGhB2B,WA1GW,SA0GAC,EAAOjF,GACd,MAAOkF,OAAMzF,UAAUiE,QAAQzI,KAC3B+E,EAAOe,SACPkE,IAIRrB,qBAEAnB,0BAnHW,SAmHe0C,EAAWC,EAAWC,GAG5C,MAFAA,GAAQA,QAELD,GAAaA,EAAUlF,OAAS,GAAK0D,EAAmBwB,EAAWC,QAI7DF,GAAaA,EAAUjF,OAAS,IAAO0D,EAAmBuB,EAAWE,KASlFC,kBAAmB,SAASC,EAAUjG,GAElC,GAAIkG,GAAaD,EAASjF,QAAU,WAEpC,IAAyB,gBAAdkF,GAAwB,CAC/B,GAAIlF,GAAShB,EAAWmG,WAAWD,EACnC,KAAIlF,EACA,uBAAwBkF,CAE5B,OAAOlF,GAEP,MAAOkF,IASfE,UAAW,SAASC,EAAQC,GAExBD,EAAOE,KAAK,gBAAgBC,MAAM,WAC9BF,MAGJD,EAAOI,KAAKC,UAAWtI,KAAKkB,oBAQhCqH,UAAW,SAASC,GAChBA,EAAIH,KAAKC,UAAWtI,KAAKkB,oBAI7BuH,mBAAoB,SAASC,GAEzB,QAAGA,EAAU7D,OAAOnB,YAChB,SAAgBgF,EAAU7D,OAAOnB,cNkdvC,SAAS7G,EAAQD,EAASM,GAE/B,YA0BA,SAASS,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAEvF,QAAS+F,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCA1BhH/F,OAAOC,eAAepB,EAAS,cAC3BqB,OAAO,GAGX,IAAI0K,GAA4B,kBAAXC,SAAoD,gBAApBA,QAAOC,SAAwB,SAAUjL,GAAO,aAAcA,IAAS,SAAUA,GAAO,MAAOA,IAAyB,kBAAXgL,SAAyBhL,EAAIkL,cAAgBF,QAAUhL,IAAQgL,OAAO7G,UAAY,eAAkBnE,IAElQmG,EAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAIC,GAAI,EAAGA,EAAID,EAAM1B,OAAQ2B,IAAK,CAAE,GAAIC,GAAaF,EAAMC,EAAIC,GAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,SAAWF,KAAYA,EAAWG,UAAW,GAAMxG,OAAOC,eAAeiG,EAAQG,EAAWI,IAAKJ,IAAiB,MAAO,UAAUP,EAAaY,EAAYC,GAAiJ,MAA9HD,IAAYT,EAAiBH,EAAY9B,UAAW0C,GAAiBC,GAAaV,EAAiBH,EAAaa,GAAqBb,MO3rBjiBvF,EAAApB,EAAA,GP+rBKqB,EAAUZ,EAAuBW,GO9rBtCkD,EAAAtE,EAAA,GACA6L,GPisB4BpL,EAAuB6D,GOjsBnDtE,EAAA,KPqsBK8L,EAAerL,EAAuBoL,GOpsB3CrJ,EAAAxC,EAAA,IPwsBKyC,EAAUhC,EAAuB+B,GOtsBhCuJ,EP4sBa,WOrsBf,QAAAA,GAAYC,EAAW9G,GAEnB,GAFwBuB,EAAA3G,KAAAiM,GAErB,OAAS7G,GAAwB,YAAhB,mBAAOA,GAAP,YAAAuG,EAAOvG,IACvB,KAAM,IAAAzC,GAAA7B,QAAc6B,EAAA7B,QAAUqL,iBAAkB,gCAC7C,IAAgC,IAA7BpL,OAAOqL,KAAKhH,GAAMI,OACxB,KAAM,IAAA7C,GAAA7B,QAAc6B,EAAA7B,QAAUqL,iBAAkB,4BAC5C,KAAI/G,EAAKkB,eAAe,cAC5B,KAAM,IAAA3D,GAAA7B,QACF6B,EAAA7B,QAAUqL,iBACV,uGAIRnM,MAAKkM,UAAYA,EACjBlM,KAAKqM,aAAejH,EACpBpF,KAAKoF,KAAO8G,EAAU/G,UAAUC,EAAMpF,KAAM,MAC5CA,KAAKsM,kBAELtM,KAAKuM,MAAQ,GAAAP,GAAAlL,QPw1BhB,MArIAiG,GAAakF,IACTzE,IAAK,OACLvG,MAAO,WO7sBR,MAAOjB,MAAKoF,KAAKa,OAAOC,UPstBvBsB,IAAK,SACLvG,MAAO,WOhtBR,GAAImE,GAAOpF,KAAKkG,MAChBlG,MAAKoF,KAAO8G,UAAU/G,UAAUC,EAAMpF,KAAM,SPotB3CwH,IAAK,eACLvG,MAAO,SOltBCgE,GACT,GAAIkC,GAAIlC,EAAOK,OAAOe,SAAS2C,QAAQ/D,EACpCkC,GAAE,GACDlC,EAAOK,OAAOe,SAAS4C,OAAO9B,EAAG,GAErCnH,KAAK4J,cAAc,iBAAkB3E,OP4tBpCuC,IAAK,eACLvG,MAAO,SOrtBCgE,GACTjF,KAAKsM,eAAe3E,KAAK1C,GACzBjF,KAAK4J,cAAc,kBAAmB3E,OP6tBrCuC,IAAK,qBACLvG,MAAO,WOttBRjB,KAAKsM,kBACLtM,KAAK4J,cAAc,4BPmuBlBpC,IAAK,mBACLvG,MAAO,SO1tBMgE,EAAQuH,EAAcvL,EAAO6I,GAC3C9J,KAAKyM,UAAUxH,GAAQG,KAAKoH,GAAgBvL,EAC5CjB,KAAK4J,cAAc,oBAAqB3E,EAAQuH,EAAcvL,GAAQ6I,GACtE7E,EAAO2E,cAAc,cAAe4C,EAAcvL,GAAQ6I,MPsuBzDtC,IAAK,mBACLvG,MAAO,SO7tBKgE,EAAQyH,EAAUzL,EAAO6I,GACtC9J,KAAKyM,UAAUxH,GAAQU,KAAK+G,GAAYzL,EACxCjB,KAAK4J,cAAc,oBAAqB3E,EAAQyH,EAAUzL,GAAQ6I,GAClE7E,EAAO2E,cAAc,cAAe8C,EAAUzL,GAAQ6I,MPyuBrDtC,IAAK,6BACLvG,MAAO,SOhuBegE,EAAQD,EAAM/D,EAAO6I,GAC5C9J,KAAKyM,UAAUxH,GAAQW,OAAOZ,GAAQ/D,EACtCjB,KAAK4J,cAAc,8BAA+B3E,EAAQD,EAAM/D,GAAQ6I,GACxE7E,EAAO2E,cAAc,wBAAyB5E,EAAM/D,GAAQ6I,MP2uB3DtC,IAAK,0BACLvG,MAAO,SOnuBYgE,EAAQD,GAC5B,MAAOhF,MAAKyM,UAAUxH,GAAQW,OAAOZ,MPsuBpCwC,IAAK,YACLvG,MAAO,SOnuBFgE,GACN,GAAqB,YAAlB,mBAAOA,GAAP,YAAA0G,EAAO1G,IACN,MAAOA,EAEP,MAAM,wDPwuBTuC,IAAK,eACLvG,MAAO,SOpuBCmE,EAAMsG,EAAWiB,GAC1B,GAAI1H,GAASjF,KAAKkM,UAAU/G,UAAUyH,WAAY5M,KAAM6M,SAErDA,WACCA,SAASxG,SAASsB,KAAK1C,GAG3BjF,KAAK4J,cAAc,iBAAkB3E,QPwuBjCgH,IOnuBZ1K,GAAAT,QAAMgF,eAAemG,GPwuBpBrM,EAAQkB,QOtuBMmL,EPuuBdpM,EAAOD,QAAUA,EAAiB,SAI7B,SAASC,EAAQD,EAASM,GAE/B,YAgCA,SAASS,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAEvF,QAAS+F,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCQ55BjH,QAASjC,GAAaiI,GAClBA,EAAKC,WAAW,YAAa,aAAc,GAAAC,GAAAlM,SAC3CgM,EAAKC,WAAW,OAAQ,YAAa,GAAAE,GAAAnM,SACrCgM,EAAKC,WAAW,UAAW,GAAAG,GAAApM,SAC3BgM,EAAKC,WAAW,SAAU,GAAAI,GAAArM,SAC1BgM,EAAKC,WAAW,YAAa,GAAAK,GAAAtM,SAC7BgM,EAAKC,WAAW,SAAU,GAAAM,GAAAvM,SRs3B7BC,OAAOC,eAAepB,EAAS,cAC3BqB,OAAO,GAGX,IAAI8F,GAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAIC,GAAI,EAAGA,EAAID,EAAM1B,OAAQ2B,IAAK,CAAE,GAAIC,GAAaF,EAAMC,EAAIC,GAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,SAAWF,KAAYA,EAAWG,UAAW,GAAMxG,OAAOC,eAAeiG,EAAQG,EAAWI,IAAKJ,IAAiB,MAAO,UAAUP,EAAaY,EAAYC,GAAiJ,MAA9HD,IAAYT,EAAiBH,EAAY9B,UAAW0C,GAAiBC,GAAaV,EAAiBH,EAAaa,GAAqBb,MQx4BjiByG,EAAApN,EAAA,GR44BK8M,EAAcrM,EAAuB2M,GQ34B1CC,EAAArN,EAAA,IR+4BK+M,EAAatM,EAAuB4M,GQ94BzCC,EAAAtN,EAAA,IRk5BKgN,EAAWvM,EAAuB6M,GQj5BvCC,EAAAvN,EAAA,IRq5BKiN,EAAUxM,EAAuB8M,GQp5BtCC,EAAAxN,EAAA,IRw5BKkN,EAAazM,EAAuB+M,GQv5BzCC,EAAAzN,EAAA,IR25BKmN,EAAU1M,EAAuBgN,GQ/4BhCC,ER85BoB,WQ55BtB,QAAAA,GAAY/F,GAAOlB,EAAA3G,KAAA4N,GAEf/F,EAASA,GAAUA,EAEnB7H,KAAK6N,WAEFhG,EAAOhD,cACNA,EAAa7E,MRs7BpB,MApBA+G,GAAa6G,IACTpG,IAAK,YACLvG,MAAO,SQh6BF6M,EAAOlI,GACb5F,KAAK6N,QAAQlG,MACTmG,MAAOA,EACPlI,OAAQA,ORo6BX4B,IAAK,aACLvG,MAAO,SQj6BD+D,GACP,IAAI,GAAImC,GAAI,EAAGA,EAAEnH,KAAK6N,QAAQrI,OAAQ2B,IAClC,GAAGnH,KAAK6N,QAAQ1G,GAAG2G,MAAM9E,QAAQhE,IAAQ,EACrC,MAAOhF,MAAK6N,QAAQ1G,GAAGvB,MAG/B,OAAO,URq6BHgI,IAGXhO,GAAQkB,QQn6BM8M,ERo6Bd/N,EAAOD,QAAUA,EAAiB,SAI7B,SAASC,EAAQD,EAASM,GAE/B,YAYA,SAASS,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAEvF,QAAS+F,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASiH,GAA2BC,EAAMzN,GAAQ,IAAKyN,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAO1N,GAAyB,gBAATA,IAAqC,kBAATA,GAA8ByN,EAAPzN,EAElO,QAAS2N,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAItH,WAAU,iEAAoEsH,GAAeD,GAASpJ,UAAYhE,OAAOyF,OAAO4H,GAAcA,EAAWrJ,WAAa+G,aAAe7K,MAAOkN,EAAU9G,YAAY,EAAOE,UAAU,EAAMD,cAAc,KAAe8G,IAAYrN,OAAOsN,eAAiBtN,OAAOsN,eAAeF,EAAUC,GAAcD,EAASG,UAAYF,GAhBjerN,OAAOC,eAAepB,EAAS,cAC3BqB,OAAO,GAGX,IAAI8F,GAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAIC,GAAI,EAAGA,EAAID,EAAM1B,OAAQ2B,IAAK,CAAE,GAAIC,GAAaF,EAAMC,EAAIC,GAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,SAAWF,KAAYA,EAAWG,UAAW,GAAMxG,OAAOC,eAAeiG,EAAQG,EAAWI,IAAKJ,IAAiB,MAAO,UAAUP,EAAaY,EAAYC,GAAiJ,MAA9HD,IAAYT,EAAiBH,EAAY9B,UAAW0C,GAAiBC,GAAaV,EAAiBH,EAAaa,GAAqBb,MSh+BjiB9D,EAAA7C,EAAA,GTo+BKqO,EAAgB5N,EAAuBoC,GSj+BtCyL,ET2+BW,SAAU1L,GAGtB,QAAS0L,KAGL,MAFA7H,GAAgB3G,KAAMwO,GAEfT,EAA2B/N,MAAOwO,EAAUF,WAAavN,OAAO0N,eAAeD,IAAYzE,MAAM/J,KAAMuF,YAUlH,MAfA2I,GAAUM,EAAW1L,GAQrBiE,EAAayH,IACThH,IAAK,WACLvG,MAAO,WSn/BR,MAAOyN,GAAE,6BTw/BLF,GACTD,EAAczN,QAEhBlB,GAAQkB,QSt/BM0N,ETu/Bd3O,EAAOD,QAAUA,EAAiB,SAI7B,SAASC,EAAQD,EAASM,GAE/B,YAYA,SAASS,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAEvF,QAAS+F,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASiH,GAA2BC,EAAMzN,GAAQ,IAAKyN,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAO1N,GAAyB,gBAATA,IAAqC,kBAATA,GAA8ByN,EAAPzN,EAElO,QAAS2N,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAItH,WAAU,iEAAoEsH,GAAeD,GAASpJ,UAAYhE,OAAOyF,OAAO4H,GAAcA,EAAWrJ,WAAa+G,aAAe7K,MAAOkN,EAAU9G,YAAY,EAAOE,UAAU,EAAMD,cAAc,KAAe8G,IAAYrN,OAAOsN,eAAiBtN,OAAOsN,eAAeF,EAAUC,GAAcD,EAASG,UAAYF,GAhBjerN,OAAOC,eAAepB,EAAS,cAC3BqB,OAAO,GAGX,IAAI8F,GAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAIC,GAAI,EAAGA,EAAID,EAAM1B,OAAQ2B,IAAK,CAAE,GAAIC,GAAaF,EAAMC,EAAIC,GAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,SAAWF,KAAYA,EAAWG,UAAW,GAAMxG,OAAOC,eAAeiG,EAAQG,EAAWI,IAAKJ,IAAiB,MAAO,UAAUP,EAAaY,EAAYC,GAAiJ,MAA9HD,IAAYT,EAAiBH,EAAY9B,UAAW0C,GAAiBC,GAAaV,EAAiBH,EAAaa,GAAqBb,MU9gCjiBhE,EAAA3C,EAAA,GVkhCKyO,EAAmBhO,EAAuBkC,GU/gCzCsB,EVyhCa,SAAUvB,GUvhCzB,QAAAuB,KAAawC,EAAA3G,KAAAmE,EAAA,IAAAyK,GAAAb,EAAA/N,MAAAmE,EAAAmK,WAAAvN,OAAA0N,eAAAtK,IAAA5D,KAAAP,MAEL6O,YAAc,KAGdb,GALK,OAOTY,GAAK/G,OAAOiH,eAAiB,SAASC,EAAS9J,EAAQ4F,GACnD,GAAImE,GAAShB,EAAKiB,SAASF,EAAS9J,EAAQ4F,EAC5CmE,GAAOE,GAAG,QAAS,WACfjK,EAAOI,YAAY8J,iBAAiBlK,EAAQ4F,EAAS7F,KAAMgK,EAAOI,SAGtEL,EAAQ3J,KAAK,iBAAkB,WAC3B,MAAO4J,GAAOI,OAGlB,IAAInO,GAAQgE,EAAOG,KAAKyF,EAAS7F,KAE9B/D,IACC+N,EAAOI,IAAInO,GAGfgE,EAAOsE,iBAAiB,aAAc,SAASiD,EAAcvL,GACtDuL,GAAgB3B,EAAS7F,MACxBgK,EAAOI,IAAInO,KAKnB+M,EAAKqB,WAAWN,EAASC,EAAQ/J,EAAQ4F,IA9BpC+D,EV2kCZ,MAnDAV,GAAU/J,EAAavB,GAuCvBmE,EAAa5C,IACTqD,IAAK,aACLvG,MAAO,SU9hCD8N,EAASC,EAAQ/J,EAAQ4F,GAChCkE,EAAQO,OAAON,EAAQ/J,EAAQ4F,MViiC9BrD,IAAK,WACLvG,MAAO,SU/hCH8N,EAAS9J,EAAQ4F,GACtB,KAAM,yEVmiCF1G,GACTwK,EAAiB7N,QAEnBlB,GAAQkB,QUjiCMqD,EVkiCdtE,EAAOD,QAAUA,EAAiB,SAI7B,SAASC,EAAQD,GAEtB,YAUA,SAAS+G,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCARhH/F,OAAOC,eAAepB,EAAS,cAC3BqB,OAAO,GAGX,IAAI0K,GAA4B,kBAAXC,SAAoD,gBAApBA,QAAOC,SAAwB,SAAUjL,GAAO,aAAcA,IAAS,SAAUA,GAAO,MAAOA,IAAyB,kBAAXgL,SAAyBhL,EAAIkL,cAAgBF,QAAUhL,IAAQgL,OAAO7G,UAAY,eAAkBnE,IAElQmG,EAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAIC,GAAI,EAAGA,EAAID,EAAM1B,OAAQ2B,IAAK,CAAE,GAAIC,GAAaF,EAAMC,EAAIC,GAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,SAAWF,KAAYA,EAAWG,UAAW,GAAMxG,OAAOC,eAAeiG,EAAQG,EAAWI,IAAKJ,IAAiB,MAAO,UAAUP,EAAaY,EAAYC,GAAiJ,MAA9HD,IAAYT,EAAiBH,EAAY9B,UAAW0C,GAAiBC,GAAaV,EAAiBH,EAAaa,GAAqBb,MWlmC3hB/C,EXsmCgB,WWpmClB,QAAAA,GAAY+D,GAAOlB,EAAA3G,KAAA8D,GACf9D,KAAK6H,OAASA,MX+oCjB,MArCAd,GAAajD,IACT0D,IAAK,eACLvG,MAAO,SWxmCCgE,EAAQ4F,GACjB,GAAIkE,GAAUL,EAAE,0CAMhB,OAJG1O,MAAK6H,OAAOiH,gBACX9O,KAAK6H,OAAOiH,eAAeC,EAAS9J,EAAQ4F,GAGzCkE,KX2mCNvH,IAAK,aACLvG,MAAO,WWxmCR,MAAOjB,MAAK6H,OAAOgH,cAAe,KX4mCjCrH,IAAK,oBACLvG,MAAO,WWzmCR,QAASjB,KAAK6H,OAAO0H,kBX6mCpB/H,IAAK,YACLvG,MAAO,SW3mCF8N,EAAS9J,EAAQ4F,OX+mCtBrD,IAAK,WACLvG,MAAO,SW5mCH8N,GACL,GAAIS,GAAcT,EAAQ3J,KAAK,iBAC/B,IAA2B,cAAxB,mBAASoK,GAAT,YAAA7D,EAAS6D,IACR,KAAM,oCAEV,OAAOA,SXgnCH1L,IAGXlE,GAAQkB,QW9mCMgD,EX+mCdjE,EAAOD,QAAUA,EAAiB,SAI7B,SAASC,EAAQD,EAASM,GAE/B,YAYA,SAASS,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAEvF,QAAS+F,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASiH,GAA2BC,EAAMzN,GAAQ,IAAKyN,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAO1N,GAAyB,gBAATA,IAAqC,kBAATA,GAA8ByN,EAAPzN,EAElO,QAAS2N,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAItH,WAAU,iEAAoEsH,GAAeD,GAASpJ,UAAYhE,OAAOyF,OAAO4H,GAAcA,EAAWrJ,WAAa+G,aAAe7K,MAAOkN,EAAU9G,YAAY,EAAOE,UAAU,EAAMD,cAAc,KAAe8G,IAAYrN,OAAOsN,eAAiBtN,OAAOsN,eAAeF,EAAUC,GAAcD,EAASG,UAAYF,GAhBjerN,OAAOC,eAAepB,EAAS,cAC3BqB,OAAO,GAGX,IAAI8F,GAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAIC,GAAI,EAAGA,EAAID,EAAM1B,OAAQ2B,IAAK,CAAE,GAAIC,GAAaF,EAAMC,EAAIC,GAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,SAAWF,KAAYA,EAAWG,UAAW,GAAMxG,OAAOC,eAAeiG,EAAQG,EAAWI,IAAKJ,IAAiB,MAAO,UAAUP,EAAaY,EAAYC,GAAiJ,MAA9HD,IAAYT,EAAiBH,EAAY9B,UAAW0C,GAAiBC,GAAaV,EAAiBH,EAAaa,GAAqBb,MYlqCjiB9D,EAAA7C,EAAA,GZsqCKqO,EAAgB5N,EAAuBoC,GYnqCtC0M,EZ6qCU,SAAU3M,GAGrB,QAAS2M,KAGL,MAFA9I,GAAgB3G,KAAMyP,GAEf1B,EAA2B/N,MAAOyP,EAASnB,WAAavN,OAAO0N,eAAegB,IAAW1F,MAAM/J,KAAMuF,YAehH,MApBA2I,GAAUuB,EAAU3M,GAQpBiE,EAAa0I,IACTjI,IAAK,WACLvG,MAAO,SYtrCH8N,EAAS9J,EAAQ4F,GACtB,MAAO6D,GAAE,kBZyrCRlH,IAAK,aACLvG,MAAO,WYtrCR,OAAO,MZ2rCHwO,GACTlB,EAAczN,QAEhBlB,GAAQkB,QYzrCM2O,EZ0rCd5P,EAAOD,QAAUA,EAAiB,SAI7B,SAASC,EAAQD,EAASM,GAE/B,YAcA,SAASS,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAEvF,QAAS+F,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASiH,GAA2BC,EAAMzN,GAAQ,IAAKyN,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAO1N,GAAyB,gBAATA,IAAqC,kBAATA,GAA8ByN,EAAPzN,EAElO,QAAS2N,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAItH,WAAU,iEAAoEsH,GAAeD,GAASpJ,UAAYhE,OAAOyF,OAAO4H,GAAcA,EAAWrJ,WAAa+G,aAAe7K,MAAOkN,EAAU9G,YAAY,EAAOE,UAAU,EAAMD,cAAc,KAAe8G,IAAYrN,OAAOsN,eAAiBtN,OAAOsN,eAAeF,EAAUC,GAAcD,EAASG,UAAYF,GAlBjerN,OAAOC,eAAepB,EAAS,cAC3BqB,OAAO,GAGX,IAAI0K,GAA4B,kBAAXC,SAAoD,gBAApBA,QAAOC,SAAwB,SAAUjL,GAAO,aAAcA,IAAS,SAAUA,GAAO,MAAOA,IAAyB,kBAAXgL,SAAyBhL,EAAIkL,cAAgBF,QAAUhL,IAAQgL,OAAO7G,UAAY,eAAkBnE,IAElQmG,EAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAIC,GAAI,EAAGA,EAAID,EAAM1B,OAAQ2B,IAAK,CAAE,GAAIC,GAAaF,EAAMC,EAAIC,GAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,SAAWF,KAAYA,EAAWG,UAAW,GAAMxG,OAAOC,eAAeiG,EAAQG,EAAWI,IAAKJ,IAAiB,MAAO,UAAUP,EAAaY,EAAYC,GAAiJ,MAA9HD,IAAYT,EAAiBH,EAAY9B,UAAW0C,GAAiBC,GAAaV,EAAiBH,EAAaa,GAAqBb,MavtCjiB9D,EAAA7C,EAAA,Gb2tCKqO,EAAgB5N,EAAuBoC,GaxtCtC2M,EbkuCQ,SAAU5M,GAGnB,QAAS4M,KAGL,MAFA/I,GAAgB3G,KAAM0P,GAEf3B,EAA2B/N,MAAO0P,EAAOpB,WAAavN,OAAO0N,eAAeiB,IAAS3F,MAAM/J,KAAMuF,YA4B5G,MAjCA2I,GAAUwB,EAAQ5M,GAQlBiE,EAAa2I,IACTlI,IAAK,WACLvG,MAAO,Sa1uCH8N,EAAS9J,EAAQ4F,GAGtB,GAAI8E,GAAUjB,EAAE,aAEb7D,GAAS+E,UACRD,EAAQE,KAAK,YAAY,EAG7B,KAAI,GAAI1I,GAAG,EAAGA,EAAI0D,EAASiF,QAAQtK,OAAQ2B,IAAI,CAC3C,GAAI4I,GAAMlF,EAASiF,QAAQ3I,GACvB6I,EAAA,mBAAiBD,GAAjB,YAAApE,EAAiBoE,EAEN,WAAXC,GAAkC,UAAXA,EACvBL,EAAQL,OAAR,kBAAiCS,EAAjC,MAA0CA,EAA1C,aAEAJ,EAAQL,OAAR,kBAAiCS,EAAI9O,MAArC,MAAgD8O,EAAIE,MAApD,aAKR,MAAON,Ob4uCHD,GACTnB,EAAczN,QAEhBlB,GAAQkB,Qa1uCM4O,Eb2uCd7P,EAAOD,QAAUA,EAAiB,SAI7B,SAASC,EAAQD,EAASM,GAE/B,YAYA,SAASS,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAEvF,QAAS+F,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASiH,GAA2BC,EAAMzN,GAAQ,IAAKyN,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAO1N,GAAyB,gBAATA,IAAqC,kBAATA,GAA8ByN,EAAPzN,EAElO,QAAS2N,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAItH,WAAU,iEAAoEsH,GAAeD,GAASpJ,UAAYhE,OAAOyF,OAAO4H,GAAcA,EAAWrJ,WAAa+G,aAAe7K,MAAOkN,EAAU9G,YAAY,EAAOE,UAAU,EAAMD,cAAc,KAAe8G,IAAYrN,OAAOsN,eAAiBtN,OAAOsN,eAAeF,EAAUC,GAAcD,EAASG,UAAYF,GAhBjerN,OAAOC,eAAepB,EAAS,cAC3BqB,OAAO,GAGX,IAAI8F,GAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAIC,GAAI,EAAGA,EAAID,EAAM1B,OAAQ2B,IAAK,CAAE,GAAIC,GAAaF,EAAMC,EAAIC,GAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,SAAWF,KAAYA,EAAWG,UAAW,GAAMxG,OAAOC,eAAeiG,EAAQG,EAAWI,IAAKJ,IAAiB,MAAO,UAAUP,EAAaY,EAAYC,GAAiJ,MAA9HD,IAAYT,EAAiBH,EAAY9B,UAAW0C,GAAiBC,GAAaV,EAAiBH,EAAaa,GAAqBb,McvxCjiB9D,EAAA7C,EAAA,Gd2xCKqO,EAAgB5N,EAAuBoC,GcxxCtCmN,EdkyCO,SAAUpN,GAGlB,QAASoN,KAGL,MAFAvJ,GAAgB3G,KAAMkQ,GAEfnC,EAA2B/N,MAAOkQ,EAAM5B,WAAavN,OAAO0N,eAAeyB,IAAQnG,MAAM/J,KAAMuF,YAiC1G,MAtCA2I,GAAUgC,EAAOpN,GAQjBiE,EAAamJ,IACT1I,IAAK,WACLvG,MAAO,Sc3yCH8N,EAAS9J,EAAQ4F,GACtB,GAAIsF,GAAMtF,EAASsF,KAAO,EACtBC,EAAMvF,EAASuF,KAAOD,EAAM,IAC5BE,EAAOxF,EAASwF,MAAQ,CAE5B,OAAO3B,+BAA8ByB,EAA9B,UAA2CC,EAA3C,WAAyDC,EAAzD,Wd8yCN7I,IAAK,aACLvG,MAAO,Sc5yCD8N,EAASC,EAAQ/J,EAAQ4F,GAEhC,GAAIyF,GAAS5B,EAAE,2CAEf4B,GAAOC,KAAKvB,EAAOI,OAEnBL,EAAQyB,SAAS,uBAEjBzB,EAAQO,OAAOgB,GACfvB,EAAQO,OAAON,GAEf/J,EAAOsE,iBAAiB,aAAc,SAASiD,EAAcvL,GACtDuL,GAAgB3B,EAAS7F,MACxBsL,EAAOC,KAAKtP,SdkzChBiP,GACT3B,EAAczN,QAEhBlB,GAAQkB,Qc7yCMoP,Ed8yCdrQ,EAAOD,QAAUA,EAAiB,SAI7B,SAASC,EAAQD,EAASM,GAE/B,YAUA,SAASS,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAEvF,QAAS+F,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASiH,GAA2BC,EAAMzN,GAAQ,IAAKyN,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAO1N,GAAyB,gBAATA,IAAqC,kBAATA,GAA8ByN,EAAPzN,EAElO,QAAS2N,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAItH,WAAU,iEAAoEsH,GAAeD,GAASpJ,UAAYhE,OAAOyF,OAAO4H,GAAcA,EAAWrJ,WAAa+G,aAAe7K,MAAOkN,EAAU9G,YAAY,EAAOE,UAAU,EAAMD,cAAc,KAAe8G,IAAYrN,OAAOsN,eAAiBtN,OAAOsN,eAAeF,EAAUC,GAAcD,EAASG,UAAYF,GAdjerN,OAAOC,eAAepB,EAAS,cAC3BqB,OAAO,Gez1CZ,IAAA4B,GAAA3C,EAAA,Gf81CKyO,EAAmBhO,EAAuBkC,Ge31C1B4N,Efq2CL,SAAU7N,Gen2CtB,QAAA6N,KAAa9J,EAAA3G,KAAAyQ,EAAA,IAAA7B,GAAAb,EAAA/N,MAAAyQ,EAAAnC,WAAAvN,OAAA0N,eAAAgC,IAAAlQ,KAAAP,MAEL6O,YAAc,IAFT,OAOTD,GAAK/G,OAAOiH,eAAiB,SAASC,EAAS9J,EAAQ4F,GACnD,GAAImE,GAASN,EAAE,4BACfM,GAAOE,GAAG,SAAU,WAChBjK,EAAOI,YAAY8J,iBAAiBlK,EAAQ4F,EAAS7F,KAAMgK,EAAO0B,GAAG,eAGzE3B,EAAQ3J,KAAK,iBAAkB,WAC3B,MAAO4J,GAAO0B,GAAG,aAGrB,IAAIzP,GAAQgE,EAAOG,KAAKyF,EAAS7F,KAE9B/D,IACC+N,EAAOa,KAAK,YAAa5O,GAG7BgE,EAAOsE,iBAAiB,aAAc,SAASiD,EAAcvL,GACtDuL,GAAgB3B,EAAS7F,MACxBgK,EAAOa,KAAK,YAAa5O,KAIjC8N,EAAQO,OAAON,IA7BVJ,Ef24CZ,MAvCAV,GAAUuC,EAAU7N,GAuCb6N,GACT9B,EAAiB7N,QAEnBlB,GAAQkB,Qeh5CY2P,Efi5CpB5Q,EAAOD,QAAUA,EAAiB,SAI7B,SAASC,EAAQD,EAASM,GAE/B,YAYA,SAASS,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAEvF,QAAS+F,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASiH,GAA2BC,EAAMzN,GAAQ,IAAKyN,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAO1N,GAAyB,gBAATA,IAAqC,kBAATA,GAA8ByN,EAAPzN,EAElO,QAAS2N,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAItH,WAAU,iEAAoEsH,GAAeD,GAASpJ,UAAYhE,OAAOyF,OAAO4H,GAAcA,EAAWrJ,WAAa+G,aAAe7K,MAAOkN,EAAU9G,YAAY,EAAOE,UAAU,EAAMD,cAAc,KAAe8G,IAAYrN,OAAOsN,eAAiBtN,OAAOsN,eAAeF,EAAUC,GAAcD,EAASG,UAAYF,GAhBjerN,OAAOC,eAAepB,EAAS,cAC3BqB,OAAO,GAGX,IAAI8F,GAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAIC,GAAI,EAAGA,EAAID,EAAM1B,OAAQ2B,IAAK,CAAE,GAAIC,GAAaF,EAAMC,EAAIC,GAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,SAAWF,KAAYA,EAAWG,UAAW,GAAMxG,OAAOC,eAAeiG,EAAQG,EAAWI,IAAKJ,IAAiB,MAAO,UAAUP,EAAaY,EAAYC,GAAiJ,MAA9HD,IAAYT,EAAiBH,EAAY9B,UAAW0C,GAAiBC,GAAaV,EAAiBH,EAAaa,GAAqBb,MgBh6CjiB9D,EAAA7C,EAAA,GhBo6CKqO,EAAgB5N,EAAuBoC,GgBj6CvB4N,EhB26CR,SAAU7N,GAGlB,QAAS6N,KAGL,MAFAhK,GAAgB3G,KAAM2Q,GAEf5C,EAA2B/N,MAAO2Q,EAAMrC,WAAavN,OAAO0N,eAAekC,IAAQ5G,MAAM/J,KAAMuF,YAU1G,MAfA2I,GAAUyC,EAAO7N,GAQjBiE,EAAa4J,IACTnJ,IAAK,WACLvG,MAAO,WgBn7CR,MAAOyN,GAAE,8BhBw7CLiC,GACTpC,EAAczN,QAEhBlB,GAAQkB,QgB97CY6P,EhB+7CpB9Q,EAAOD,QAAUA,EAAiB,SAI7B,SAASC,EAAQD,EAASM,GAE/B,YAYA,SAASS,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAEvF,QAAS+F,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAZhH/F,OAAOC,eAAepB,EAAS,cAC3BqB,OAAO,GAGX,IAAI8F,GAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAIC,GAAI,EAAGA,EAAID,EAAM1B,OAAQ2B,IAAK,CAAE,GAAIC,GAAaF,EAAMC,EAAIC,GAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,SAAWF,KAAYA,EAAWG,UAAW,GAAMxG,OAAOC,eAAeiG,EAAQG,EAAWI,IAAKJ,IAAiB,MAAO,UAAUP,EAAaY,EAAYC,GAAiJ,MAA9HD,IAAYT,EAAiBH,EAAY9B,UAAW0C,GAAiBC,GAAaV,EAAiBH,EAAaa,GAAqBb,MiB98CjiBvF,EAAApB,EAAA,GjBk9CKqB,EAAUZ,EAAuBW,GiBh9ChCsP,EjBs9CY,WiBp9Cd,QAAAA,GAAYvL,GAAYsB,EAAA3G,KAAA4Q,GACpB5Q,KAAKqF,YAAcA,EAGnBrF,KAAK6Q,MAAQnC,6sBAiBb1O,KAAK6Q,MAAMC,OAEX9Q,KAAK+Q,cAAgB/Q,KAAK6Q,MAAM1F,KAAK,sBAGrC,IAAI6C,GAAOhO,IAEXuB,GAAAT,QAAMkK,UAAUhL,KAAK6Q,MAAO,WACxB7C,EAAKgD,UAGTtC,EAAE,QAAQY,OAAOtP,KAAK6Q,OAEtB7Q,KAAK6Q,MAAM1F,KAAK,yBAAyBC,MAAM,WAC3C4C,EAAKgD,QAEDC,QAAQC,IAAI,MACblD,EAAKmD,MACJnD,EAAKmD,SAIbnR,KAAK6Q,MAAM1F,KAAK,uBAAuBC,MAAM,WACzC4C,EAAKgD,QAEFhD,EAAKoD,KACJpD,EAAKoD,QjB49ChB,MAjBArK,GAAa6J,IACTpJ,IAAK,MACLvG,MAAO,SiBv8CRoQ,EAASC,EAAYC,GACrBvR,KAAKmR,KAAOG,EACZtR,KAAKoR,IAAMG,EAEXvR,KAAK+Q,cAAcR,KAAKc,GAExBrR,KAAK6Q,MAAMW,UjB08CVhK,IAAK,QACLvG,MAAO,WiBv8CRjB,KAAK6Q,MAAMC,WjB48CPF,IAGXhR,GAAQkB,QiB18CM8P,EjB28Cd/Q,EAAOD,QAAUA,EAAiB,SAI7B,SAASC,EAAQD,GAEtB,YAMA,SAAS+G,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASiH,GAA2BC,EAAMzN,GAAQ,IAAKyN,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAO1N,GAAyB,gBAATA,IAAqC,kBAATA,GAA8ByN,EAAPzN,EAElO,QAAS2N,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAItH,WAAU,iEAAoEsH,GAAeD,GAASpJ,UAAYhE,OAAOyF,OAAO4H,GAAcA,EAAWrJ,WAAa+G,aAAe7K,MAAOkN,EAAU9G,YAAY,EAAOE,UAAU,EAAMD,cAAc,KAAe8G,IAAYrN,OAAOsN,eAAiBtN,OAAOsN,eAAeF,EAAUC,GAAcD,EAASG,UAAYF,GARjerN,OAAOC,eAAepB,EAAS,cAC3BqB,OAAO,GASX,IkBriDKwQ,GlBqiDW,SAAU/O,GkBniDvB,QAAA+O,GAAaC,EAAWL,GAAS1K,EAAA3G,KAAAyR,EAAA,IAAA7C,GAAAb,EAAA/N,MAAAyR,EAAAnD,WAAAvN,OAAA0N,eAAAgD,IAAAlR,KAAAP,KACvBqR,GADuB,OAE7BzC,GAAK8C,UAAYA,EAFY9C,ElB+iDhC,MAXAV,GAAUuD,EAAW/O,GAWd+O,GkBjjDYxN,MAQxBwN,GAAUtF,iBAAmB,UlB8iD5BvM,EAAQkB,QkB3iDM2Q,ElB4iDd5R,EAAOD,QAAUA,EAAiB,SAI7B,SAASC,EAAQD,EAASM,GAE/B,YAoBA,SAASS,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAEvF,QAAS+F,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASiH,GAA2BC,EAAMzN,GAAQ,IAAKyN,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAO1N,GAAyB,gBAATA,IAAqC,kBAATA,GAA8ByN,EAAPzN,EAElO,QAAS2N,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAItH,WAAU,iEAAoEsH,GAAeD,GAASpJ,UAAYhE,OAAOyF,OAAO4H,GAAcA,EAAWrJ,WAAa+G,aAAe7K,MAAOkN,EAAU9G,YAAY,EAAOE,UAAU,EAAMD,cAAc,KAAe8G,IAAYrN,OAAOsN,eAAiBtN,OAAOsN,eAAeF,EAAUC,GAAcD,EAASG,UAAYF,GmBllDle,QAASuD,GAAiBC,EAAQ3M,GAC9B,GAAIwB,EAUJ,IAPIA,EADDxB,EAAOe,iBAAiB6B,OAAOpB,MACtBxB,EAAOe,iBAAiB6B,OAAOpB,MAE/BxB,EAAOc,WAGnBU,oCAA0CA,EAA1C,UAEGxB,EAAOe,iBAAiB6B,OAAOgK,eAAe,CAC7C,GAAIC,GAAU7M,EAAOe,iBAAiB6B,OAAOgK,eAAe5M,EACtC,iBAAZ6M,KACNrL,GAAS,KAAM,EAAAnF,EAAA0C,cAAa8N,IAIpCF,EAAOvL,SAAS,eAAe8E,KAAK,oBAAoB4G,QAAQzC,OAAO7I,GAW3E,QAASuL,GAAWC,EAAMhN,EAAQiN,GAC9B,GAAIxG,GAAYzG,EAAOe,iBACnBI,EAAcsF,EAAUtF,cACxBwL,EAASlD,0CAA0CzJ,EAAOY,IAAjD,MAIb+L,GAAOO,SAASD,GAIhBN,EAAOxM,KAAK,kBAAmBH,EAG/B,IAAImN,GAAS1D,oDACbkD,GAAOtC,OAAO8C,EAEd,IAAIC,GAAgB3D,EAAE,yCACtB2D,GAAcF,SAASC,GAGvBC,EAAc/C,OAAd,yCACAqC,EAAiBC,EAAQ3M,GAIzBmN,EAAOhH,MAAM,SAASkH,GACdA,EAAIC,SACJN,EAAK5M,YAAYmN,mBAAmBvN,GAExCgN,EAAK5M,YAAYoN,aAAaxN,IAGlC,IAAIyN,GAAYnR,EAAAT,QAAM2K,mBAAmBxG,EAAOe,iBAChD,IAAI0M,EAAW,CACX,GAAIC,GAAcjE,2BAA2BgE,EAA3B,SAClBL,GAAcO,QAAQD,GAI1B,GAAIvM,EAAa,CAGb,GAAIyM,GAASnE,mCACb2D,GAAcO,QAAQC,GACtBA,EAAOzH,MAAM,WACTwG,EAAOkB,YAAY,SAIvB,IAAIC,GAAWrE,iCACf2D,GAAc/C,OAAOyD,GACrBA,EAAS3H,MAAM,WACX6G,EAAKe,cAAcC,gBAAgBhO,KAIvC2M,EAAOpB,SAAS,oBAGhB,IAAI0C,GAAaxE,gCACjBwE,GAAWf,SAASP,EACpB,KAAI,GAAIzK,GAAI,EAAGA,EAAIlC,EAAOoB,SAASb,OAAQ2B,IACvC6K,EAAWC,EAAMhN,EAAOoB,SAASc,GAAI+L,GAK7C,GAAIC,GAAUzE,yCACd2D,GAAc/C,OAAO6D,GACrBA,EAAQ/H,MAAM,WAEV,GAAIiG,GAAU,uBAEXpM,GAAOe,iBAAiBI,gBAEvBiL,GAAW,oDAGfY,EAAK5M,YAAYkH,MAAM6G,IAAI/B,EAAS,WAChCY,EAAK5M,YAAYgO,aAAapO,OAOtCmN,EAAOQ,QAAQ,qCAGf,IAAIU,GAAmB,SAASC,GAC5B,GAAIrB,GAAUqB,EAASjO,OAAO,kBAE9B4M,GAAQsB,YAAY,kBACpBtB,EAAQsB,YAAY,sBACpBtB,EAAQsB,YAAY,wBACpBtB,EAAQsB,YAAY,yBACpBtB,EAAQsB,YAAY,wBACpBtB,EAAQsB,YAAY,yBAKxBpB,GAAOlD,GAAG,YAAa,SAASuE,GAC5BxB,EAAKyB,UAAY9B,EACjBA,EAAOpB,SAAS,iBAIhByB,EAAKpB,MAAML,SAAS,wBAGxB4B,EAAOlD,GAAG,UAAW,SAASuE,GAC1BxB,EAAKyB,UAAY,KACjBhF,EAAE1O,MAAMsF,OAAO,mBAAmBkO,YAAY,iBAC9CvB,EAAKpB,MAAM2C,YAAY,wBAG3BpB,EAAOlD,GAAG,YAAa,SAASuE,GAG5B,GAAIxB,EAAK0B,aAAT,CAKA,GAAIC,GAAiBxB,EAAOyB,QAAQ,iBACpC,IAA6B,IAA1BD,EAAepO,OAAlB,CAIA,GAAIsO,IAAmB,EACnBC,GAAqB,EAGrBC,EAAgB/B,EAAKgC,kBAErBhP,GAAOK,OAAOU,iBAAiBkO,eAAeF,IAC3CA,EAAchO,iBAAiBmO,gBAAgBlP,EAAOK,UAEzDwO,GAAmB,EACnB1B,EAAO9M,OAAO,mBAAmBkL,SAAS,uBAK1CpK,GACGnB,EAAOe,iBAAiBkO,eAAeF,IACvCA,EAAchO,iBAAiBmO,gBAAgBlP,KAElD8O,GAAqB,EACrB3B,EAAO9M,OAAO,mBAAmBkL,SAAS,0BAG3CuD,GAAsBD,IACrB1B,EAAO9M,OAAO,mBAAmBkL,SAAS,sBAKlD4B,EAAOlD,GAAG,YAAa,SAASuE,GAC5BH,EAAiBlB,KAGrBA,EAAOlD,GAAG,WAAY,SAASuE,GAI3B,GAAG7B,EAAOwC,SAAS,kBAAmB,CAClC,GAAIC,GAAazC,EAAO0C,SACpBC,EAAgBd,EAAEe,QAAUH,EAAYI,IACxCC,EAAkC,IAAhBH,EAAsBnC,EAAOuC,aAEnDvC,GAAO9M,OAAO,mBAAmBkO,YAAY,yBAC7CpB,EAAO9M,OAAO,mBAAmBkO,YAAY,wBAC7CpB,EAAO9M,OAAO,mBAAmBkO,YAAY,yBAMzC5B,EAAOwC,SAAS,0BAEXM,EAAkB,IAAMA,EAAkB,KAAQ9C,EAAOwC,SAAS,uBAGvExC,EAAOpB,SAAS,yBAGZkE,GAAmB,GACnB9C,EAAOpB,SAAS,yBACTpK,GAAenB,EAAOoB,SAASb,OAAS,EAC3CoM,EAAOwC,SAAS,wBAChBxC,EAAOpB,SAAS,yBAEhBoB,EAAOpB,SAAS,yBAGpBoB,EAAOpB,SAAS,wBAIxBiD,EAAEmB,oBAIVxC,EAAOlD,GAAG,OAAQ,SAASuE,GAGvB,GAFAA,EAAEmB,iBAEChD,EAAOwC,SAAS,kBAAkB,CACjC,GAAIJ,GAAgB/B,EAAKgC,kBACzB,IAAGD,GAAiBA,IAAkB/O,EAAO,CACzC,GAAI4P,GAAgB,IACjBjD,GAAOwC,SAAS,0BACf7S,EAAAT,QAAMkJ,mBAAmB/E,EAAQ+O,GACjCa,EAAgB,UACTjD,EAAOwC,SAAS,yBACvB7S,EAAAT,QAAMqJ,kBAAkBlF,EAAQ+O,GAChCa,EAAgB,SACTjD,EAAOwC,SAAS,2BACvB7S,EAAAT,QAAMuJ,aAAapF,EAAQ+O,GAC3Ba,EAAgB,UAGjBA,GACC5C,EAAK5M,YAAYuE,cAAc,eAAgBoK,EAAe/O,EAAQ4P,IAG9EvB,EAAiB5E,EAAE1O,UAQ/B,QAAS8U,GAAgBzP,EAAa2I,GAElC3I,EAAYkE,iBAAiB,cAAe,SAASwL,EAAa9N,EAAQ4N,GACtE,GAAIG,GAAUhH,EAAK6C,MAAM1F,KAAX,aAA6BlE,EAAOpB,IAApC,KACVoP,EAASjH,EAAK6C,MAAM1F,KAAX,aAA6B4J,EAAYlP,IAAzC,IACb,QAAOgP,GACH,IAAK,SACDI,EAAO9C,SAAS6C,EAAQ7J,KAAK,kBAAkB+J,QAC/C,MACJ,KAAK,QACDD,EAAOE,YAAYH,EACnB,MACJ,KAAK,SACDC,EAAOG,aAAaJ,EACpB,MACJ,SACI/D,QAAQoE,MAAR,0BAAwCR,MAIpDxP,EAAYkE,iBAAiB,gBAAiB,SAAStE,GACnD+I,EAAK6C,MAAM1F,KAAX,aAA6BlG,EAAOY,IAApC,KAA4CyP,WAIhDjQ,EAAYkE,iBAAiB,iBAAkB,SAAStE,GACpD+I,EAAK6C,MAAM1F,KAAX,aAA6BlG,EAAOY,IAApC,KAA4C2K,SAAS,0BAGzDnL,EAAYkE,iBAAiB,qBAAsB,WAC/CyE,EAAK6C,MAAM1F,KAAK,yBAAyBqI,YAAY,0BAGzDnO,EAAYkE,iBAAiB,mBAAoB,SAAStE,EAAQ4F,EAAU5J,GACxE0Q,EAAiB3D,EAAK6C,MAAM1F,KAAX,aAA6BlG,EAAOY,IAApC,KAA6CZ,KAGlEI,EAAYkE,iBAAiB,cAAe,SAAStE,GACjD,GAEIsQ,GAFAC,EAAWvQ,EAAOK,OAAOO,GAM1B2P,IAAYnQ,EAAYD,KAAKS,IAC5B0P,EAAQvH,EAAK6C,MAAM1F,KAAX,eAERoK,EAAQvH,EAAK6C,MAAM1F,KAAX,aAA6BqK,EAA7B,KAA0CrK,KAAK,kBAAkB+J,QACzEjE,QAAQC,IAAIqE,IAGhBvD,EAAWhE,EAAM/I,EAAQsQ,KnB8vChCxU,OAAOC,eAAepB,EAAS,cAC3BqB,OAAO,GAGX,IAAI8F,GAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAIC,GAAI,EAAGA,EAAID,EAAM1B,OAAQ2B,IAAK,CAAE,GAAIC,GAAaF,EAAMC,EAAIC,GAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,SAAWF,KAAYA,EAAWG,UAAW,GAAMxG,OAAOC,eAAeiG,EAAQG,EAAWI,IAAKJ,IAAiB,MAAO,UAAUP,EAAaY,EAAYC,GAAiJ,MAA9HD,IAAYT,EAAiBH,EAAY9B,UAAW0C,GAAiBC,GAAaV,EAAiBH,EAAaa,GAAqBb,MmBnkDjiBvF,EAAApB,EAAA,GnBukDKqB,EAAUZ,EAAuBW,GmBrkDtCQ,EAAA5B,EAAA,InBykDK6B,EAAkBpB,EAAuBmB,GmBxkD9C2T,EAAAvV,EAAA,InB4kDKwV,EAAc/U,EAAuB8U,GmB1wCpCrS,EnBwjDM,SAAUuS,GmBtjDlB,QAAAvS,GAAYiC,GAAYsB,EAAA3G,KAAAoD,EAAA,IAAAwL,GAAAb,EAAA/N,MAAAoD,EAAAkL,WAAAvN,OAAA0N,eAAArL,IAAA7C,KAAAP,MAEpB4O,GAAKiC,MAAML,SAAS,0BACpB5B,EAAK8E,UAAY,KACjB9E,EAAKvJ,YAAcA,EAEnBuJ,EAAKgH,QAAUlH,mNASfE,EAAKiC,MAAMvB,OAAOV,EAAKgH,SACvBhH,EAAKoE,cAAgB,GAAAjR,GAAAjB,QAAkBuE,EAGvC,IAAI2I,KAGA6H,EAAanH,qHAtBG,OAuBpBE,GAAKgH,QAAQzK,KAAK,OAAOmE,OAAOuG,GAChCA,EAAWzK,MAAM,WACb4C,EAAKgF,cAAcC,oBAKvBrE,EAAKkH,OACLhB,EAAgBzP,EAAhBuJ,GA/BoBA,EnBsnDvB,MA/DAV,GAAU9K,EAAMuS,GA+BhB5O,EAAa3D,IACToE,IAAK,OACLvG,MAAO,WmBnjDRjB,KAAK6Q,MAAM1F,KAAK,cAAcmK,QAE9B,IAAIpD,GAAUxD,0CACdwD,GAAQC,SAASnS,KAAK6Q,MAItB,KAAI,GAFAzL,GAAOpF,KAAKqF,YAAYD,KAEpB+B,EAAI,EAAGA,EAAI/B,EAAKiB,SAASb,OAAQ2B,IACrC6K,EAAWhS,KAAMoF,EAAKiB,SAASc,GAAI+K,MnByjDtC1K,IAAK,aACLvG,MAAO,WmBrjDR,MAA0B,QAAnBjB,KAAK0T,anByjDXlM,IAAK,oBACLvG,MAAO,WmBtjDR,MAAOjB,MAAK0T,anB0jDXlM,IAAK,mBACLvG,MAAO,WmBvjDR,MAAOjB,MAAK0T,UAAUtO,KAAK,uBnB4jDvBhC,GACTsS,EAAY5U,QAEdlB,GAAQkB,QmB1jDMsC,EnB2jDdvD,EAAOD,QAAUA,EAAiB,SAI7B,SAASC,EAAQD,EAASM,GAE/B,YAgBA,SAASS,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF;EAEvF,QAAS+F,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCoBt9DjH,QAASiP,GAAmBhQ,EAAY2F,GAEpC,GAAIsK,EAGAA,GADAtK,EAAU7D,OAAOpB,MACHiF,EAAU7D,OAAOpB,MAEjBV,CAGlB,IAAI2M,GAAYnR,EAAAT,QAAM2K,mBAAmBC,EACrCgH,KACAA,EAAY,gCAEhB,IAAIuD,gBAAoBvD,EAApB,SAGAwD,EAAgBxH,0EACwDsH,EADxD,uBAC0FjQ,EAD1F,0CAEakQ,EAFb,qDAGoBD,EAHpB,yBAQpB,OAAOE,GpB66DVnV,OAAOC,eAAepB,EAAS,cAC3BqB,OAAO,GAGX,IAAI8F,GAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAIC,GAAI,EAAGA,EAAID,EAAM1B,OAAQ2B,IAAK,CAAE,GAAIC,GAAaF,EAAMC,EAAIC,GAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,SAAWF,KAAYA,EAAWG,UAAW,GAAMxG,OAAOC,eAAeiG,EAAQG,EAAWI,IAAKJ,IAAiB,MAAO,UAAUP,EAAaY,EAAYC,GAAiJ,MAA9HD,IAAYT,EAAiBH,EAAY9B,UAAW0C,GAAiBC,GAAaV,EAAiBH,EAAaa,GAAqBb,MoB78DjiBvF,EAAApB,EAAA,GpBi9DKqB,EAAUZ,EAAuBW,GoBh9DtC6U,EAAAjW,EAAA,IpBo9DKkW,EAA6BzV,EAAuBwV,GoBr7DnD5S,EpBg9De,WoB98DjB,QAAAA,GAAY8B,GAAYsB,EAAA3G,KAAAuD,GAEpBvD,KAAKqF,YAAcA,EAEnBrF,KAAK6Q,MAAQnC,yuBAkBb1O,KAAK6Q,MAAMC,OAEX9Q,KAAKqW,YAAcrW,KAAK6Q,MAAM1F,KAAK,2BAGnC,IAAI6C,GAAOhO,IAEXuB,GAAAT,QAAMkK,UAAUhL,KAAK6Q,MAAO,WACxB7C,EAAK6C,MAAMC,SAGfpC,EAAE,QAAQY,OAAOtP,KAAK6Q,OAEtB7Q,KAAK6Q,MAAM1F,KAAK,yBAAyBC,MAAM,WAC3C,IAAGsD,EAAE1O,MAAMsW,KAAK,YAAhB,CAIAtI,EAAKgD,OAEL,IAAIuF,GAAgBvI,EAAK6C,MAAM1F,KAAK,qCAAqCmL,KAAK,oBAC1EhR,EAASoJ,EAAE1O,MAAMoF,KAAK,eAGtBoR,EAAe,GAAAJ,GAAAtV,QAA6BuE,EAAakR,EAC7DC,GAAahQ,OAAOlB,EAAQ,SAASmR,GACjCnR,EAAOe,SAASsB,KAAK8O,GAErBzI,EAAK3I,YAAYuE,cAAc,eAAgB6M,IAE/CzI,EAAK3I,YAAYmN,qBACjBxE,EAAK3I,YAAYoN,aAAagE,QpBw/DzC,MArDA1P,GAAaxD,IACTiE,IAAK,kBACLvG,MAAO,SoB97DI0L,GAERA,IACAA,EAAe3M,KAAKqF,YAAYD,KAGpC,IAAIsR,GAAkB/J,EAAa3G,iBAC/B2Q,EAAe3W,KAAKqF,YAAY6G,UAAUvH,QAE1CiS,IAEJ,KAAI,GAAIzP,KAAKwP,GACND,EAAgBxC,eAAeyC,EAAaxP,KAAOwP,EAAaxP,GAAGgN,gBAAgBuC,KAClFE,EAAmBzP,GAAKwP,EAAaxP,GAK7CnH,MAAKqW,YAAYtE,OAEjB,KAAI,GAAI5K,KAAMyP,GAAmB,CAC7B,GAAIC,GAAQd,EAAmB5O,EAAGyP,EAAmBzP,GACrDnH,MAAKqW,YAAY/G,OAAOuH,GAG5B,GAAI7I,GAAOhO,IAEXA,MAAK6Q,MAAM1F,KAAK,yBAAyBmL,KAAK,YAAY,GAC1DtW,KAAK6Q,MAAM1F,KAAK,yBAAyB/F,KAAK,cAAeuH,GAC7D3M,KAAK6Q,MAAM1F,KAAK,yBAAyBoF,KAAK,0BAE9CvQ,KAAKqW,YAAYlL,KAAK,uBAAuBC,MAAM,WAC/C4C,EAAKqI,YAAYlL,KAAK,kBAAkBqI,YAAY,iBACpD9E,EAAE1O,MAAMwQ,SAAS,iBAEjBxC,EAAK6C,MAAM1F,KAAK,yBAAyB2L,WAAW,YAAY,GAChE9I,EAAK6C,MAAM1F,KAAK,yBAAyBoF,KAAK,uBAGpB,GAA3BvQ,KAAKqW,YAAY7Q,QAChBxF,KAAKqW,YAAYhQ,WAAW6O,QAAQ6B,QAAQ,SAGhD/W,KAAK6Q,MAAMW,UpBg8DVhK,IAAK,QACLvG,MAAO,WoB77DRjB,KAAK6Q,MAAMC,WpBk8DPvN,IAGX3D,GAAQkB,QoBh8DMyC,EpBi8Dd1D,EAAOD,QAAUA,EAAiB,SAI7B,SAASC,EAAQD,EAASM,GAE/B,YAgBA,SAASS,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAEvF,QAAS+F,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAhBhH/F,OAAOC,eAAepB,EAAS,cAC3BqB,OAAO,GAGX,IAAI8F,GAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAIC,GAAI,EAAGA,EAAID,EAAM1B,OAAQ2B,IAAK,CAAE,GAAIC,GAAaF,EAAMC,EAAIC,GAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,SAAWF,KAAYA,EAAWG,UAAW,GAAMxG,OAAOC,eAAeiG,EAAQG,EAAWI,IAAKJ,IAAiB,MAAO,UAAUP,EAAaY,EAAYC,GAAiJ,MAA9HD,IAAYT,EAAiBH,EAAY9B,UAAW0C,GAAiBC,GAAaV,EAAiBH,EAAaa,GAAqBb,MqB/lEjiBvF,EAAApB,EAAA,GrBmmEKqB,EAAUZ,EAAuBW,GqBlmEtC0V,EAAA9W,EAAA,IrBsmEK+W,EAAsBtW,EAAuBqW,GqBhmE7BE,ErB0mEW,WqBlmE5B,QAAAA,GAAY7R,EAAaU,GAAWY,EAAA3G,KAAAkX,EAChC,IAAIxL,GAAYrG,EAAY6G,UAAUhH,qBAAqBa,EAE3D/F,MAAKqF,YAAcA,EACnBrF,KAAK0L,UAAYA,EACjB1L,KAAK+F,WAAaA,ErB0qErB,MA3DAgB,GAAamQ,IACT1P,IAAK,SACLvG,MAAO,SqB9mELqE,EAAQ6R,EAASC,GAEpB,GAAIhS,IACAW,WAAY/F,KAAK+F,WACjBX,SAGAyE,EAAa7J,KAAK0L,UAAU7D,OAAOgC,UAGvC,KAAIA,EAEA,WADAsN,GAAQnX,KAAKqF,YAAY6G,UAAU/G,UAAUC,EAAMpF,KAAKqF,YAAaC,GAKzE,KAAI,GAAI6B,GAAI,EAAGA,EAAI0C,EAAWrE,OAAQ2B,IAC/B0C,EAAW1C,GAAGb,eAAe,kBAC5BlB,EAAKA,KAAKyE,EAAW1C,GAAGnC,MAAQ6E,EAAW1C,GAAGkQ,aAKtD,IAAIZ,GAAYzW,KAAKqF,YAAY6G,UAAU/G,UAAUC,EAAMpF,KAAKqF,YAAaC,GAEzEmB,EAAQzG,KAAK0L,UAAU7D,OAAOpB,OAASzG,KAAK+F,WAG5CuR,EAAatX,KAAK6Q,MAAQnC,+TAKoCjI,EALpC,sYAgB9BlF,GAAAT,QAAMkK,UAAUsM,EAAY,WACrBF,GACCA,EAAOpX,MAEXsX,EAAWvF,QACXuF,EAAWhC,UAKf,IAAIiC,IAAW,EAAAN,EAAAnW,SAAkB2V,EAAWzW,KAAKqF,YAAY6G,UAAUtH,WACvE2S,GAAS/G,SAAS,wBAElB8G,EAAWnM,KAAK,uBAAuBmE,OAAOiI,GAG9CD,EAAWnM,KAAK,yBAAyBC,MAAM,WACxC+L,IACCA,EAAQV,GACRa,EAAWvF,QACXuF,EAAWhC,YAKnB5G,EAAE,QAAQY,OAAOgI,OrBkmEbJ,IAGXtX,GAAQkB,QqB1rEYoW,ErB2rEpBrX,EAAOD,QAAUA,EAAiB,SAI7B,SAASC,EAAQD,EAASM,GAE/B,YAeA,SAASS,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GsBhtEzE,QAAS4W,GAAkBvS,EAAQL,GAE9C,GAAI6S,UAEA/L,EAAYzG,EAAOe,iBACnB6D,EAAa6B,EAAU7D,OAAOgC,cAElC4N,GAAW/I,EAAE,SAEb,KAAI,GAAIvH,GAAI,EAAGA,EAAE0C,EAAWrE,OAAQ2B,IAAI,CACpC,GAAI0D,GAAWhB,EAAW1C,GAEtBnC,EAAO6F,EAAS7F,KAChBiL,EAAQpF,EAASoF,OAASjL,EAI1B0S,EAAahJ,EAAE,kCAGnBgJ,GAAWpI,OAAOZ,YAAYuB,EAAZ,YAGlB,IAAIlB,GAAU4I,EAAgB9M,EAAU5F,EAAQyS,EAAY9S,EAGzDiG,GAAS+M,SACRF,EAAWpI,OAAX,mEAAqFzE,EAAS+M,QAA9F,aAID/M,EAASgN,UACRC,EAAajN,EAAUkE,EAAS9J,GAIhC4F,EAASkN,QACTC,EAAWnN,EAAU6M,EAAYzS,GAIrCwS,EAASnI,OAAOoI,GAIpB,MAAOD,GAIX,QAASO,GAAWnN,EAAUkE,EAAS9J,GACnCA,EAAOsE,iBAAiB,aAAc,WAC9BsB,EAASkN,OAAO9S,EAAOG,MACvB2J,EAAQyE,YAAY,aAEpBzE,EAAQyB,SAAS,eAKrB3F,EAASkN,OAAO9S,EAAOG,OACvB2J,EAAQyB,SAAS,aAUzB,QAASsH,GAAajN,EAAUkE,EAAS9J,GACrC,GAAIgT,GAAcvJ,EAAE,2BAEpBuJ,GAAY7C,aAAarG,EAEzB,IAAImJ,GAAgDzS,SAA/BR,EAAOG,KAAKyF,EAAS7F,OAAsD,OAA/BC,EAAOG,KAAKyF,EAAS7F,KACnFkT,GACCnJ,EAAQ+B,OAERmH,EAAY3B,KAAK,WAAW,GAIhC2B,EAAY/I,GAAG,SAAU,WAErB,GAAIiJ,GAAalT,EAAOI,YAAY+S,wBAAwBnT,EAAQ,aAGpE,IAFAkT,EAAaA,MAEVnY,KAAKqY,QAAQ,CAEZ,GAAIpX,SAEAA,GADDkX,EAAWtN,EAAS7F,MACXmT,EAAWtN,EAAS7F,MACrB6F,EAASyN,cACRzN,EAASyN,cAET,GAGZrT,EAAOI,YAAY8J,iBAAiBlK,EAAQ4F,EAAS7F,KAAM/D,OAG3DkX,GAAWtN,EAAS7F,MAAQC,EAAOG,KAAKyF,EAAS7F,MACjDC,EAAOI,YAAYkT,2BAA2BtT,EAAQ,aAAckT,GAGpElT,EAAOI,YAAY8J,iBAAiBlK,EAAQ4F,EAAS7F,KAAM,QAKnEC,EAAOsE,iBAAiB,aAAc,SAASiD,EAAcvL,GACtDuL,GAAgB3B,EAAS7F,OACX,OAAV/D,GACC8N,EAAQyC,OACRyG,EAAYpI,KAAK,WAAW,KAE5BoI,EAAYpI,KAAK,WAAW,GAC5Bd,EAAQ+B,WAQxB,QAAS6G,GAAgB9M,EAAU5F,EAAQyS,EAAY9S,GAEnD,GAAIgB,GAASrE,EAAAT,QAAM8J,kBAAkBC,EAAUjG,EAE/C,IAAGiG,EAAS2N,qBAAuB5S,EAAOiJ,cAAgBjJ,EAAO6S,oBAAoB,CAEjF,GAAIC,GAAchK,EAAE,yDAEpB,IAAG9I,EAAO6S,oBAENC,EAAYtN,MAAM,WACdxF,EAAOiC,OAAO0H,eAAetK,EAAQ4F,SAEtC,CAEH,GAAI8N,GAAoB,GAAAC,GAAA9X,QAAsBmE,EAAQ4F,EAEtD6N,GAAYtN,MAAM,WACduN,EAAkBnH,SAK1B,MADAkG,GAAWpI,OAAOoJ,GACXA,EAKP,GAAI3J,GAAUnJ,EAAOiT,aAAa5T,EAAQ4F,EAG1C,OAFA6M,GAAWpI,OAAOP,GAClBnJ,EAAOkT,UAAU/J,EAAS9J,EAAQ4F,GAC3BkE,EtBsiEdhO,OAAOC,eAAepB,EAAS,cAC3BqB,OAAO,IAEXrB,EAAQkB,QsBtsEe0W,CAHxB,IAAAlW,GAAApB,EAAA,GtB6sEKqB,EAAUZ,EAAuBW,GsB5sEtCyX,EAAA7Y,EAAA,ItBgtEK0Y,EAAsBjY,EAAuBoY,EAiKjDlZ,GAAOD,QAAUA,EAAiB,SAI7B,SAASC,EAAQD,EAASM,GAE/B,YAYA,SAASS,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAEvF,QAAS+F,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAZhH/F,OAAOC,eAAepB,EAAS,cAC3BqB,OAAO,GAGX,IAAI8F,GAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAIC,GAAI,EAAGA,EAAID,EAAM1B,OAAQ2B,IAAK,CAAE,GAAIC,GAAaF,EAAMC,EAAIC,GAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,SAAWF,KAAYA,EAAWG,UAAW,GAAMxG,OAAOC,eAAeiG,EAAQG,EAAWI,IAAKJ,IAAiB,MAAO,UAAUP,EAAaY,EAAYC,GAAiJ,MAA9HD,IAAYT,EAAiBH,EAAY9B,UAAW0C,GAAiBC,GAAaV,EAAiBH,EAAaa,GAAqBb,MuBl4EjiBvF,EAAApB,EAAA,GvBs4EKqB,EAAUZ,EAAuBW,GuBp4EhC0X,EvB04EmB,WuBx4ErB,QAAAA,GAAY/T,EAAQ4F,GAASlE,EAAA3G,KAAAgZ,GAEzBhZ,KAAKiF,OAASA,EACdjF,KAAK6K,SAAWA,CAEhB,IAAIoF,GAAQpF,EAASoF,OAASpF,EAAS7F,IAEvChF,MAAK6Q,MAAQnC,wRAKiDuB,EALjD,uYAgBbjQ,KAAK6Q,MAAMC,OAEX9Q,KAAK+Q,cAAgB/Q,KAAK6Q,MAAM1F,KAAK,sBAErC,IAAIvF,GAASrE,EAAAT,QAAM8J,kBAAkBC,EAAU5F,EAAOI,YAAY6G,UAAUtH,YACxEmK,EAAUnJ,EAAOiT,aAAa5T,EAAQ4F,EAE1C7K,MAAK+Q,cAAczB,OAAOP,GAC1BnJ,EAAOkT,UAAU/J,EAAS9J,EAAQ4F,EAElC,IAAImD,GAAOhO,IAEXuB,GAAAT,QAAMkK,UAAUhL,KAAK6Q,MAAO,WACxB7C,EAAK6C,MAAMC,OACX9C,EAAKoJ,WAGT1I,EAAE,QAAQY,OAAOtP,KAAK6Q,OAEtB7Q,KAAK6Q,MAAM1F,KAAK,yBAAyBC,MAAM,WAC3C4C,EAAKgD,QACDpL,EAAOiJ,cACPjJ,EAAOqT,SAASlK,KvBs5E3B,MArBAhI,GAAaiS,IACTxR,IAAK,OACLvG,MAAO,WuB53ERjB,KAAKkZ,WAAalZ,KAAKiF,OAAOG,KAAKpF,KAAK6K,SAAS7F,MACjDhF,KAAK6Q,MAAMW,UvBg4EVhK,IAAK,QACLvG,MAAO,WuB73ERjB,KAAK6Q,MAAMC,UvBi4EVtJ,IAAK,SACLvG,MAAO,WuB93ELjB,KAAKsG,eAAe,gBACnBtG,KAAKiF,OAAOI,YAAY8J,iBAAiBnP,KAAKiF,OAAQjF,KAAK6K,SAAS7F,KAAMhF,KAAKkZ,kBACxElZ,MAAKkZ,gBvBo4EZF,IAGXpZ,GAAQkB,QuB/3EMkY,EvBg4EdnZ,EAAOD,QAAUA,EAAiB,SAI7B,SAASC,EAAQD,GAEtB,YAQA,SAAS+G,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCANhH/F,OAAOC,eAAepB,EAAS,cAC3BqB,OAAO,GAGX,IAAI8F,GAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAIC,GAAI,EAAGA,EAAID,EAAM1B,OAAQ2B,IAAK,CAAE,GAAIC,GAAaF,EAAMC,EAAIC,GAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,SAAWF,KAAYA,EAAWG,UAAW,GAAMxG,OAAOC,eAAeiG,EAAQG,EAAWI,IAAKJ,IAAiB,MAAO,UAAUP,EAAaY,EAAYC,GAAiJ,MAA9HD,IAAYT,EAAiBH,EAAY9B,UAAW0C,GAAiBC,GAAaV,EAAiBH,EAAaa,GAAqBb,MwBv9E3hBsS,ExB29EW,WwB19Eb,QAAAA,KAAaxS,EAAA3G,KAAAmZ,GACTnZ,KAAK6Q,MAAQnC,EAAE,sCxBu+ElB,MAPA3H,GAAaoS,IACT3R,IAAK,mBACLvG,MAAO,WwB99ER,MAAOjB,MAAK6Q,UxBm+ERsI,IAGXvZ,GAAQkB,QwBj+EMqY,ExBk+EdtZ,EAAOD,QAAUA,EAAiB,SAI7B,SAASC,EAAQD,EAASM,GAE/B,YAwBA,SAASS,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAEvF,QAAS+F,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASiH,GAA2BC,EAAMzN,GAAQ,IAAKyN,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAO1N,GAAyB,gBAATA,IAAqC,kBAATA,GAA8ByN,EAAPzN,EAElO,QAAS2N,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAItH,WAAU,iEAAoEsH,GAAeD,GAASpJ,UAAYhE,OAAOyF,OAAO4H,GAAcA,EAAWrJ,WAAa+G,aAAe7K,MAAOkN,EAAU9G,YAAY,EAAOE,UAAU,EAAMD,cAAc,KAAe8G,IAAYrN,OAAOsN,eAAiBtN,OAAOsN,eAAeF,EAAUC,GAAcD,EAASG,UAAYF,GyBrgFle,QAAS4D,GAAWoH,EAASnU,EAAQiN,GACjC,GAAIxG,GAAYzG,EAAOe,iBACnBI,EAAcsF,EAAUtF,cACxBwL,EAASlD,gDACqCzJ,EAAOY,IAD5C,OAITwT,EAAoB3N,EAAU7D,OAAOuR,WAWzC,IATGC,EAAkBC,eACjBD,EAAkBC,cAAc1H,EAAQ3M,GAG5C2M,EAAOO,SAASD,GAGhBN,EAAOxM,KAAK,kBAAmBH,GAE3BmB,EAAa,CAEbwL,EAAOpB,SAAS,oBAGhB,IAAI0C,GAAaxE,8DACjBwE,GAAWf,SAASP,GAEjByH,EAAkBE,mBACjBF,EAAkBE,kBAAkBrG,EAAYjO,GAKpDuU,EAAqB5H,EAAQ3M,KAE7B,KAAI,GAAIkC,GAAI,EAAGA,EAAIlC,EAAOoB,SAASb,OAAQ2B,IACvC6K,EAAWoH,EAASnU,EAAOoB,SAASc,GAAI+L,OAIzC,CACH,GAAIuG,GAAa/K,6CACjB+K,GAAWtH,SAASP,GACjByH,EAAkBK,0BACjBL,EAAkBK,yBAAyBD,EAAYxU,GAG3DuU,EAAqB5H,EAAQ3M,OAKrC,QAASuU,GAAqB5H,EAAQ3M,EAAQuD,GAC1C,GAAI4Q,GAAUnU,EAAOe,iBAAiB6B,OAAOuR,OAC7C,IAAGA,GAAWA,EAAQO,aAAa,CAC/B,GAAIF,GAAa7H,EAAOzG,KAAK,yBAAyB+J,OAEnDuE,GAAWjU,OAAS,GACnB4T,EAAQO,aAAa/H,EAAQ6H,EAAYxU,EAAQuD,IzBg7E5DzH,OAAOC,eAAepB,EAAS,cAC3BqB,OAAO,GAGX,IAAI8F,GAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAIC,GAAI,EAAGA,EAAID,EAAM1B,OAAQ2B,IAAK,CAAE,GAAIC,GAAaF,EAAMC,EAAIC,GAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,SAAWF,KAAYA,EAAWG,UAAW,GAAMxG,OAAOC,eAAeiG,EAAQG,EAAWI,IAAKJ,IAAiB,MAAO,UAAUP,EAAaY,EAAYC,GAAiJ,MAA9HD,IAAYT,EAAiBH,EAAY9B,UAAW0C,GAAiBC,GAAaV,EAAiBH,EAAaa,GAAqBb,MyBz/EjiB4O,EAAAvV,EAAA,IzB6/EKwV,EAAc/U,EAAuB8U,GyB5/E1CnU,EAAApB,EAAA,GzBggFKqB,EAAUZ,EAAuBW,GyB//EtCY,EAAAhC,EAAA,IzBmgFKiC,EAAexB,EAAuBuB,GyBlgF3CM,EAAAtC,EAAA,IzBsgFKuC,EAAwB9B,EAAuB6B,GyB97E9Ca,EzBsgFS,SAAUsS,GyBpgFrB,QAAAtS,GAAYgC,EAAayK,GAAQnJ,EAAA3G,KAAAqD,EAAA,IAAAuL,GAAAb,EAAA/N,MAAAqD,EAAAiL,WAAAvN,OAAA0N,eAAApL,IAAA9C,KAAAP,MAG7B8P,GAAUA,MAEVlB,EAAKiC,MAAML,SAAS,gBAEpB5B,EAAKgL,QAAUlL,+NASf,IAAImL,GAAoB/J,EAAQxJ,eAAe,cAAiBwJ,EAAQgK,WAAa,OAIlFhK,GAAQxJ,eAAe,UACtBsI,EAAKmL,OAASjK,EAAQiK,QAEtBnL,EAAKmL,OAAS,GAAA5X,GAAArB,QACX+Y,KAAsB,GACrBjL,EAAKmL,OAAOzK,OAAO,GAAA7M,GAAA3B,QAAA8N,KAGxBA,EAAKmL,QACJnL,EAAKiC,MAAMvB,OAAOV,EAAKmL,OAAOlJ,OAGlCjC,EAAKoL,QAAUpL,EAAKgL,QAAQzO,KAAK,uBACjCyD,EAAKiC,MAAMvB,OAAOV,EAAKgL,SAEvBhL,EAAKvJ,YAAcA,EAEnBuJ,EAAKkH,OAELlH,EAAKqL,UAAUJ,EAEf,IAAI7L,IAzCyB,OA6C7B3I,GAAYkE,iBAAiB,cAAe,SAASwL,EAAa9N,EAAQ4N,GACtE,GAAIG,GAAUhH,EAAK6C,MAAM1F,KAAX,aAA6BlE,EAAOpB,IAApC,KACVoP,EAASjH,EAAK6C,MAAM1F,KAAX,aAA6B4J,EAAYlP,IAAzC,IACb,QAAOgP,GACH,IAAK,SACDI,EAAO9C,SAAS6C,EAAQ7J,KAAK,0BAA0B+J,QACvD,MACJ,KAAK,QACDD,EAAOE,YAAYH,EACnB,MACJ,KAAK,SACDC,EAAOG,aAAaJ,EACpB,MACJ,SACI/D,QAAQoE,MAAR,0BAAwCR,MAIpDxP,EAAYkE,iBAAiB,gBAAiB,SAAStE,GACnD+I,EAAK6C,MAAM1F,KAAX,aAA6BlG,EAAOY,IAApC,KAA4CyP,WAGhDjQ,EAAYkE,iBAAiB,cAAe,SAAStE,GACjD,GAEIsQ,GAFAC,EAAWvQ,EAAOK,OAAOO,GAO1B2P,IAAYnQ,EAAYD,KAAKS,IAC5B0P,EAAQvH,EAAKgM,SAEbzE,EAAQvH,EAAK6C,MAAM1F,KAAX,aAA6BqK,EAA7B,KACRD,EAAQA,EAAMlP,SAAS,0BAA0B6O,SAIrDlD,EAAWhE,EAAM/I,EAAQsQ,KAG7BlQ,EAAYkE,iBAAiB,iBAAkB,SAAStE,GACpD+I,EAAK6C,MAAM1F,KAAX,aAA6BlG,EAAOY,IAApC,KAA4C2K,SAAS,0BAGzDnL,EAAYkE,iBAAiB,qBAAsB,WAC/CyE,EAAK6C,MAAM1F,KAAK,yBAAyBqI,YAAY,0BAGzDnO,EAAYkE,iBAAiB,mBAAoB,SAAStE,EAAQ4F,EAAU5J,GACxEuY,EAAqBxL,EAAK6C,MAAM1F,KAAX,aAA6BlG,EAAOY,IAApC,KAA6CZ,EAAQjF,QA/FjD4O,EzBwoFhC,MAnIAV,GAAU7K,EAASsS,GA4FnB5O,EAAa1D,IACTmE,IAAK,OACLvG,MAAO,WyB//ERjB,KAAKga,QAAQjI,OAIb,KAAI,GAFA3M,GAAOpF,KAAKqF,YAAYD,KAEpB+B,EAAI,EAAGA,EAAI/B,EAAKiB,SAASb,OAAQ2B,IACrC6K,EAAWhS,KAAMoF,EAAKiB,SAASc,GAAInH,KAAKga,YzB0gF3CxS,IAAK,YACLvG,MAAO,SyBngFFiZ,GACNla,KAAK8Z,WAAaI,CAGlB,IAAIC,GAAgBna,KAAK6Q,MAAMyF,KAAK,cACjC6D,IACCna,KAAK6Q,MAAM2C,YAAX,eAAsC2G,GAGvCD,EACCla,KAAK6Q,MAAML,SAAX,mCAAuD0J,GAEvDla,KAAK6Q,MAAM2C,YAAX,uBAGJxT,KAAK6Q,MAAMyF,KAAK,cAAe4D,GAC/Bla,KAAK4J,cAAc,iBAAkBsQ,EAAQC,QzBugFzC9W,GACTqS,EAAY5U,QyBlgFfS,GAAAT,QAAMgF,eAAezC,GzBsgFpBzD,EAAQkB,QyBpgFMuC,EzBqgFdxD,EAAOD,QAAUA,EAAiB,SAI7B,SAASC,EAAQD,GAEtB,YAUA,SAAS+G,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCARhH/F,OAAOC,eAAepB,EAAS,cAC3BqB,OAAO,GAGX,IAAI0K,GAA4B,kBAAXC,SAAoD,gBAApBA,QAAOC,SAAwB,SAAUjL,GAAO,aAAcA,IAAS,SAAUA,GAAO,MAAOA,IAAyB,kBAAXgL,SAAyBhL,EAAIkL,cAAgBF,QAAUhL,IAAQgL,OAAO7G,UAAY,eAAkBnE,IAElQmG,EAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAIC,GAAI,EAAGA,EAAID,EAAM1B,OAAQ2B,IAAK,CAAE,GAAIC,GAAaF,EAAMC,EAAIC,GAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,SAAWF,KAAYA,EAAWG,UAAW,GAAMxG,OAAOC,eAAeiG,EAAQG,EAAWI,IAAKJ,IAAiB,MAAO,UAAUP,EAAaY,EAAYC,GAAiJ,MAA9HD,IAAYT,EAAiBH,EAAY9B,UAAW0C,GAAiBC,GAAaV,EAAiBH,EAAaa,GAAqBb,M0BzuF3hBnD,E1B6uFY,W0B3uFd,QAAAA,KAAaiD,EAAA3G,KAAA0D,GACT1D,KAAK6Q,MAAQnC,EAAE,oD1B4wFlB,MA3BA3H,GAAarD,IACT8D,IAAK,SACLvG,MAAO,S0BhvFLmZ,GACH,GAAIC,GAAA,mBAAwBD,GAAxB,YAAAzO,EAAwByO,GAExB7G,QAEJ,IAAqB,WAAlB8G,EACC,OAAQD,GACJ,IAAK,KACD7G,EAAW7E,EAAE,8BACb,MACJ,KAAK,IACD6E,EAAW7E,EAAE,iCACb,MACJ,SACI6E,EAAW7E,2BAA2B0L,EAA3B,aAGK,WAAlBC,IACN9G,EAAW6G,EAAQvJ,MAGvB7Q,MAAK6Q,MAAMxK,SAAS,MAAMiJ,OAAOiE,O1BovF7B7P,IAGX9D,GAAQkB,Q0BjvFM4C,E1BkvFd7D,EAAOD,QAAUA,EAAiB,SAI7B,SAASC,EAAQD,GAEtB,YAMA,SAAS+G,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAJhH/F,OAAOC,eAAepB,EAAS,cAC3BqB,OAAO,GAKX,I2BjyFK4C,GAEF,QAAAA,GAAYuV,GAAQzS,EAAA3G,KAAA6D,GAChB7D,KAAKoZ,QAAUA,EAEfpZ,KAAK6Q,MAAQnC,60BAsBb,IAAIV,GAAOhO,IAEXA,MAAK6Q,MAAM1F,KAAK,kBAAkBC,MAAM,WACpC,GAAI8O,GAASxL,EAAE1O,MAAMsW,KAAK,cAC1B8C,GAAQa,UAAUC,KAKtBd,EAAQ7P,iBAAiB,gBAAiB,SAAS+Q,EAAWC,GAE1DvM,EAAK6C,MAAM1F,KAAK,8BAA8BqI,YAAY,eAC1DxF,EAAK6C,MAAM1F,KAAX,8BAA8CmP,EAA9C,KAA4D9J,SAAS,iB3B+wFhF5Q,GAAQkB,Q2BxwFM+C,E3BywFdhE,EAAOD,QAAUA,EAAiB,SAI7B,SAASC,EAAQD,EAASM,GAE/B,YA0BA,SAASS,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAEvF,QAAS+F,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASiH,GAA2BC,EAAMzN,GAAQ,IAAKyN,EAAQ,KAAM,IAAIC,gBAAe,4DAAgE,QAAO1N,GAAyB,gBAATA,IAAqC,kBAATA,GAA8ByN,EAAPzN,EAElO,QAAS2N,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAItH,WAAU,iEAAoEsH,GAAeD,GAASpJ,UAAYhE,OAAOyF,OAAO4H,GAAcA,EAAWrJ,WAAa+G,aAAe7K,MAAOkN,EAAU9G,YAAY,EAAOE,UAAU,EAAMD,cAAc,KAAe8G,IAAYrN,OAAOsN,eAAiBtN,OAAOsN,eAAeF,EAAUC,GAAcD,EAASG,UAAYF,G4Bl1Fle,QAAS4D,GAAWwI,EAAgBvV,GAEhCuV,EAAeC,mBAAmBpU,WAAWyK,MAC7C,IAAI2G,SAEA+C,GAAeE,cAAcpU,eAAerB,EAAOY,MACnD4R,EAAW+C,EAAeE,cAAczV,EAAOY,KAC/C4R,EAASjG,SAETiG,GAAW,EAAAR,EAAAnW,SAAkBmE,EAAQuV,EAAe5V,YACpD4V,EAAeE,cAAczV,EAAOY,KAAO4R,EAC3C+C,EAAeC,mBAAmBnL,OAAOmI,I5ByyFhD1W,OAAOC,eAAepB,EAAS,cAC3BqB,OAAO,G4Bh0FZ,IAAAuD,GAAAtE,EAAA,GACAoB,G5Bo0F4BX,EAAuB6D,G4Bp0FnDtE,EAAA,IACA6Y,G5Bu0FepY,EAAuBW,G4Bv0FtCpB,EAAA,KACAuV,G5B00F2B9U,EAAuBoY,G4B10FlD7Y,EAAA,K5B80FKwV,EAAc/U,EAAuB8U,G4B70F1CuB,EAAA9W,EAAA,I5Bi1FK+W,EAAsBtW,EAAuBqW,G4BxzF5C1T,E5Bs1FwB,SAAUqS,G4Bp1FpC,QAAArS,GAAY+B,GAAYsB,EAAA3G,KAAAsD,EAAA,IAAAsL,GAAAb,EAAA/N,MAAAsD,EAAAgL,WAAAvN,OAAA0N,eAAAnL,IAAA/C,KAAAP,MAEpB4O,GAAK8L,iBAEL9L,EAAKiC,MAAML,SAAS,mDACpB5B,EAAKiC,MAAMvB,OAAOZ,qKAQlBE,EAAK6L,mBAAqB/L,iDAC1BE,EAAKiC,MAAMvB,OAAOV,EAAK6L,oBAIvB7L,EAAKvJ,YAAcA,EACnBuJ,EAAKhK,WAAaS,EAAY6G,UAAUtH,UAGxC,IAAIoJ,IAtBgB,OAyBpB3I,GAAYkE,iBAAiB,gBAAiB,SAAStE,GACnD+I,EAAKyM,mBAAmBpU,WAAWyK,SAGvCzL,EAAYkE,iBAAiB,iBAAkB,SAAStE,GACpD+M,EAAWhE,EAAM/I,KAErBI,EAAYkE,iBAAiB,qBAAsB,SAAStE,GACxD+I,EAAKyM,mBAAmBpU,WAAWyK,SAjCnBlC,E5Bs3FvB,MAjCAV,GAAU5K,EAAwBqS,GAiC3BrS,GACToS,EAAY5U,QAEdlB,GAAQkB,Q4Bn1FMwC,E5Bo1FdzD,EAAOD,QAAUA,EAAiB,SAI7B,SAASC,EAAQD,GAEtB,YAQA,SAAS+G,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCANhH/F,OAAOC,eAAepB,EAAS,cAC3BqB,OAAO,GAGX,IAAI8F,GAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAIC,GAAI,EAAGA,EAAID,EAAM1B,OAAQ2B,IAAK,CAAE,GAAIC,GAAaF,EAAMC,EAAIC,GAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,SAAWF,KAAYA,EAAWG,UAAW,GAAMxG,OAAOC,eAAeiG,EAAQG,EAAWI,IAAKJ,IAAiB,MAAO,UAAUP,EAAaY,EAAYC,GAAiJ,MAA9HD,IAAYT,EAAiBH,EAAY9B,UAAW0C,GAAiBC,GAAaV,EAAiBH,EAAaa,GAAqBb,M6Br6F3hBrD,E7By6FU,W6Bv6FZ,QAAAA,GAAY6B,GAAYsB,EAAA3G,KAAAwD,GACpBxD,KAAKqF,YAAcA,EACnBrF,KAAK6Q,MAAQnC,EAAE,gCAEf1O,KAAK2a,YAAcjM,EAAE,+BACrB1O,KAAK2a,YAAYxI,SAASnS,KAAK6Q,OAE/B7Q,KAAK4a,YAAclM,EAAE,yDACrB1O,KAAK4a,YAAYC,UAAU7a,KAAK6Q,OAEhC7Q,KAAK8a,aAAepM,EAAE,0DACtB1O,KAAK8a,aAAa3I,SAASnS,KAAK6Q,O7By9FnC,MA5CA9J,GAAavD,IACTgE,IAAK,mBACLvG,MAAO,S6B56FK8Z,GACbA,EAAUC,mBAAmB7I,SAASnS,KAAK2a,gB7B+6F1CnT,IAAK,oBACLvG,MAAO,S6B76FM8Z,GACdA,EAAUC,mBAAmB7I,SAASnS,KAAK4a,aAC3C5a,KAAKib,oB7Bg7FJzT,IAAK,qBACLvG,MAAO,S6B96FO8Z,GACfA,EAAUC,mBAAmB7I,SAASnS,KAAK8a,cAC3C9a,KAAKkb,qB7Bi7FJ1T,IAAK,kBACLvG,MAAO,W6B96FRjB,KAAK8a,aAAatH,YAAY,gB7Bk7F7BhM,IAAK,kBACLvG,MAAO,W6B/6FRjB,KAAK8a,aAAatK,SAAS,gB7Bm7F1BhJ,IAAK,iBACLvG,MAAO,W6Bh7FRjB,KAAK4a,YAAYpH,YAAY,gB7Bo7F5BhM,IAAK,iBACLvG,MAAO,W6Bj7FRjB,KAAK4a,YAAYpK,SAAS,gB7Bq7FzBhJ,IAAK,WACLvG,MAAO,S6Bn7FHmZ,GACL1L,EAAE0L,GAAS9K,OAAOtP,KAAK6Q,W7Bu7FnBrN,IAGX5D,GAAQkB,Q6Br7FM0C,E7Bs7Fd3D,EAAOD,QAAUA,EAAiB,SAI7B,SAASC,EAAQD,GAEtB,Y8Bh/Fc,SAAS6D,GAAcqM,GAElC,GAAIqL,KAeJ,OAbIrL,GAAQsL,WACRD,EAAezB,yBAA2B,SAAU2B,EAAUpW,GAC1D,GAAIqW,GAAS5M,EAAEoB,EAAQsL,SACvBC,GAAS/L,OAAOgM,GAEhB,GAAIC,MACAC,GAAIF,EAAO,GACXlW,KAAMH,EAAOG,SAMlB+V,E9Bi+FVpa,OAAOC,eAAepB,EAAS,cAC3BqB,OAAO,IAEXrB,EAAQkB,Q8Br/Fe2C,E9BwgGvB5D,EAAOD,QAAUA,EAAiB,SAI7B,SAASC,EAAQD,GAEtB,YAQA,SAAS+G,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCANhH/F,OAAOC,eAAepB,EAAS,cAC3BqB,OAAO,GAGX,IAAI8F,GAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAIC,GAAI,EAAGA,EAAID,EAAM1B,OAAQ2B,IAAK,CAAE,GAAIC,GAAaF,EAAMC,EAAIC,GAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,SAAWF,KAAYA,EAAWG,UAAW,GAAMxG,OAAOC,eAAeiG,EAAQG,EAAWI,IAAKJ,IAAiB,MAAO,UAAUP,EAAaY,EAAYC,GAAiJ,MAA9HD,IAAYT,EAAiBH,EAAY9B,UAAW0C,GAAiBC,GAAaV,EAAiBH,EAAaa,GAAqBb,M+BphG3hBjD,E/BwhGc,W+BvhGhB,QAAAA,GAAY6X,EAAMC,GAAO/U,EAAA3G,KAAA4D,GAErB5D,KAAK6Q,MAAQnC,mCACb1O,KAAK2b,QAAUjN,iCAAiC+M,EAAjC,aACfzb,KAAK2b,QAAQxJ,SAASnS,KAAK6Q,MAE3B,IAAI7C,GAAOhO,IAEXA,MAAK2b,QAAQvQ,MAAM,SAASqI,GACxBiI,EAAOnb,KAAKyN,Q/BmjGnB,MAtBAjH,GAAanD,IACT4D,IAAK,gBACLvG,MAAO,S+B1hGE2a,GACV5b,KAAK2b,QAAQnL,SAAS,eAAiBoL,M/B6hGtCpU,IAAK,UACLvG,MAAO,S+B3hGJwa,GACJzb,KAAK2b,QAAQpL,KAAKkL,M/B8hGjBjU,IAAK,OACLvG,MAAO,W+B3hGRjB,KAAK6Q,MAAML,SAAS,gB/B+hGnBhJ,IAAK,OACLvG,MAAO,W+B5hGRjB,KAAK6Q,MAAM2C,YAAY,iB/BiiGnB5P,IAGXhE,GAAQkB,Q+B/hGM8C,E/BgiGd/D,EAAOD,QAAUA,EAAiB","file":"veol.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Veol\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Veol\"] = factory();\n\telse\n\t\troot[\"Veol\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Veol\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Veol\"] = factory();\n\telse\n\t\troot[\"Veol\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _PageMaker = __webpack_require__(1);\n\t\n\tvar _PageMaker2 = _interopRequireDefault(_PageMaker);\n\t\n\tvar _WidgetDefinition = __webpack_require__(3);\n\t\n\tvar _WidgetDefinition2 = _interopRequireDefault(_WidgetDefinition);\n\t\n\tvar _utils = __webpack_require__(4);\n\t\n\tvar _utils2 = _interopRequireDefault(_utils);\n\t\n\tvar _Tree = __webpack_require__(17);\n\t\n\tvar _Tree2 = _interopRequireDefault(_Tree);\n\t\n\tvar _Preview = __webpack_require__(23);\n\t\n\tvar _Preview2 = _interopRequireDefault(_Preview);\n\t\n\tvar _WidgetPropertiesEditor = __webpack_require__(26);\n\t\n\tvar _WidgetPropertiesEditor2 = _interopRequireDefault(_WidgetPropertiesEditor);\n\t\n\tvar _WidgetCreator = __webpack_require__(18);\n\t\n\tvar _WidgetCreator2 = _interopRequireDefault(_WidgetCreator);\n\t\n\tvar _Viewport = __webpack_require__(27);\n\t\n\tvar _Viewport2 = _interopRequireDefault(_Viewport);\n\t\n\tvar _ToolboxBar = __webpack_require__(24);\n\t\n\tvar _ToolboxBar2 = _interopRequireDefault(_ToolboxBar);\n\t\n\tvar _vueJsPreview = __webpack_require__(28);\n\t\n\tvar _vueJsPreview2 = _interopRequireDefault(_vueJsPreview);\n\t\n\tvar _SimpleButton = __webpack_require__(29);\n\t\n\tvar _SimpleButton2 = _interopRequireDefault(_SimpleButton);\n\t\n\tvar _PreviewDeviceSwitch = __webpack_require__(25);\n\t\n\tvar _PreviewDeviceSwitch2 = _interopRequireDefault(_PreviewDeviceSwitch);\n\t\n\tvar _Error = __webpack_require__(16);\n\t\n\tvar _Error2 = _interopRequireDefault(_Error);\n\t\n\tvar _PropertyEditor = __webpack_require__(9);\n\t\n\tvar _PropertyEditor2 = _interopRequireDefault(_PropertyEditor);\n\t\n\tvar _SimpleInput = __webpack_require__(8);\n\t\n\tvar _SimpleInput2 = _interopRequireDefault(_SimpleInput);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t// Editor\n\t\n\t\n\t// Gui\n\tvar Veol = {\n\t    PageMaker: _PageMaker2.default,\n\t    WidgetDefinition: _WidgetDefinition2.default,\n\t\n\t    Gui: {\n\t        Tree: _Tree2.default,\n\t        Preview: _Preview2.default,\n\t        WidgetPropertiesEditor: _WidgetPropertiesEditor2.default,\n\t        WidgetCreator: _WidgetCreator2.default,\n\t        Viewport: _Viewport2.default,\n\t        vueJsPreview: _vueJsPreview2.default,\n\t        ToolboxBar: _ToolboxBar2.default,\n\t        ToolboxAction: {\n\t            SimpleButton: _SimpleButton2.default,\n\t            PreviewDeviceSwitch: _PreviewDeviceSwitch2.default\n\t        }\n\t    },\n\t\n\t    PropertyEditor: _PropertyEditor2.default,\n\t\n\t    utils: _utils2.default,\n\t    titleDetails: _utils.titleDetails,\n\t\n\t    Error: _Error2.default,\n\t\n\t    _currentZIndex: 1500\n\t\n\t};\n\t\n\t// Toolbax action\n\t\n\t\n\tVeol.PropertyEditor.SimpleInput = _SimpleInput2.default;\n\t\n\texports.default = Veol;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _widgetList = __webpack_require__(2);\n\t\n\tvar _widgetList2 = _interopRequireDefault(_widgetList);\n\t\n\tvar _Application = __webpack_require__(5);\n\t\n\tvar _Application2 = _interopRequireDefault(_Application);\n\t\n\tvar _utils = __webpack_require__(4);\n\t\n\tvar _utils2 = _interopRequireDefault(_utils);\n\t\n\tvar _PropertyEditorPool = __webpack_require__(6);\n\t\n\tvar _PropertyEditorPool2 = _interopRequireDefault(_PropertyEditorPool);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar widgetInstanceId = 10000;\n\t\n\tvar PageMaker = function PageMaker() {\n\t    this.widgets = {};\n\t\n\t    this.editorPool = new _PropertyEditorPool2.default({\n\t        loadDefaults: true\n\t    });\n\t\n\t    this.addWidgetDefinition(\"widget-list\", new _widgetList2.default());\n\t};\n\t\n\tPageMaker.prototype.addWidgetDefinition = function (name, widget) {\n\t    this.widgets[name] = widget;\n\t};\n\t\n\t/**\n\t * Find a widget by its name among the internally registered widgets\n\t * @param name\n\t * @returns {*}\n\t */\n\tPageMaker.prototype.findWidgetDefinition = function (name) {\n\t    var widget = this.widgets[name];\n\t    if (!widget) {\n\t        throw 'No widget named ' + name + ' was found';\n\t    } else {\n\t        return widget;\n\t    }\n\t};\n\t\n\t/**\n\t * Parse input data to associate a widget definition to widget data\n\t * @param data\n\t */\n\tPageMaker.prototype.parseData = function (data, application) {\n\t    var parent = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\t\n\t    var newData = {};\n\t\n\t    // TODO: provide a deep copy of data.data\n\t    newData.data = data.data || {};\n\t    newData.meta = data.meta || {};\n\t    newData.editor = data.editor || {};\n\t    newData.wid = widgetInstanceId++;\n\t    newData.parent = parent;\n\t    newData.application = application;\n\t\n\t    _utils2.default.makeObservable(newData, true);\n\t\n\t    if (data.widgetName) {\n\t        newData.widgetName = data.widgetName;\n\t        newData.widgetDefinition = this.findWidgetDefinition(data.widgetName);\n\t\n\t        newData.helper = {\n\t            save: function save() {\n\t                return newData.widgetDefinition.onSave(newData);\n\t            }\n\t        };\n\t\n\t        if (newData.widgetDefinition.isContainer()) {\n\t            if (data.children && data.children.length > 0) {\n\t                newData.children = [];\n\t                for (var c in data.children) {\n\t                    if (data.children.hasOwnProperty(c)) {\n\t                        newData.children[c] = this.parseData(data.children[c], application, newData);\n\t                    }\n\t                }\n\t            } else {\n\t                newData.children = [];\n\t            }\n\t        }\n\t    }\n\t\n\t    return newData;\n\t};\n\t\n\t/**\n\t * Creates an application with the given data\n\t * @param data\n\t * @returns {Application}\n\t */\n\tPageMaker.prototype.createApplication = function (data) {\n\t    return new _Application2.default(this, data);\n\t};\n\t\n\texports.default = PageMaker;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _WidgetDefinition = __webpack_require__(3);\n\t\n\tvar _WidgetDefinition2 = _interopRequireDefault(_WidgetDefinition);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = _WidgetDefinition2.default.create({\n\t    isContainer: true,\n\t\n\t    title: 'Groupe',\n\t\n\t    faIconName: 'folder'\n\t});\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _utils = __webpack_require__(4);\n\t\n\tvar _utils2 = _interopRequireDefault(_utils);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar WidgetDefinition = function () {\n\t    function WidgetDefinition() {\n\t        _classCallCheck(this, WidgetDefinition);\n\t    }\n\t\n\t    _createClass(WidgetDefinition, [{\n\t        key: 'onSave',\n\t        value: function onSave(widget) {\n\t            var data = {\n\t                widgetName: widget.widgetName\n\t            };\n\t\n\t            if (this.isContainer()) {\n\t                data.children = [];\n\t                for (var c in widget.children) {\n\t                    if (widget.children.hasOwnProperty(c)) {\n\t                        data.children.push(widget.children[c].helper.save());\n\t                    }\n\t                }\n\t            }\n\t\n\t            if (widget.data && Object.getOwnPropertyNames(widget.data).length > 0) {\n\t                data.data = widget.data;\n\t            }\n\t\n\t            if (widget.meta && Object.getOwnPropertyNames(widget.meta).length > 0) {\n\t                data.meta = widget.meta;\n\t            }\n\t\n\t            if (widget.editor && Object.getOwnPropertyNames(widget.editor).length > 0) {\n\t                data.editor = widget.editor;\n\t            }\n\t\n\t            return data;\n\t        }\n\t    }, {\n\t        key: 'isContainer',\n\t        value: function isContainer() {\n\t            return this.config.isContainer === true;\n\t        }\n\t\n\t        /**\n\t         * Check if the given widget is acceptable as a child of this widget\n\t         * @param widget\n\t         * @returns {*}\n\t         */\n\t\n\t    }, {\n\t        key: 'allowedAsChild',\n\t        value: function allowedAsChild(widget) {\n\t            var types = void 0;\n\t            if (widget.widgetDefinition) {\n\t                types = widget.widgetDefinition.config.types;\n\t            } else {\n\t                types = widget.config.types;\n\t            }\n\t            return _utils2.default.whitelistBlacklistChecker(this.config.childrenWhitelist, this.config.childrenBlacklist, types);\n\t        }\n\t\n\t        /**\n\t         * Check if the given widget is acceptable as a parent of this widget\n\t         * @param widget\n\t         * @returns {*}\n\t         */\n\t\n\t    }, {\n\t        key: 'allowedAsParent',\n\t        value: function allowedAsParent(widget) {\n\t            var types = void 0;\n\t            if (widget.widgetDefinition) {\n\t                types = widget.widgetDefinition.config.types;\n\t            } else {\n\t                types = widget.config.types;\n\t            }\n\t            return _utils2.default.whitelistBlacklistChecker(this.config.parentWhitelist, this.config.parentBlacklist, types);\n\t        }\n\t    }]);\n\t\n\t    return WidgetDefinition;\n\t}();\n\t\n\t/**\n\t * @param {Object} config\n\t * @param {boolean} [config.isContainer=false] true if the widget is a container. A container will accept children widget\n\t * @param {Array} [config.types=[]] types are used for widget child/parent acceptance.\n\t * See childrenWhiteList, childrenBlacklist, parentWhiteList and parentBlackList options\n\t * @param {Array} [config.childrenWhitelist] allowed children. By default all children are allowed.\n\t * @param {Array} [config.childrenBlacklist] forbidden children. By default all children no child is forbidden.\n\t * @param {Array} [config.parentWhitelist] allowed parents. By default all parents are allowed.\n\t * @param {Array} [config.parentBlacklist] forbidden parents. By default all children no parent is forbidden.\n\t *\n\t *\n\t *\n\t * @param {boolean} [config.preview] array of callbacks that can be called during rendering\n\t *\n\t * @param {boolean} [config.preview.onCreateContainer] called when the container dom element is created\n\t * but not populated yet. This method is called only when config.isContainer is set to true.\n\t *\n\t * @param {boolean} [config.preview.afterCreateContainer] called after the container dom element is created\n\t * and populated. This method is called only when config.isContainer is set to true.\n\t *\n\t * @param {boolean} [config.preview.onPreview] called when the preview dom element is created\n\t * but not populated yet, only when config.isContainer is false\n\t\n\t * @param {boolean} [config.preview.onDataChange] called when the preview dom element is created\n\t * but not populated yet, This method is called only when config.isContainer is set to false\n\t *\n\t * @param {boolean} [config.preview.onCreateOuter] called when the outer div containing the element is created\n\t *\n\t * @returns {WidgetDefinition} createdWidget\n\t */\n\t\n\t\n\tWidgetDefinition.create = function (config) {\n\t    config = config || {};\n\t    var Widget_ = function Widget_() {\n\t        this.config = config;\n\t        this.config.data = this.config.data || {};\n\t    };\n\t    Widget_.prototype = Object.create(WidgetDefinition.prototype);\n\t    return Widget_;\n\t};\n\t\n\tWidgetDefinition.fastInstance = function (config) {\n\t    var widget = WidgetDefinition.create(config);\n\t    return new widget();\n\t};\n\t\n\texports.default = WidgetDefinition;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\tvar insertWidgetAt = function insertWidgetAt(insertWidget, at, inParent) {\n\t\n\t    if (insertWidget.parent) {\n\t        var indexInBaseParent = insertWidget.parent.children.indexOf(insertWidget);\n\t        insertWidget.parent.children.splice(indexInBaseParent, 1);\n\t\n\t        // If inserted in the same parent we might need to correct the index\n\t        if (inParent === insertWidget.parent && at >= indexInBaseParent) {\n\t            at--;\n\t        }\n\t    }\n\t\n\t    inParent.children.splice(at, 0, insertWidget);\n\t\n\t    insertWidget.parent = inParent;\n\t};\n\t\n\tvar arrayContainsOneOf = function arrayContainsOneOf(testArray, dataArray) {\n\t    for (var i = 0; i < dataArray.length; i++) {\n\t        if (testArray.indexOf(dataArray[i]) >= 0) {\n\t            return true;\n\t        }\n\t    }\n\t    return false;\n\t};\n\t\n\tfunction createEvent(data) {\n\t    var stopped = false;\n\t    var event = {\n\t        stop: function stop() {\n\t            stopped = true;\n\t        },\n\t\n\t        isStopped: function isStopped() {\n\t            return stopped;\n\t        },\n\t\n\t        data: data || {}\n\t    };\n\t\n\t    return event;\n\t}\n\t\n\tvar titleDetails = function titleDetails(title) {\n\t    return '<span class=\\'veol-title-details\\'>' + title + '</span>';\n\t};\n\t\n\texports.titleDetails = titleDetails;\n\texports.default = {\n\t\n\t    /**\n\t     * Extends the prototype of the given object to be observable (and compatible with RxJS)\n\t     * @param target\n\t     * @param directBind by default observable methods are added on the prototype but it's possible to add them\n\t     * directly as object properties by passing this param to true\n\t     */\n\t    makeObservable: function makeObservable(target, directBind) {\n\t\n\t        var realTarget;\n\t        if (directBind) {\n\t            realTarget = target;\n\t        } else {\n\t            realTarget = target.prototype;\n\t        }\n\t\n\t        realTarget.addEventListener = function (name, callback) {\n\t            var eventTarget = directBind ? realTarget : this;\n\t\n\t            if (!eventTarget.hasOwnProperty('__veol_callbacks')) {\n\t                eventTarget.__veol_callbacks = {};\n\t            }\n\t\n\t            if (!eventTarget.__veol_callbacks.hasOwnProperty(name)) {\n\t                eventTarget.__veol_callbacks[name] = [];\n\t            }\n\t\n\t            eventTarget.__veol_callbacks[name].push(callback);\n\t        };\n\t\n\t        realTarget.removeEventListener = function (name, callback) {\n\t            var eventTarget = directBind ? realTarget : this;\n\t\n\t            if (eventTarget.hasOwnProperty('__veol_callbacks') && eventTarget.__veol_callbacks.hasOwnProperty(name)) {\n\t                for (var i = eventTarget.__veol_callbacks[name].length - 1; i >= 0; i--) {\n\t                    if (eventTarget.__veol_callbacks[name][i] === callback) {\n\t                        eventTarget.__veol_callbacks[name].splice(i, 1);\n\t                    }\n\t                }\n\t            }\n\t        };\n\t\n\t        realTarget.dispatchEvent = function (name, properties, eventData) {\n\t            var eventTarget = directBind ? realTarget : this;\n\t\n\t            var event = createEvent(eventData);\n\t\n\t            if (eventTarget.hasOwnProperty('__veol_callbacks') && eventTarget.__veol_callbacks.hasOwnProperty(name)) {\n\t                for (var i = 0; i < eventTarget.__veol_callbacks[name].length; i++) {\n\t                    eventTarget.__veol_callbacks[name][i].apply(event, properties);\n\t                    if (event.isStopped()) {\n\t                        break;\n\t                    }\n\t                }\n\t            }\n\t        };\n\t    },\n\t\n\t    insertWidgetBefore: function insertWidgetBefore(beforeWidget, insertWidget) {\n\t        var parent = beforeWidget.parent;\n\t        if (!parent) {\n\t            throw 'target widget has no parent';\n\t        }\n\t        if (!parent.children) {\n\t            throw 'target widget has invalid parent (no children registered)';\n\t        }\n\t\n\t        var index = parent.children.indexOf(beforeWidget);\n\t        if (index === -1) {\n\t            throw 'target widget has invalid parent (widget not found in parent)';\n\t        }\n\t\n\t        insertWidgetAt(insertWidget, index, parent);\n\t    },\n\t\n\t    insertWidgetAfter: function insertWidgetAfter(afterWidget, insertWidget) {\n\t        var parent = afterWidget.parent;\n\t        if (!parent) {\n\t            throw 'target widget has no parent';\n\t        }\n\t        if (!parent.children) {\n\t            throw 'target widget has invalid parent (no children registered)';\n\t        }\n\t\n\t        var index = parent.children.indexOf(afterWidget) + 1;\n\t        if (index === -1) {\n\t            throw 'target widget has invalid parent (widget not found in parent)';\n\t        }\n\t\n\t        insertWidgetAt(insertWidget, index, parent);\n\t    },\n\t\n\t    appendWidget: function appendWidget(parent, insertWidget) {\n\t        if (!parent.children) {\n\t            throw 'target widget has invalid parent (no children registered)';\n\t        }\n\t        insertWidgetAt(insertWidget, parent.children.length, parent);\n\t    },\n\t\n\t    insertWidgetAt: insertWidgetAt,\n\t\n\t    domIndexOf: function domIndexOf(child, parent) {\n\t        return Array.prototype.indexOf.call(parent.children, child);\n\t    },\n\t\n\t\n\t    arrayContainsOneOf: arrayContainsOneOf,\n\t\n\t    whitelistBlacklistChecker: function whitelistBlacklistChecker(whiteList, blackList, items) {\n\t        items = items || [];\n\t        // If is in blacklist\n\t        if (blackList && blackList.length > 0 && arrayContainsOneOf(blackList, items)) {\n\t            return false;\n\t        }\n\t        // If not in whitelist\n\t        return !(whiteList && whiteList.length > 0) || arrayContainsOneOf(whiteList, items);\n\t    },\n\t\n\t\n\t    /**\n\t     * Get the editor for the given property using the given editor pool\n\t     * @param property\n\t     * @param editorPool\n\t     * @returns {*}\n\t     */\n\t    getPropertyEditor: function getPropertyEditor(property, editorPool) {\n\t\n\t        var editorName = property.editor || 'textfield';\n\t\n\t        if (typeof editorName == 'string') {\n\t            var editor = editorPool.findEditor(editorName);\n\t            if (!editor) {\n\t                throw 'Unknown editor ' + editorName;\n\t            }\n\t            return editor;\n\t        } else {\n\t            return editorName;\n\t        }\n\t    },\n\t\n\t    /**\n\t     * Bind a modal to be responsive to use interaction (close buttons)\n\t     * @param $modal\n\t     * @param closeHandler\n\t     */\n\t    bindModal: function bindModal($modal, closeHandler) {\n\t\n\t        $modal.find('[veol-close]').click(function () {\n\t            closeHandler();\n\t        });\n\t\n\t        $modal.css({ 'z-index': Veol._currentZIndex++ });\n\t    },\n\t\n\t    /**\n\t     * Bind a modal to be responsive to use interaction (close buttons)\n\t     * @param $el\n\t     */\n\t    setZIndex: function setZIndex($el) {\n\t        $el.css({ 'z-index': Veol._currentZIndex++ });\n\t    },\n\t\n\t    getWidgetIconClass: function getWidgetIconClass(widgetDef) {\n\t\n\t        if (widgetDef.config.faIconName) {\n\t            return 'fa fa-' + widgetDef.config.faIconName;\n\t        }\n\t        return false;\n\t    }\n\t\n\t};\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _utils = __webpack_require__(4);\n\t\n\tvar _utils2 = _interopRequireDefault(_utils);\n\t\n\tvar _PropertyEditorPool = __webpack_require__(6);\n\t\n\tvar _PropertyEditorPool2 = _interopRequireDefault(_PropertyEditorPool);\n\t\n\tvar _ConfirmBox = __webpack_require__(15);\n\t\n\tvar _ConfirmBox2 = _interopRequireDefault(_ConfirmBox);\n\t\n\tvar _Error = __webpack_require__(16);\n\t\n\tvar _Error2 = _interopRequireDefault(_Error);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Application = function () {\n\t\n\t    /**\n\t     *\n\t     * @param {PageMaker} pageMaker\n\t     * @param {object} data\n\t     */\n\t    function Application(pageMaker, data) {\n\t        _classCallCheck(this, Application);\n\t\n\t        if (null === data || (typeof data === \"undefined\" ? \"undefined\" : _typeof(data)) !== 'object') {\n\t            throw new _Error2.default(_Error2.default.ERR_INVALID_DATA, 'Veol data should be an object');\n\t        } else if (Object.keys(data).length === 0) {\n\t            throw new _Error2.default(_Error2.default.ERR_INVALID_DATA, 'Veol data cannot be empty');\n\t        } else if (!data.hasOwnProperty('widgetName')) {\n\t            throw new _Error2.default(_Error2.default.ERR_INVALID_DATA, 'the given data do not appear to be a valid widget (no widget name was provided for the root element)');\n\t        }\n\t\n\t        this.pageMaker = pageMaker;\n\t        this.originalData = data;\n\t        this.data = pageMaker.parseData(data, this, null);\n\t        this.selectedWidget = [];\n\t\n\t        this.yesNo = new _ConfirmBox2.default();\n\t    }\n\t\n\t    /**\n\t     * Get a serialized version of the data\n\t     * @returns {*}\n\t     */\n\t\n\t\n\t    _createClass(Application, [{\n\t        key: \"save\",\n\t        value: function save() {\n\t            return this.data.helper.save();\n\t        }\n\t\n\t        /**\n\t         * refresh the inner data\n\t         */\n\t\n\t    }, {\n\t        key: \"reload\",\n\t        value: function reload() {\n\t            var data = this.save();\n\t            this.data = pageMaker.parseData(data, this, null);\n\t        }\n\t    }, {\n\t        key: \"deleteWidget\",\n\t        value: function deleteWidget(widget) {\n\t            var i = widget.parent.children.indexOf(widget);\n\t            if (i > 0) {\n\t                widget.parent.children.splice(i, 1);\n\t            }\n\t            this.dispatchEvent('widgetDeleted', [widget]);\n\t        }\n\t\n\t        /**\n\t         * Set the widget in a selected state and adds it to the list of selected widget.\n\t         * Typically a widget is selected when the user clicks it\n\t         * @param widget\n\t         */\n\t\n\t    }, {\n\t        key: \"selectWidget\",\n\t        value: function selectWidget(widget) {\n\t            this.selectedWidget.push(widget);\n\t            this.dispatchEvent('widgetSelected', [widget]);\n\t        }\n\t\n\t        /**\n\t         * Unselect all widget previously selected\n\t         */\n\t\n\t    }, {\n\t        key: \"unselectAllWidgets\",\n\t        value: function unselectAllWidgets() {\n\t            this.selectedWidget = [];\n\t            this.dispatchEvent('unselectAllWidgets', []);\n\t        }\n\t\n\t        /**\n\t         * update a data of a widget\n\t         * @param widget\n\t         * @param propertyName\n\t         * @param value\n\t         * @param eventData data to pass to the event\n\t         */\n\t\n\t    }, {\n\t        key: \"updateWidgetData\",\n\t        value: function updateWidgetData(widget, propertyName, value, eventData) {\n\t            this.getWidget(widget).data[propertyName] = value;\n\t            this.dispatchEvent('widgetDataEdited', [widget, propertyName, value], eventData);\n\t            widget.dispatchEvent('dataEdited', [propertyName, value], eventData);\n\t        }\n\t\n\t        /**\n\t         * Set a value in the widget meta\n\t         * @param widget\n\t         * @param metaName\n\t         * @param value\n\t         * @param eventData data to pass to the event\n\t         */\n\t\n\t    }, {\n\t        key: \"updateWidgetMeta\",\n\t        value: function updateWidgetMeta(widget, metaName, value, eventData) {\n\t            this.getWidget(widget).meta[metaName] = value;\n\t            this.dispatchEvent('widgetMetaEdited', [widget, metaName, value], eventData);\n\t            widget.dispatchEvent('metaEdited', [metaName, value], eventData);\n\t        }\n\t\n\t        /**\n\t         * Set a value in the widget editor properties\n\t         * @param widget\n\t         * @param name\n\t         * @param value\n\t         * @param eventData data to pass to the event\n\t         */\n\t\n\t    }, {\n\t        key: \"updateWidgetEditorProperty\",\n\t        value: function updateWidgetEditorProperty(widget, name, value, eventData) {\n\t            this.getWidget(widget).editor[name] = value;\n\t            this.dispatchEvent('widgetEditorPropertyEdited', [widget, name, value], eventData);\n\t            widget.dispatchEvent('editorPropertyEdited', [name, value], eventData);\n\t        }\n\t\n\t        /**\n\t         * Get an editor property for the given widget\n\t         * @param widget\n\t         * @param name\n\t         * @returns {*}\n\t         */\n\t\n\t    }, {\n\t        key: \"getWidgetEditorProperty\",\n\t        value: function getWidgetEditorProperty(widget, name) {\n\t            return this.getWidget(widget).editor[name];\n\t        }\n\t    }, {\n\t        key: \"getWidget\",\n\t        value: function getWidget(widget) {\n\t            if ((typeof widget === \"undefined\" ? \"undefined\" : _typeof(widget)) === \"object\") {\n\t                return widget;\n\t            } else {\n\t                throw 'Unable to find a widget by id: not implemented yet';\n\t                // TODO by id\n\t            }\n\t        }\n\t    }, {\n\t        key: \"createWidget\",\n\t        value: function createWidget(data, widgetDef, parentWidget) {\n\t            var widget = this.pageMaker.parseData(widgetData, this, inWidget);\n\t\n\t            if (inWidget) {\n\t                inWidget.children.push(widget);\n\t            }\n\t\n\t            this.dispatchEvent('widgetCreated', [widget]);\n\t        }\n\t    }]);\n\t\n\t    return Application;\n\t}();\n\t\n\t_utils2.default.makeObservable(Application);\n\t\n\texports.default = Application;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _TextField = __webpack_require__(7);\n\t\n\tvar _TextField2 = _interopRequireDefault(_TextField);\n\t\n\tvar _TextArea = __webpack_require__(10);\n\t\n\tvar _TextArea2 = _interopRequireDefault(_TextArea);\n\t\n\tvar _Select = __webpack_require__(11);\n\t\n\tvar _Select2 = _interopRequireDefault(_Select);\n\t\n\tvar _Range = __webpack_require__(12);\n\t\n\tvar _Range2 = _interopRequireDefault(_Range);\n\t\n\tvar _Checkbox = __webpack_require__(13);\n\t\n\tvar _Checkbox2 = _interopRequireDefault(_Checkbox);\n\t\n\tvar _Color = __webpack_require__(14);\n\t\n\tvar _Color2 = _interopRequireDefault(_Color);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction loadDefaults(pool) {\n\t    pool.addEditor(['textField', 'textfield'], new _TextField2.default());\n\t    pool.addEditor(['text', 'textArea'], new _TextArea2.default());\n\t    pool.addEditor(['select'], new _Select2.default());\n\t    pool.addEditor(['range'], new _Range2.default());\n\t    pool.addEditor(['checkbox'], new _Checkbox2.default());\n\t    pool.addEditor(['color'], new _Color2.default());\n\t}\n\t\n\tvar PropertyEditorPool = function () {\n\t    function PropertyEditorPool(config) {\n\t        _classCallCheck(this, PropertyEditorPool);\n\t\n\t        config = config || config;\n\t\n\t        this.editors = [];\n\t\n\t        if (config.loadDefaults) {\n\t            loadDefaults(this);\n\t        }\n\t    }\n\t\n\t    _createClass(PropertyEditorPool, [{\n\t        key: 'addEditor',\n\t        value: function addEditor(names, editor) {\n\t            this.editors.push({\n\t                names: names,\n\t                editor: editor\n\t            });\n\t        }\n\t    }, {\n\t        key: 'findEditor',\n\t        value: function findEditor(name) {\n\t            for (var i = 0; i < this.editors.length; i++) {\n\t                if (this.editors[i].names.indexOf(name) > -1) {\n\t                    return this.editors[i].editor;\n\t                }\n\t            }\n\t            return null;\n\t        }\n\t    }]);\n\t\n\t    return PropertyEditorPool;\n\t}();\n\t\n\texports.default = PropertyEditorPool;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _SimpleInput2 = __webpack_require__(8);\n\t\n\tvar _SimpleInput3 = _interopRequireDefault(_SimpleInput2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar TextField = function (_SimpleInput) {\n\t    _inherits(TextField, _SimpleInput);\n\t\n\t    function TextField() {\n\t        _classCallCheck(this, TextField);\n\t\n\t        return _possibleConstructorReturn(this, (TextField.__proto__ || Object.getPrototypeOf(TextField)).apply(this, arguments));\n\t    }\n\t\n\t    _createClass(TextField, [{\n\t        key: 'getInput',\n\t        value: function getInput() {\n\t            return $('<input type=\"text\" />');\n\t        }\n\t    }]);\n\t\n\t    return TextField;\n\t}(_SimpleInput3.default);\n\t\n\texports.default = TextField;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _PropertyEditor2 = __webpack_require__(9);\n\t\n\tvar _PropertyEditor3 = _interopRequireDefault(_PropertyEditor2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar SimpleInput = function (_PropertyEditor) {\n\t    _inherits(SimpleInput, _PropertyEditor);\n\t\n\t    function SimpleInput() {\n\t        _classCallCheck(this, SimpleInput);\n\t\n\t        var _this = _possibleConstructorReturn(this, (SimpleInput.__proto__ || Object.getPrototypeOf(SimpleInput)).call(this, {\n\t            'isLiveEdit': true\n\t        }));\n\t\n\t        var self = _this;\n\t\n\t        _this.config.onCreateEditor = function ($editor, widget, property) {\n\t            var $input = self.getInput($editor, widget, property);\n\t            $input.on('input', function () {\n\t                widget.application.updateWidgetData(widget, property.name, $input.val());\n\t            });\n\t\n\t            $editor.data('veol-get-value', function () {\n\t                return $input.val();\n\t            });\n\t\n\t            var value = widget.data[property.name];\n\t\n\t            if (value) {\n\t                $input.val(value);\n\t            }\n\t\n\t            widget.addEventListener('dataEdited', function (propertyName, value) {\n\t                if (propertyName == property.name) {\n\t                    $input.val(value);\n\t                }\n\t            });\n\t\n\t            self.drawEditor($editor, $input, widget, property);\n\t        };\n\t\n\t        return _this;\n\t    }\n\t\n\t    _createClass(SimpleInput, [{\n\t        key: 'drawEditor',\n\t        value: function drawEditor($editor, $input, widget, property) {\n\t            $editor.append($input, widget, property);\n\t        }\n\t    }, {\n\t        key: 'getInput',\n\t        value: function getInput($editor, widget, property) {\n\t            throw 'This method is abstract and should be overriden by extending class';\n\t        }\n\t    }]);\n\t\n\t    return SimpleInput;\n\t}(_PropertyEditor3.default);\n\t\n\texports.default = SimpleInput;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 9 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar PropertyEditor = function () {\n\t    function PropertyEditor(config) {\n\t        _classCallCheck(this, PropertyEditor);\n\t\n\t        this.config = config || {};\n\t    }\n\t\n\t    _createClass(PropertyEditor, [{\n\t        key: 'createEditor',\n\t        value: function createEditor(widget, property) {\n\t            var $editor = $('<div class=\"veol-widget-editor-group\"/>');\n\t\n\t            if (this.config.onCreateEditor) {\n\t                this.config.onCreateEditor($editor, widget, property);\n\t            }\n\t\n\t            return $editor;\n\t        }\n\t    }, {\n\t        key: 'isLiveEdit',\n\t        value: function isLiveEdit() {\n\t            return this.config.isLiveEdit === true;\n\t        }\n\t    }, {\n\t        key: 'hasEditionHandler',\n\t        value: function hasEditionHandler() {\n\t            return !!this.config.editionHandler;\n\t        }\n\t    }, {\n\t        key: 'afterDraw',\n\t        value: function afterDraw($editor, widget, property) {\n\t            // To be implemented by children that need logic after element is drawn\n\t        }\n\t    }, {\n\t        key: 'getValue',\n\t        value: function getValue($editor) {\n\t            var valueGetter = $editor.data('veol-get-value');\n\t            if (!(typeof valueGetter === 'undefined' ? 'undefined' : _typeof(valueGetter)) == 'function') {\n\t                throw 'Editor did not implement get value';\n\t            }\n\t            return valueGetter();\n\t        }\n\t    }]);\n\t\n\t    return PropertyEditor;\n\t}();\n\t\n\texports.default = PropertyEditor;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _SimpleInput2 = __webpack_require__(8);\n\t\n\tvar _SimpleInput3 = _interopRequireDefault(_SimpleInput2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar TextArea = function (_SimpleInput) {\n\t    _inherits(TextArea, _SimpleInput);\n\t\n\t    function TextArea() {\n\t        _classCallCheck(this, TextArea);\n\t\n\t        return _possibleConstructorReturn(this, (TextArea.__proto__ || Object.getPrototypeOf(TextArea)).apply(this, arguments));\n\t    }\n\t\n\t    _createClass(TextArea, [{\n\t        key: 'getInput',\n\t        value: function getInput($editor, widget, property) {\n\t            return $('<textarea/>');\n\t        }\n\t    }, {\n\t        key: 'isLiveEdit',\n\t        value: function isLiveEdit() {\n\t            return false;\n\t        }\n\t    }]);\n\t\n\t    return TextArea;\n\t}(_SimpleInput3.default);\n\t\n\texports.default = TextArea;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _SimpleInput2 = __webpack_require__(8);\n\t\n\tvar _SimpleInput3 = _interopRequireDefault(_SimpleInput2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Select = function (_SimpleInput) {\n\t    _inherits(Select, _SimpleInput);\n\t\n\t    function Select() {\n\t        _classCallCheck(this, Select);\n\t\n\t        return _possibleConstructorReturn(this, (Select.__proto__ || Object.getPrototypeOf(Select)).apply(this, arguments));\n\t    }\n\t\n\t    _createClass(Select, [{\n\t        key: 'getInput',\n\t        value: function getInput($editor, widget, property) {\n\t\n\t            var $select = $('<select />');\n\t\n\t            if (property.multiple) {\n\t                $select.prop('multiple', true);\n\t            }\n\t\n\t            for (var i = 0; i < property.options.length; i++) {\n\t                var opt = property.options[i];\n\t                var optType = typeof opt === 'undefined' ? 'undefined' : _typeof(opt);\n\t\n\t                if (optType == 'string' || optType == 'number') {\n\t                    $select.append('<option value=\"' + opt + '\" >' + opt + '</option>');\n\t                } else {\n\t                    $select.append('<option value=\"' + opt.value + '\" >' + opt.label + '</option>');\n\t                }\n\t            }\n\t\n\t            return $select;\n\t        }\n\t    }]);\n\t\n\t    return Select;\n\t}(_SimpleInput3.default);\n\t\n\texports.default = Select;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _SimpleInput2 = __webpack_require__(8);\n\t\n\tvar _SimpleInput3 = _interopRequireDefault(_SimpleInput2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Range = function (_SimpleInput) {\n\t    _inherits(Range, _SimpleInput);\n\t\n\t    function Range() {\n\t        _classCallCheck(this, Range);\n\t\n\t        return _possibleConstructorReturn(this, (Range.__proto__ || Object.getPrototypeOf(Range)).apply(this, arguments));\n\t    }\n\t\n\t    _createClass(Range, [{\n\t        key: 'getInput',\n\t        value: function getInput($editor, widget, property) {\n\t            var min = property.min || 0;\n\t            var max = property.max || min + 100;\n\t            var step = property.step || 1;\n\t\n\t            return $('<input type=\"range\" min=\"' + min + '\" max=\"' + max + '\" step=\"' + step + '\" />');\n\t        }\n\t    }, {\n\t        key: 'drawEditor',\n\t        value: function drawEditor($editor, $input, widget, property) {\n\t\n\t            var $count = $('<span class=\"veol-range-preview\"></span>');\n\t\n\t            $count.html($input.val());\n\t\n\t            $editor.addClass('veol-combined-range');\n\t\n\t            $editor.append($count);\n\t            $editor.append($input);\n\t\n\t            widget.addEventListener('dataEdited', function (propertyName, value) {\n\t                if (propertyName == property.name) {\n\t                    $count.html(value);\n\t                }\n\t            });\n\t        }\n\t    }]);\n\t\n\t    return Range;\n\t}(_SimpleInput3.default);\n\t\n\texports.default = Range;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _PropertyEditor2 = __webpack_require__(9);\n\t\n\tvar _PropertyEditor3 = _interopRequireDefault(_PropertyEditor2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Checkbox = function (_PropertyEditor) {\n\t    _inherits(Checkbox, _PropertyEditor);\n\t\n\t    function Checkbox() {\n\t        _classCallCheck(this, Checkbox);\n\t\n\t        var _this = _possibleConstructorReturn(this, (Checkbox.__proto__ || Object.getPrototypeOf(Checkbox)).call(this, {\n\t            'isLiveEdit': true\n\t        }));\n\t\n\t        var self = _this;\n\t\n\t        _this.config.onCreateEditor = function ($editor, widget, property) {\n\t            var $input = $('<input type=\"checkbox\" />');\n\t            $input.on('change', function () {\n\t                widget.application.updateWidgetData(widget, property.name, $input.is(':checked'));\n\t            });\n\t\n\t            $editor.data('veol-get-value', function () {\n\t                return $input.is(':checked');\n\t            });\n\t\n\t            var value = widget.data[property.name];\n\t\n\t            if (value) {\n\t                $input.prop('checked', !!value);\n\t            }\n\t\n\t            widget.addEventListener('dataEdited', function (propertyName, value) {\n\t                if (propertyName == property.name) {\n\t                    $input.prop('checked', !!value);\n\t                }\n\t            });\n\t\n\t            $editor.append($input);\n\t        };\n\t\n\t        return _this;\n\t    }\n\t\n\t    return Checkbox;\n\t}(_PropertyEditor3.default);\n\t\n\texports.default = Checkbox;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _SimpleInput2 = __webpack_require__(8);\n\t\n\tvar _SimpleInput3 = _interopRequireDefault(_SimpleInput2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Color = function (_SimpleInput) {\n\t    _inherits(Color, _SimpleInput);\n\t\n\t    function Color() {\n\t        _classCallCheck(this, Color);\n\t\n\t        return _possibleConstructorReturn(this, (Color.__proto__ || Object.getPrototypeOf(Color)).apply(this, arguments));\n\t    }\n\t\n\t    _createClass(Color, [{\n\t        key: 'getInput',\n\t        value: function getInput() {\n\t            return $('<input type=\"color\" />');\n\t        }\n\t    }]);\n\t\n\t    return Color;\n\t}(_SimpleInput3.default);\n\t\n\texports.default = Color;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _utils = __webpack_require__(4);\n\t\n\tvar _utils2 = _interopRequireDefault(_utils);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar ConfirmBox = function () {\n\t    function ConfirmBox(application) {\n\t        _classCallCheck(this, ConfirmBox);\n\t\n\t        this.application = application;\n\t\n\t        this.$root = $('\\n          <div class=\"veol-modal\">\\n            <div class=\"veol-modal-background\"></div>\\n            <div class=\"veol-modal-display-area veol-controls\">\\n                <div class=\"veol-modal-header\">\\n                    <div class=\"veol-modal-title\">Confirmer</div>\\n                    <div veol-close><i class=\"fa fa-times fa-fw\"></i></div>\\n                </div>\\n                <div class=\"veol-modal-content\"></div>\\n                <div class=\"veol-modal-footer\">\\n                    <div class=\"veol-button veol-button-validate\">Oui</div>\\n                    <div class=\"veol-button veol-button-cancel\">Non</div>\\n                </div>\\n            </div>         \\n          </div>\\n        ');\n\t\n\t        this.$root.hide();\n\t\n\t        this.$modalContent = this.$root.find('.veol-modal-content');\n\t\n\t        var self = this;\n\t\n\t        _utils2.default.bindModal(this.$root, function () {\n\t            self.close();\n\t        });\n\t\n\t        $('body').append(this.$root);\n\t\n\t        this.$root.find('.veol-button-validate').click(function () {\n\t            self.close();\n\t\n\t            console.log('kk');\n\t            if (self._yes) {\n\t                self._yes();\n\t            }\n\t        });\n\t\n\t        this.$root.find('.veol-button-cancel').click(function () {\n\t            self.close();\n\t\n\t            if (self._no) {\n\t                self._no();\n\t            }\n\t        });\n\t    }\n\t\n\t    _createClass(ConfirmBox, [{\n\t        key: 'ask',\n\t        value: function ask(message, yesHandler, noHandler) {\n\t            this._yes = yesHandler;\n\t            this._no = noHandler;\n\t\n\t            this.$modalContent.html(message);\n\t\n\t            this.$root.show();\n\t        }\n\t    }, {\n\t        key: 'close',\n\t        value: function close() {\n\t            this.$root.hide();\n\t        }\n\t    }]);\n\t\n\t    return ConfirmBox;\n\t}();\n\t\n\texports.default = ConfirmBox;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 16 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar VeolError = function (_Error) {\n\t    _inherits(VeolError, _Error);\n\t\n\t    function VeolError(errorType, message) {\n\t        _classCallCheck(this, VeolError);\n\t\n\t        var _this = _possibleConstructorReturn(this, (VeolError.__proto__ || Object.getPrototypeOf(VeolError)).call(this, message));\n\t\n\t        _this.errorType = errorType;\n\t        return _this;\n\t    }\n\t\n\t    return VeolError;\n\t}(Error);\n\t\n\tVeolError.ERR_INVALID_DATA = 'invdata';\n\t\n\texports.default = VeolError;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _utils = __webpack_require__(4);\n\t\n\tvar _utils2 = _interopRequireDefault(_utils);\n\t\n\tvar _WidgetCreator = __webpack_require__(18);\n\t\n\tvar _WidgetCreator2 = _interopRequireDefault(_WidgetCreator);\n\t\n\tvar _Component2 = __webpack_require__(22);\n\t\n\tvar _Component3 = _interopRequireDefault(_Component2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tfunction setTreeNodeTitle($child, widget) {\n\t    var title;\n\t\n\t    if (widget.widgetDefinition.config.title) {\n\t        title = widget.widgetDefinition.config.title;\n\t    } else {\n\t        title = widget.widgetName;\n\t    }\n\t\n\t    title = \"<span class=\\\"veol-widget-name\\\">\" + title + \"</span>\";\n\t\n\t    if (widget.widgetDefinition.config.getDescription) {\n\t        var details = widget.widgetDefinition.config.getDescription(widget);\n\t        if (typeof details === 'string') {\n\t            title += ' ' + (0, _utils.titleDetails)(details);\n\t        }\n\t    }\n\t\n\t    $child.children(\".veol-title\").find('.veol-title-text').empty().append(title);\n\t}\n\t\n\t/**\n\t *\n\t * @param {Tree} tree\n\t * @param {Object} widget\n\t * @param {WidgetDefinition} [widget.widgetDefinition]\n\t * @param {JQuery} $parent\n\t */\n\tfunction drawWidget(tree, widget, $parent) {\n\t    var widgetDef = widget.widgetDefinition;\n\t    var isContainer = widgetDef.isContainer();\n\t    var $child = $(\"<li class=\\\"veol-tree-node\\\" data-wid=\\\"\" + widget.wid + \"\\\"/>\");\n\t\n\t    $child.appendTo($parent);\n\t\n\t    // Associate widget with the dom element\n\t    $child.data('widget-instance', widget);\n\t\n\t    // Title area\n\t    var $title = $(\"<div draggable=\\\"true\\\" class=\\\"veol-title\\\"></div>\");\n\t    $child.append($title);\n\t\n\t    var $titleContent = $('<div class=\"veol-title-content\"></div>');\n\t    $titleContent.appendTo($title);\n\t\n\t    // title = Widget name + widget summary\n\t    $titleContent.append(\"<span class=\\\"veol-title-text\\\"></span>\");\n\t    setTreeNodeTitle($child, widget);\n\t\n\t    // Select the widget on click\n\t    $title.click(function (evt) {\n\t        if (!evt.ctrlKey) {\n\t            tree.application.unselectAllWidgets(widget);\n\t        }\n\t        tree.application.selectWidget(widget);\n\t    });\n\t\n\t    var iconClass = _utils2.default.getWidgetIconClass(widget.widgetDefinition);\n\t    if (iconClass) {\n\t        var $widgetIcon = $(\"<i class=\\\"widget-icon \" + iconClass + \"\\\"></i>\");\n\t        $titleContent.prepend($widgetIcon);\n\t    }\n\t\n\t    if (isContainer) {\n\t\n\t        // Caret icon\n\t        var $caret = $(\"<div class=\\\"veol-caret\\\"></div>\");\n\t        $titleContent.prepend($caret);\n\t        $caret.click(function () {\n\t            $child.toggleClass('open');\n\t        });\n\t\n\t        // Add icon\n\t        var $addIcon = $(\"<div class=\\\"veol-add\\\"></div>\");\n\t        $titleContent.append($addIcon);\n\t        $addIcon.click(function () {\n\t            tree.widgetCreator.createForParent(widget);\n\t        });\n\t\n\t        // Container classes\n\t        $child.addClass('is-container open');\n\t\n\t        // Children\n\t        var $subParent = $(\"<ul class=\\\"veol-children\\\"/>\");\n\t        $subParent.appendTo($child);\n\t        for (var i = 0; i < widget.children.length; i++) {\n\t            drawWidget(tree, widget.children[i], $subParent);\n\t        }\n\t    }\n\t\n\t    // delete icon\n\t    var $delete = $(\"<div class=\\\"veol-menu-delete\\\"></div>\");\n\t    $titleContent.append($delete);\n\t    $delete.click(function () {\n\t\n\t        var message = 'Supprimer le widget ?';\n\t\n\t        if (widget.widgetDefinition.isContainer()) {\n\t\n\t            message += '<br/>' + 'Les sous widgets seront galement supprims';\n\t        }\n\t\n\t        tree.application.yesNo.ask(message, function () {\n\t            tree.application.deleteWidget(widget);\n\t        });\n\t    });\n\t\n\t    // Add the title fill area\n\t    $title.prepend('<div class=\"veol-tree-fill\"></div>');\n\t\n\t    var removeDndClasses = function removeDndClasses($element) {\n\t        var $parent = $element.parent('.veol-tree-node');\n\t\n\t        $parent.removeClass('veol-drag-over');\n\t        $parent.removeClass('veol-can-drop-next');\n\t        $parent.removeClass('veol-can-drop-inside');\n\t        $parent.removeClass('veol-will-drop-before');\n\t        $parent.removeClass('veol-will-drop-after');\n\t        $parent.removeClass('veol-will-drop-inside');\n\t    };\n\t\n\t    // Drag drop events\n\t    $title.on('dragstart', function (e) {\n\t        tree.$dragging = $child;\n\t        $child.addClass('veol-dragging');\n\t\n\t        // Has drag helps to know that the tree has a currently dragging element\n\t        // And allows to apply \"cursor-event: none\" (from css) to prevent dragenter on child element of title\n\t        tree.$root.addClass('veol-tree-has-drag');\n\t    });\n\t    $title.on('dragend', function (e) {\n\t        tree.$dragging = null;\n\t        $(this).parent('.veol-tree-node').removeClass('veol-dragging');\n\t        tree.$root.removeClass('veol-tree-has-drag');\n\t    });\n\t\n\t    $title.on('dragenter', function (e) {\n\t\n\t        // Make sure that the data comes from the same tree\n\t        if (!tree.isDragging()) {\n\t            return;\n\t        }\n\t\n\t        // Check that element is not dropped on a child\n\t        var $draggedParent = $title.closest('.veol-dragging');\n\t        if ($draggedParent.length !== 0) {\n\t            return;\n\t        }\n\t\n\t        var canBeDroppedNext = false;\n\t        var canBeDroppedInside = false;\n\t\n\t        // Check if it can be dropped before or after the element\n\t        var droppedWidget = tree.getDraggedWidget();\n\t        if (widget.parent.widgetDefinition.allowedAsChild(droppedWidget) && droppedWidget.widgetDefinition.allowedAsParent(widget.parent)) {\n\t            canBeDroppedNext = true;\n\t            $title.parent('.veol-tree-node').addClass('veol-can-drop-next');\n\t        }\n\t\n\t        // Check if it can be dropped inside the element\n\t        if (isContainer && widget.widgetDefinition.allowedAsChild(droppedWidget) && droppedWidget.widgetDefinition.allowedAsParent(widget)) {\n\t            canBeDroppedInside = true;\n\t            $title.parent('.veol-tree-node').addClass('veol-can-drop-inside');\n\t        }\n\t\n\t        if (canBeDroppedInside || canBeDroppedNext) {\n\t            $title.parent('.veol-tree-node').addClass('veol-drag-over');\n\t        }\n\t    });\n\t\n\t    $title.on('dragleave', function (e) {\n\t        removeDndClasses($title);\n\t    });\n\t\n\t    $title.on('dragover', function (e) {\n\t        // In drag enter we already were told if the drop is possible and where it is possible\n\t        // Now we will determine how we drop the element (before, after, inside) depending on the mouse position\n\t        // on the target\n\t        if ($child.hasClass('veol-drag-over')) {\n\t            var childOffset = $child.offset();\n\t            var mouseYInChild = e.clientY - childOffset.top;\n\t            var mouseYInPercent = mouseYInChild * 100 / $title.outerHeight();\n\t\n\t            $title.parent('.veol-tree-node').removeClass('veol-will-drop-before');\n\t            $title.parent('.veol-tree-node').removeClass('veol-will-drop-after');\n\t            $title.parent('.veol-tree-node').removeClass('veol-will-drop-inside');\n\t\n\t            if (\n\t            // This first condition checks if the element is droppable inside by either being in the middle\n\t            // or having drop inside as the only one option\n\t            $child.hasClass('veol-can-drop-inside') && (mouseYInPercent > 30 && mouseYInPercent < 70 || !$child.hasClass('veol-can-drop-next'))) {\n\t                $child.addClass('veol-will-drop-inside');\n\t            } else {\n\t                // If mouse is in the upper half part of the element we drop be fore\n\t                if (mouseYInPercent <= 50) {\n\t                    $child.addClass('veol-will-drop-before');\n\t                } else if (isContainer && widget.children.length > 0) {\n\t                    if ($child.hasClass('veol-can-drop-inside')) {\n\t                        $child.addClass('veol-will-drop-inside');\n\t                    } else {\n\t                        $child.addClass('veol-will-drop-before');\n\t                    }\n\t                } else {\n\t                    $child.addClass('veol-will-drop-after');\n\t                }\n\t            }\n\t\n\t            e.preventDefault();\n\t        }\n\t    });\n\t\n\t    $title.on('drop', function (e) {\n\t        e.preventDefault();\n\t        // Make sure that the element was marked as an acceptable target (from drag enter)\n\t        if ($child.hasClass('veol-drag-over')) {\n\t            var droppedWidget = tree.getDraggedWidget();\n\t            if (droppedWidget && droppedWidget !== widget) {\n\t                var operationType = null;\n\t                if ($child.hasClass('veol-will-drop-before')) {\n\t                    _utils2.default.insertWidgetBefore(widget, droppedWidget);\n\t                    operationType = 'before';\n\t                } else if ($child.hasClass('veol-will-drop-after')) {\n\t                    _utils2.default.insertWidgetAfter(widget, droppedWidget);\n\t                    operationType = 'after';\n\t                } else if ($child.hasClass('veol-will-drop-inside')) {\n\t                    _utils2.default.appendWidget(widget, droppedWidget);\n\t                    operationType = 'inside';\n\t                }\n\t\n\t                if (operationType) {\n\t                    tree.application.dispatchEvent('widgetMoved', [droppedWidget, widget, operationType]);\n\t                }\n\t            }\n\t            removeDndClasses($(this));\n\t        }\n\t    });\n\t}\n\t\n\tfunction bindApplication(application, self) {\n\t\n\t    application.addEventListener('widgetMoved', function (movedWidget, target, operationType) {\n\t        var $target = self.$root.find(\"[data-wid=\" + target.wid + \"]\");\n\t        var $moved = self.$root.find(\"[data-wid=\" + movedWidget.wid + \"]\");\n\t        switch (operationType) {\n\t            case 'inside':\n\t                $moved.appendTo($target.find('.veol-children').first());\n\t                break;\n\t            case 'after':\n\t                $moved.insertAfter($target);\n\t                break;\n\t            case 'before':\n\t                $moved.insertBefore($target);\n\t                break;\n\t            default:\n\t                console.error(\"unknown operation type \" + operationType);\n\t        }\n\t    });\n\t\n\t    application.addEventListener('widgetDeleted', function (widget) {\n\t        self.$root.find(\"[data-wid=\" + widget.wid + \"]\").remove();\n\t    });\n\t\n\t    application.addEventListener('widgetSelected', function (widget) {\n\t        self.$root.find(\"[data-wid=\" + widget.wid + \"]\").addClass('veol-widget-selected');\n\t    });\n\t\n\t    application.addEventListener('unselectAllWidgets', function () {\n\t        self.$root.find('.veol-widget-selected').removeClass('veol-widget-selected');\n\t    });\n\t\n\t    application.addEventListener('widgetDataEdited', function (widget, property, value) {\n\t        setTreeNodeTitle(self.$root.find(\"[data-wid=\" + widget.wid + \"]\"), widget);\n\t    });\n\t\n\t    application.addEventListener('widgetAdded', function (widget) {\n\t        var parentId = widget.parent.wid;\n\t\n\t        var $into;\n\t\n\t        // if the parent is the first parent (root of the data) then we add it to the $screen directly\n\t        // because the root element is not included in the preview\n\t        if (parentId == application.data.wid) {\n\t            $into = self.$root.find(\".veol-root\");\n\t        } else {\n\t            $into = self.$root.find(\"[data-wid=\" + parentId + \"]\").find('.veol-children').first();\n\t            console.log($into);\n\t        }\n\t\n\t        drawWidget(self, widget, $into);\n\t    });\n\t}\n\t\n\tvar Tree = function (_Component) {\n\t    _inherits(Tree, _Component);\n\t\n\t    function Tree(application) {\n\t        _classCallCheck(this, Tree);\n\t\n\t        var _this = _possibleConstructorReturn(this, (Tree.__proto__ || Object.getPrototypeOf(Tree)).call(this));\n\t\n\t        _this.$root.addClass('veol-tree veol-toolbox');\n\t        _this.$dragging = null;\n\t        _this.application = application;\n\t\n\t        _this.$header = $(\"<div class=\\\"veol-toolbox-header\\\" >\\n                <ul>\\n                    <li class=\\\"veol-title\\\">Widgets</li>\\n                    <li class=\\\"veol-fill\\\"></li>\\n                </ul>\\n            </div>\");\n\t\n\t        _this.$root.append(_this.$header);\n\t        _this.widgetCreator = new _WidgetCreator2.default(application); // TODO make it available from config\n\t\n\t\n\t        var self = _this;\n\t\n\t        // Add widget action\n\t        var $addWidget = $(\"<li class=\\\"veol-action\\\" veol-action=\\\"add-widget\\\" title=\\\"Ajouter un widget\\\"><i class=\\\"fa fa-plus fa-fw\\\"></i></li>\");\n\t        _this.$header.find('>ul').append($addWidget);\n\t        $addWidget.click(function () {\n\t            self.widgetCreator.createForParent();\n\t        });\n\t\n\t        _this.draw();\n\t        bindApplication(application, _this);\n\t        return _this;\n\t    }\n\t\n\t    _createClass(Tree, [{\n\t        key: \"draw\",\n\t        value: function draw() {\n\t\n\t            this.$root.find('.veol-root').remove();\n\t\n\t            var $parent = $(\"<ul class=\\\"veol-root veol-children\\\"/>\");\n\t            $parent.appendTo(this.$root);\n\t\n\t            var data = this.application.data;\n\t\n\t            for (var i = 0; i < data.children.length; i++) {\n\t                drawWidget(this, data.children[i], $parent);\n\t            }\n\t        }\n\t    }, {\n\t        key: \"isDragging\",\n\t        value: function isDragging() {\n\t            return this.$dragging !== null;\n\t        }\n\t    }, {\n\t        key: \"getDraggedElement\",\n\t        value: function getDraggedElement() {\n\t            return this.$dragging;\n\t        }\n\t    }, {\n\t        key: \"getDraggedWidget\",\n\t        value: function getDraggedWidget() {\n\t            return this.$dragging.data('widget-instance');\n\t        }\n\t    }]);\n\t\n\t    return Tree;\n\t}(_Component3.default);\n\t\n\texports.default = Tree;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 18 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _utils = __webpack_require__(4);\n\t\n\tvar _utils2 = _interopRequireDefault(_utils);\n\t\n\tvar _WidgetCreatorFieldEditor = __webpack_require__(19);\n\t\n\tvar _WidgetCreatorFieldEditor2 = _interopRequireDefault(_WidgetCreatorFieldEditor);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction createWidgetButton(widgetName, widgetDef) {\n\t\n\t    var widgetTitle;\n\t\n\t    if (widgetDef.config.title) {\n\t        widgetTitle = widgetDef.config.title;\n\t    } else {\n\t        widgetTitle = widgetName;\n\t    }\n\t\n\t    var iconClass = _utils2.default.getWidgetIconClass(widgetDef);\n\t    if (!iconClass) {\n\t        iconClass = 'fa fa-lg fa-question-circle-o';\n\t    }\n\t    var icon = '<i class=\"' + iconClass + '\"></i>';\n\t\n\t    var $widgetButton = $('<div class=\"veol-button veol-button-large veol-button-widget\" title=\"' + widgetTitle + '\" veol-widget-name=\"' + widgetName + '\">\\n            <div class=\"veol-icon\">' + icon + '</div>\\n            <div class=\"veol-widget-name\">' + widgetTitle + '</div>\\n        </div>');\n\t\n\t    return $widgetButton;\n\t}\n\t\n\tvar WidgetCreator = function () {\n\t    function WidgetCreator(application) {\n\t        _classCallCheck(this, WidgetCreator);\n\t\n\t        this.application = application;\n\t\n\t        this.$root = $('\\n          <div class=\"veol-modal veol-widget-creator\">\\n            <div class=\"veol-modal-background\"></div>\\n            <div class=\"veol-modal-display-area\">\\n                <div class=\"veol-modal-header\">\\n                    <div class=\"veol-modal-title\">Ajouter un Widget</div>\\n                </div>\\n                <div class=\"veol-modal-content\">\\n                    <ul class=\"veol-creator-widgetlist\"></ul>\\n                </div>\\n                <div class=\"veol-modal-footer\">\\n                    <div veol-close class=\"veol-button veol-button-cancel\">Annuler</div>\\n                    <div class=\"veol-button veol-button-validate\">Valider</div>\\n                </div>\\n            </div>\\n          </div>\\n        ');\n\t\n\t        this.$root.hide();\n\t\n\t        this.$widgetList = this.$root.find('.veol-creator-widgetlist');\n\t\n\t        var self = this;\n\t\n\t        _utils2.default.bindModal(this.$root, function () {\n\t            self.$root.hide();\n\t        });\n\t\n\t        $('body').append(this.$root);\n\t\n\t        this.$root.find('.veol-button-validate').click(function () {\n\t            if ($(this).attr('disabled')) {\n\t                return;\n\t            }\n\t\n\t            self.close();\n\t\n\t            var widgetDefName = self.$root.find('.veol-button-widget.veol-selected').attr('veol-widget-name');\n\t            var parent = $(this).data('veol-parent');\n\t\n\t            var fieldsEditor = new _WidgetCreatorFieldEditor2.default(application, widgetDefName);\n\t            fieldsEditor.create(parent, function (newWidget) {\n\t                parent.children.push(newWidget);\n\t\n\t                self.application.dispatchEvent('widgetAdded', [newWidget]);\n\t\n\t                self.application.unselectAllWidgets();\n\t                self.application.selectWidget(newWidget);\n\t            });\n\t        });\n\t    }\n\t\n\t    _createClass(WidgetCreator, [{\n\t        key: 'createForParent',\n\t        value: function createForParent(parentWidget) {\n\t\n\t            if (!parentWidget) {\n\t                parentWidget = this.application.data;\n\t            }\n\t\n\t            var parentWidgetDef = parentWidget.widgetDefinition;\n\t            var allWidgetDef = this.application.pageMaker.widgets;\n\t\n\t            var availableWidgetDef = [];\n\t\n\t            for (var i in allWidgetDef) {\n\t                if (parentWidgetDef.allowedAsChild(allWidgetDef[i]) && allWidgetDef[i].allowedAsParent(parentWidgetDef)) {\n\t                    availableWidgetDef[i] = allWidgetDef[i];\n\t                }\n\t            }\n\t\n\t            this.$widgetList.empty();\n\t\n\t            for (var i in availableWidgetDef) {\n\t                var $item = createWidgetButton(i, availableWidgetDef[i]);\n\t                this.$widgetList.append($item);\n\t            }\n\t\n\t            var self = this;\n\t\n\t            this.$root.find('.veol-button-validate').attr('disabled', true);\n\t            this.$root.find('.veol-button-validate').data('veol-parent', parentWidget);\n\t            this.$root.find('.veol-button-validate').html('Selectionnez un widget');\n\t\n\t            this.$widgetList.find('.veol-button-widget').click(function () {\n\t                self.$widgetList.find('.veol-selected').removeClass('veol-selected');\n\t                $(this).addClass('veol-selected');\n\t\n\t                self.$root.find('.veol-button-validate').removeAttr('disabled', true);\n\t                self.$root.find('.veol-button-validate').html('Ajouter le widget');\n\t            });\n\t\n\t            if (this.$widgetList.length == 1) {\n\t                this.$widgetList.children().first().trigger('click');\n\t            }\n\t\n\t            this.$root.show();\n\t        }\n\t    }, {\n\t        key: 'close',\n\t        value: function close() {\n\t            this.$root.hide();\n\t        }\n\t    }]);\n\t\n\t    return WidgetCreator;\n\t}();\n\t\n\texports.default = WidgetCreator;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _utils = __webpack_require__(4);\n\t\n\tvar _utils2 = _interopRequireDefault(_utils);\n\t\n\tvar _drawWidgetEditors = __webpack_require__(20);\n\t\n\tvar _drawWidgetEditors2 = _interopRequireDefault(_drawWidgetEditors);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t/**\n\t * This class allows to create a widget from a widget name.\n\t * It is responsible for managing default things for creating the widget.\n\t */\n\tvar WidgetCreatorFieldEditor = function () {\n\t\n\t    /**\n\t     *\n\t     * @param application application to create a widget for\n\t     * @param widgetName name of the widget definition\n\t     * @param parent perent widget (optional)\n\t     */\n\t    function WidgetCreatorFieldEditor(application, widgetName) {\n\t        _classCallCheck(this, WidgetCreatorFieldEditor);\n\t\n\t        var widgetDef = application.pageMaker.findWidgetDefinition(widgetName);\n\t\n\t        this.application = application;\n\t        this.widgetDef = widgetDef;\n\t        this.widgetName = widgetName;\n\t    }\n\t\n\t    _createClass(WidgetCreatorFieldEditor, [{\n\t        key: 'create',\n\t        value: function create(parent, success, cancel) {\n\t\n\t            var data = {\n\t                widgetName: this.widgetName,\n\t                data: {}\n\t            };\n\t\n\t            var properties = this.widgetDef.config.properties;\n\t\n\t            // If no property just return the widget with empty data\n\t            if (!properties) {\n\t                success(this.application.pageMaker.parseData(data, this.application, parent));\n\t                return;\n\t            }\n\t\n\t            // Find default values\n\t            for (var i = 0; i < properties.length; i++) {\n\t                if (properties[i].hasOwnProperty(\"defaultValue\")) {\n\t                    data.data[properties[i].name] = properties[i].defaultValue;\n\t                }\n\t            }\n\t\n\t            // Create widget with default values\n\t            var newWidget = this.application.pageMaker.parseData(data, this.application, parent);\n\t\n\t            var title = this.widgetDef.config.title || this.widgetName;\n\t\n\t            // Create modal\n\t            var $modalRoot = this.$root = $('\\n          <div class=\"veol-modal veol-modal-widget-fields-creation\">\\n            <div class=\"veol-modal-background\"></div>\\n            <div class=\"veol-modal-display-area veol-controls\">\\n                <div class=\"veol-modal-header\">\\n                    <div class=\"veol-modal-title\">Creation d\\'un widget: ' + title + '</div>\\n                </div>\\n                <div class=\"veol-modal-content\"></div>\\n                <div class=\"veol-modal-footer\">\\n                    <div veol-close class=\"veol-button veol-button-cancel\">Annuler</div>\\n                    <div class=\"veol-button veol-button-validate\">Valider</div>\\n                </div>\\n            </div>         \\n          </div>\\n        ');\n\t\n\t            _utils2.default.bindModal($modalRoot, function () {\n\t                if (cancel) {\n\t                    cancel(this);\n\t                }\n\t                $modalRoot.empty();\n\t                $modalRoot.remove();\n\t            });\n\t\n\t            // Create editors\n\t            var $editors = (0, _drawWidgetEditors2.default)(newWidget, this.application.pageMaker.editorPool);\n\t            $editors.addClass('veol-property-editor');\n\t\n\t            $modalRoot.find('.veol-modal-content').append($editors);\n\t\n\t            $modalRoot.find('.veol-button-validate').click(function () {\n\t                if (success) {\n\t                    success(newWidget);\n\t                    $modalRoot.empty();\n\t                    $modalRoot.remove();\n\t                }\n\t            });\n\t\n\t            // Show modal\n\t            $('body').append($modalRoot);\n\t        }\n\t    }]);\n\t\n\t    return WidgetCreatorFieldEditor;\n\t}();\n\t\n\texports.default = WidgetCreatorFieldEditor;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 20 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = drawWidgetEditors;\n\t\n\tvar _utils = __webpack_require__(4);\n\t\n\tvar _utils2 = _interopRequireDefault(_utils);\n\t\n\tvar _SingleFieldEditor = __webpack_require__(21);\n\t\n\tvar _SingleFieldEditor2 = _interopRequireDefault(_SingleFieldEditor);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\n\t * Internal function that helps to draw widget editor list\n\t */\n\t\n\tfunction drawWidgetEditors(widget, editorPool) {\n\t\n\t    var $weditor = void 0;\n\t\n\t    var widgetDef = widget.widgetDefinition;\n\t    var properties = widgetDef.config.properties || [];\n\t\n\t    $weditor = $('<div/>');\n\t\n\t    for (var i = 0; i < properties.length; i++) {\n\t        var property = properties[i];\n\t\n\t        var name = property.name;\n\t        var label = property.label || name;\n\t\n\t        var $editorRow = $('<div class=\"veol-editor-row\" />');\n\t\n\t        //Label\n\t        $editorRow.append($('<label>' + label + '</label>'));\n\t\n\t        // Editor\n\t        var $editor = drawEditorField(property, widget, $editorRow, editorPool);\n\t\n\t        // Tooltip\n\t        if (property.tooltip) {\n\t            $editorRow.append('<span class=\"veol-tooltip veol-tooltip-help-icon\" data-tooltip=\"' + property.tooltip + '\"></span>');\n\t        }\n\t\n\t        // Nullable\n\t        if (property.nullable) {\n\t            bindNullable(property, $editor, widget);\n\t        }\n\t\n\t        // ShowIf\n\t        if (property.showIf) {\n\t            bindShowIf(property, $editorRow, widget);\n\t        }\n\t\n\t        // Append to the group\n\t        $weditor.append($editorRow);\n\t    }\n\t\n\t    return $weditor;\n\t}\n\t\n\tfunction bindShowIf(property, $editor, widget) {\n\t    widget.addEventListener('dataEdited', function () {\n\t        if (property.showIf(widget.data)) {\n\t            $editor.removeClass('veol-hide');\n\t        } else {\n\t            $editor.addClass('veol-hide');\n\t        }\n\t    });\n\t\n\t    // Initialize\n\t    if (!property.showIf(widget.data)) {\n\t        $editor.addClass('veol-hide');\n\t    }\n\t}\n\t\n\t/**\n\t * Add a checkbox and logic required for nullable properties\n\t * @param property\n\t * @param $editor\n\t * @param widget\n\t */\n\tfunction bindNullable(property, $editor, widget) {\n\t    var $nullableCb = $('<input type=\"checkbox\"/>');\n\t\n\t    $nullableCb.insertBefore($editor);\n\t\n\t    var propertyIsNull = widget.data[property.name] === undefined || widget.data[property.name] === null;\n\t    if (propertyIsNull) {\n\t        $editor.hide();\n\t    } else {\n\t        $nullableCb.attr('checked', true);\n\t    }\n\t\n\t    // on checkbox state change, we forward the info to the application (but we do not change the layout yet)\n\t    $nullableCb.on('change', function () {\n\t\n\t        var nullBackup = widget.application.getWidgetEditorProperty(widget, 'nullBackup');\n\t        nullBackup = nullBackup || {};\n\t\n\t        if (this.checked) {\n\t\n\t            var value = void 0;\n\t            if (nullBackup[property.name]) {\n\t                value = nullBackup[property.name];\n\t            } else if (property.defaultIfNull) {\n\t                value = property.defaultIfNull;\n\t            } else {\n\t                value = '';\n\t            }\n\t\n\t            widget.application.updateWidgetData(widget, property.name, value);\n\t        } else {\n\t            // Backup the current value to be able to find it latter\n\t            nullBackup[property.name] = widget.data[property.name];\n\t            widget.application.updateWidgetEditorProperty(widget, 'nullBackup', nullBackup);\n\t\n\t            // Set the value to null\n\t            widget.application.updateWidgetData(widget, property.name, null);\n\t        }\n\t    });\n\t\n\t    // When the widget data is edited we might show or hide the editor depending on whether the value is null or not\n\t    widget.addEventListener('dataEdited', function (propertyName, value) {\n\t        if (propertyName == property.name) {\n\t            if (value !== null) {\n\t                $editor.show();\n\t                $nullableCb.prop('checked', true);\n\t            } else {\n\t                $nullableCb.prop('checked', false);\n\t                $editor.hide();\n\t            }\n\t        }\n\t    });\n\t}\n\t\n\tfunction drawEditorField(property, widget, $editorRow, editorPool) {\n\t\n\t    var editor = _utils2.default.getPropertyEditor(property, editorPool);\n\t\n\t    if (property.useDedicatedEditor || !editor.isLiveEdit() || editor.hasEditionHandler()) {\n\t\n\t        var $editButton = $('<div class=\"veol-dedicated-editor-button\">Editer</div>');\n\t\n\t        if (editor.hasEditionHandler()) {\n\t            // The editor has defined its own method to edit the field\n\t            $editButton.click(function () {\n\t                editor.config.editionHandler(widget, property);\n\t            });\n\t        } else {\n\t            // If dedicated editor is enabled we show the editor in a popup\n\t            var singleFieldEditor = new _SingleFieldEditor2.default(widget, property);\n\t\n\t            $editButton.click(function () {\n\t                singleFieldEditor.show();\n\t            });\n\t        }\n\t\n\t        $editorRow.append($editButton);\n\t        return $editButton;\n\t    } else {\n\t        // Else we show the inline editor\n\t\n\t        var $editor = editor.createEditor(widget, property);\n\t        $editorRow.append($editor);\n\t        editor.afterDraw($editor, widget, property);\n\t        return $editor;\n\t    }\n\t}\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 21 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _utils = __webpack_require__(4);\n\t\n\tvar _utils2 = _interopRequireDefault(_utils);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar SingleFieldEditor = function () {\n\t    function SingleFieldEditor(widget, property) {\n\t        _classCallCheck(this, SingleFieldEditor);\n\t\n\t        this.widget = widget;\n\t        this.property = property;\n\t\n\t        var label = property.label || property.name;\n\t\n\t        this.$root = $('\\n          <div class=\"veol-modal\">\\n            <div class=\"veol-modal-background\"></div>\\n            <div class=\"veol-modal-display-area veol-controls\">\\n                <div class=\"veol-modal-header\">\\n                    <div class=\"veol-modal-title\">Edition du champs ' + label + '</div>\\n                </div>\\n                <div class=\"veol-modal-content\"></div>\\n                <div class=\"veol-modal-footer\">\\n                    <div class=\"veol-button veol-button-validate\">Valider</div>\\n                    <div veol-close class=\"veol-button veol-button-cancel\">Annuler</div>\\n                </div>\\n            </div>         \\n          </div>\\n        ');\n\t\n\t        this.$root.hide();\n\t\n\t        this.$modalContent = this.$root.find('.veol-modal-content');\n\t\n\t        var editor = _utils2.default.getPropertyEditor(property, widget.application.pageMaker.editorPool);\n\t        var $editor = editor.createEditor(widget, property);\n\t\n\t        this.$modalContent.append($editor);\n\t        editor.afterDraw($editor, widget, property);\n\t\n\t        var self = this;\n\t\n\t        _utils2.default.bindModal(this.$root, function () {\n\t            self.$root.hide();\n\t            self.cancel();\n\t        });\n\t\n\t        $('body').append(this.$root);\n\t\n\t        this.$root.find('.veol-button-validate').click(function () {\n\t            self.close();\n\t            if (!editor.isLiveEdit()) {\n\t                editor.getValue($editor);\n\t            }\n\t        });\n\t    }\n\t\n\t    _createClass(SingleFieldEditor, [{\n\t        key: 'show',\n\t        value: function show() {\n\t            this.backupData = this.widget.data[this.property.name];\n\t            this.$root.show();\n\t        }\n\t    }, {\n\t        key: 'close',\n\t        value: function close() {\n\t            this.$root.hide();\n\t        }\n\t    }, {\n\t        key: 'cancel',\n\t        value: function cancel() {\n\t            if (this.hasOwnProperty('backupData')) {\n\t                this.widget.application.updateWidgetData(this.widget, this.property.name, this.backupData);\n\t                delete this.backupData;\n\t            }\n\t        }\n\t    }]);\n\t\n\t    return SingleFieldEditor;\n\t}();\n\t\n\texports.default = SingleFieldEditor;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 22 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Component = function () {\n\t    function Component() {\n\t        _classCallCheck(this, Component);\n\t\n\t        this.$root = $('<div class=\"veol-component\"></div>');\n\t    }\n\t\n\t    _createClass(Component, [{\n\t        key: 'getComponentRoot',\n\t        value: function getComponentRoot() {\n\t            return this.$root;\n\t        }\n\t    }]);\n\t\n\t    return Component;\n\t}();\n\t\n\texports.default = Component;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 23 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _Component2 = __webpack_require__(22);\n\t\n\tvar _Component3 = _interopRequireDefault(_Component2);\n\t\n\tvar _utils = __webpack_require__(4);\n\t\n\tvar _utils2 = _interopRequireDefault(_utils);\n\t\n\tvar _ToolboxBar = __webpack_require__(24);\n\t\n\tvar _ToolboxBar2 = _interopRequireDefault(_ToolboxBar);\n\t\n\tvar _PreviewDeviceSwitch = __webpack_require__(25);\n\t\n\tvar _PreviewDeviceSwitch2 = _interopRequireDefault(_PreviewDeviceSwitch);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t/**\n\t *\n\t * @param {Preview} oreview\n\t * @param {Object} widget\n\t * @param {WidgetDefinition} [widget.widgetDefinition]\n\t * @param {jQuery} $parent\n\t */\n\tfunction drawWidget(preview, widget, $parent) {\n\t    var widgetDef = widget.widgetDefinition;\n\t    var isContainer = widgetDef.isContainer();\n\t    var $child = $('<div class=\"veol-preview-widget\" data-wid=\"' + widget.wid + '\"/>');\n\t\n\t    var previewProperties = widgetDef.config.preview || {};\n\t\n\t    if (previewProperties.onCreateOuter) {\n\t        previewProperties.onCreateOuter($child, widget);\n\t    }\n\t\n\t    $child.appendTo($parent);\n\t\n\t    // Associate widget with the dom element\n\t    $child.data('widget-instance', widget);\n\t\n\t    if (isContainer) {\n\t        // Container classes\n\t        $child.addClass('veol-is-container');\n\t\n\t        // Children\n\t        var $subParent = $('<div class=\"veol-preview-content veol-preview-children\"/>');\n\t        $subParent.appendTo($child);\n\t\n\t        if (previewProperties.onCreateContainer) {\n\t            previewProperties.onCreateContainer($subParent, widget);\n\t        }\n\t\n\t        widgetRefreshPreview($child, widget, {});\n\t\n\t        for (var i = 0; i < widget.children.length; i++) {\n\t            drawWidget(preview, widget.children[i], $subParent);\n\t        }\n\t    } else {\n\t        var $innerData = $('<div class=\"veol-preview-content\"></div>');\n\t        $innerData.appendTo($child);\n\t        if (previewProperties.onCreateContentContainer) {\n\t            previewProperties.onCreateContentContainer($innerData, widget);\n\t        }\n\t\n\t        widgetRefreshPreview($child, widget, {});\n\t    }\n\t}\n\t\n\tfunction widgetRefreshPreview($child, widget, event) {\n\t    var preview = widget.widgetDefinition.config.preview;\n\t    if (preview && preview.onDataChange) {\n\t        var $innerData = $child.find('.veol-preview-content').first();\n\t\n\t        if ($innerData.length > 0) {\n\t            preview.onDataChange($child, $innerData, widget, event);\n\t        }\n\t    }\n\t}\n\t\n\tvar Preview = function (_Component) {\n\t    _inherits(Preview, _Component);\n\t\n\t    function Preview(application, options) {\n\t        _classCallCheck(this, Preview);\n\t\n\t        var _this = _possibleConstructorReturn(this, (Preview.__proto__ || Object.getPrototypeOf(Preview)).call(this));\n\t\n\t        options = options || {};\n\t\n\t        _this.$root.addClass('veol-preview');\n\t\n\t        _this.$device = $('<div class=\"veol-device-wrapper\">\\n                <div class=\"veol-device-top\"></div>\\n                <div class=\"veol-device-screen\"></div>\\n                <div class=\"veol-device-bottom\"></div>\\n            </div>');\n\t\n\t        var defaultDeviceMove = options.hasOwnProperty('deviceMode') ? options.deviceMode : 'small';\n\t\n\t        /// TOP BAR\n\t        if (options.hasOwnProperty('topBar')) {\n\t            _this.topBar = options.topBar;\n\t        } else {\n\t            _this.topBar = new _ToolboxBar2.default();\n\t            if (defaultDeviceMove !== false) {\n\t                _this.topBar.append(new _PreviewDeviceSwitch2.default(_this));\n\t            }\n\t        }\n\t        if (_this.topBar) {\n\t            _this.$root.append(_this.topBar.$root);\n\t        }\n\t\n\t        _this.$screen = _this.$device.find('.veol-device-screen');\n\t        _this.$root.append(_this.$device);\n\t\n\t        _this.application = application;\n\t\n\t        _this.draw();\n\t\n\t        _this.setDevice(defaultDeviceMove);\n\t\n\t        var self = _this;\n\t\n\t        application.addEventListener('widgetMoved', function (movedWidget, target, operationType) {\n\t            var $target = self.$root.find('[data-wid=' + target.wid + ']');\n\t            var $moved = self.$root.find('[data-wid=' + movedWidget.wid + ']');\n\t            switch (operationType) {\n\t                case 'inside':\n\t                    $moved.appendTo($target.find('.veol-preview-children').first());\n\t                    break;\n\t                case 'after':\n\t                    $moved.insertAfter($target);\n\t                    break;\n\t                case 'before':\n\t                    $moved.insertBefore($target);\n\t                    break;\n\t                default:\n\t                    console.error('unknown operation type ' + operationType);\n\t            }\n\t        });\n\t\n\t        application.addEventListener('widgetDeleted', function (widget) {\n\t            self.$root.find('[data-wid=' + widget.wid + ']').remove();\n\t        });\n\t\n\t        application.addEventListener('widgetAdded', function (widget) {\n\t            var parentId = widget.parent.wid;\n\t\n\t            var $into;\n\t\n\t            // if the parent is the first parent (root of the data) then we add it to the $screen directly\n\t            // because the root element is not included in the preview\n\t            if (parentId == application.data.wid) {\n\t                $into = self.$screen;\n\t            } else {\n\t                $into = self.$root.find('[data-wid=' + parentId + ']');\n\t                $into = $into.children('.veol-preview-children').first();\n\t            }\n\t\n\t            drawWidget(self, widget, $into);\n\t        });\n\t\n\t        application.addEventListener('widgetSelected', function (widget) {\n\t            self.$root.find('[data-wid=' + widget.wid + ']').addClass('veol-widget-selected');\n\t        });\n\t\n\t        application.addEventListener('unselectAllWidgets', function () {\n\t            self.$root.find('.veol-widget-selected').removeClass('veol-widget-selected');\n\t        });\n\t\n\t        application.addEventListener('widgetDataEdited', function (widget, property, value) {\n\t            widgetRefreshPreview(self.$root.find('[data-wid=' + widget.wid + ']'), widget, this);\n\t        });\n\t        return _this;\n\t    }\n\t\n\t    _createClass(Preview, [{\n\t        key: 'draw',\n\t        value: function draw() {\n\t            this.$screen.empty();\n\t\n\t            var data = this.application.data;\n\t\n\t            for (var i = 0; i < data.children.length; i++) {\n\t                drawWidget(this, data.children[i], this.$screen);\n\t            }\n\t        }\n\t\n\t        /**\n\t         * The the device mode for preview\n\t         * @param device\n\t         */\n\t\n\t    }, {\n\t        key: 'setDevice',\n\t        value: function setDevice(device) {\n\t            this.deviceMode = device;\n\t\n\t            // Update the preview class\n\t            var currentDevice = this.$root.attr('veol-device');\n\t            if (currentDevice) {\n\t                this.$root.removeClass('veol-device-' + currentDevice);\n\t            }\n\t\n\t            if (device) {\n\t                this.$root.addClass('veol-device-enabled veol-device-' + device);\n\t            } else {\n\t                this.$root.removeClass('veol-device-enabled');\n\t            }\n\t\n\t            this.$root.attr('veol-device', device);\n\t            this.dispatchEvent('deviceChanged', [device, currentDevice]);\n\t        }\n\t    }]);\n\t\n\t    return Preview;\n\t}(_Component3.default);\n\t\n\t_utils2.default.makeObservable(Preview);\n\t\n\texports.default = Preview;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 24 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar ToolboxBar = function () {\n\t    function ToolboxBar() {\n\t        _classCallCheck(this, ToolboxBar);\n\t\n\t        this.$root = $('<div class=\"veol-toolbox-header\"><ul></ul></div>');\n\t    }\n\t\n\t    _createClass(ToolboxBar, [{\n\t        key: 'append',\n\t        value: function append(element) {\n\t            var typeofElement = typeof element === 'undefined' ? 'undefined' : _typeof(element);\n\t\n\t            var $element = void 0;\n\t\n\t            if (typeofElement === 'string') {\n\t                switch (element) {\n\t                    case '->':\n\t                        $element = $('<li class=\"veol-fill\"></li>');\n\t                        break;\n\t                    case '|':\n\t                        $element = $('<li class=\"veol-divider\"></li>');\n\t                        break;\n\t                    default:\n\t                        $element = $('<li class=\"veol-text\">' + element + '</li>');\n\t                        break;\n\t                }\n\t            } else if (typeofElement === 'object') {\n\t                $element = element.$root;\n\t            }\n\t\n\t            this.$root.children('ul').append($element);\n\t        }\n\t    }]);\n\t\n\t    return ToolboxBar;\n\t}();\n\t\n\texports.default = ToolboxBar;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 25 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar PreviewDeviceSwitch = function PreviewDeviceSwitch(preview) {\n\t    _classCallCheck(this, PreviewDeviceSwitch);\n\t\n\t    this.preview = preview;\n\t\n\t    this.$root = $('<li class=\"veol-list-inline\">\\n            <div class=\"veol-label\">Device:</div>\\n            <div class=\"veol-list-choices\">\\n                <ul>\\n                    <li class=\"device-button veol-active\" data-device=\"small\">\\n                        <i class=\"fa fa-mobile fa-fw\"></i>\\n                    </li>\\n                    <li class=\"device-button\" data-device=\"medium\">\\n                        <i class=\"fa fa-tablet fa-fw\"></i>\\n                    </li>\\n                    <li class=\"device-button\" data-device=\"large\">\\n                        <i class=\"fa fa-laptop fa-fw\"></i>\\n                    </li>\\n                    <li class=\"device-button\" data-device=\"xlarge\">\\n                        <i class=\"fa fa-desktop fa-fw\"></i>\\n                    </li>\\n                </ul>\\n            </div>\\n        </li>');\n\t\n\t    var self = this;\n\t\n\t    this.$root.find('.device-button').click(function () {\n\t        var device = $(this).attr('data-device');\n\t        preview.setDevice(device);\n\t    });\n\t\n\t    preview.addEventListener('deviceChanged', function (newDevice, oldDevice) {\n\t        // Update the active button on device change\n\t        self.$root.find('.device-button.veol-active').removeClass('veol-active');\n\t        self.$root.find('.device-button[data-device=' + newDevice + ']').addClass('veol-active');\n\t    });\n\t};\n\t\n\texports.default = PreviewDeviceSwitch;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 26 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _PropertyEditorPool = __webpack_require__(6);\n\t\n\tvar _PropertyEditorPool2 = _interopRequireDefault(_PropertyEditorPool);\n\t\n\tvar _utils = __webpack_require__(4);\n\t\n\tvar _utils2 = _interopRequireDefault(_utils);\n\t\n\tvar _SingleFieldEditor = __webpack_require__(21);\n\t\n\tvar _SingleFieldEditor2 = _interopRequireDefault(_SingleFieldEditor);\n\t\n\tvar _Component2 = __webpack_require__(22);\n\t\n\tvar _Component3 = _interopRequireDefault(_Component2);\n\t\n\tvar _drawWidgetEditors = __webpack_require__(20);\n\t\n\tvar _drawWidgetEditors2 = _interopRequireDefault(_drawWidgetEditors);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t/**\n\t *\n\t * @param {WidgetPropertiesEditor} propertyEditor\n\t * @param {Object} widget\n\t */\n\tfunction drawWidget(propertyEditor, widget) {\n\t\n\t    propertyEditor.$propertiesWrapper.children().hide();\n\t    var $weditor = void 0;\n\t\n\t    if (propertyEditor.__editorCache.hasOwnProperty(widget.wid)) {\n\t        $weditor = propertyEditor.__editorCache[widget.wid];\n\t        $weditor.show();\n\t    } else {\n\t        $weditor = (0, _drawWidgetEditors2.default)(widget, propertyEditor.editorPool);\n\t        propertyEditor.__editorCache[widget.wid] = $weditor;\n\t        propertyEditor.$propertiesWrapper.append($weditor);\n\t    }\n\t}\n\t\n\tvar WidgetPropertiesEditor = function (_Component) {\n\t    _inherits(WidgetPropertiesEditor, _Component);\n\t\n\t    function WidgetPropertiesEditor(application) {\n\t        _classCallCheck(this, WidgetPropertiesEditor);\n\t\n\t        var _this = _possibleConstructorReturn(this, (WidgetPropertiesEditor.__proto__ || Object.getPrototypeOf(WidgetPropertiesEditor)).call(this));\n\t\n\t        _this.__editorCache = {};\n\t\n\t        _this.$root.addClass('veol-property-editor veol-controls veol-toolbox');\n\t        _this.$root.append($('<div class=\"veol-toolbox-header\">\\n                <ul>\\n                    <li class=\"veol-title\">Propri\\xE9t\\xE9s</li>\\n                </ul>\\n            </div>'));\n\t\n\t        _this.$propertiesWrapper = $('<div class=\"veol-properties-wrapper\"></div>');\n\t        _this.$root.append(_this.$propertiesWrapper);\n\t\n\t        _this.application = application;\n\t        _this.editorPool = application.pageMaker.editorPool;\n\t\n\t        var self = _this;\n\t\n\t        application.addEventListener('widgetDeleted', function (widget) {\n\t            self.$propertiesWrapper.children().hide();\n\t            // TODO delete cached version\n\t        });\n\t        application.addEventListener('widgetSelected', function (widget) {\n\t            drawWidget(self, widget);\n\t        });\n\t        application.addEventListener('unselectAllWidgets', function (widget) {\n\t            self.$propertiesWrapper.children().hide();\n\t        });\n\t        return _this;\n\t    }\n\t\n\t    return WidgetPropertiesEditor;\n\t}(_Component3.default);\n\t\n\texports.default = WidgetPropertiesEditor;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 27 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Viewport = function () {\n\t    function Viewport(application) {\n\t        _classCallCheck(this, Viewport);\n\t\n\t        this.application = application;\n\t        this.$root = $('<div class=\"veol-viewport\"/>');\n\t\n\t        this.$mainPannel = $('<div class=\"veol-vp-main\"/>');\n\t        this.$mainPannel.appendTo(this.$root);\n\t\n\t        this.$leftPannel = $('<div class=\"veol-vp-left veol-vp-toolbox-container\"/>');\n\t        this.$leftPannel.prependTo(this.$root);\n\t\n\t        this.$rightPannel = $('<div class=\"veol-vp-right veol-vp-toolbox-container\"/>');\n\t        this.$rightPannel.appendTo(this.$root);\n\t    }\n\t\n\t    _createClass(Viewport, [{\n\t        key: 'setMainComponent',\n\t        value: function setMainComponent(component) {\n\t            component.getComponentRoot().appendTo(this.$mainPannel);\n\t        }\n\t    }, {\n\t        key: 'appendLeftToolbox',\n\t        value: function appendLeftToolbox(component) {\n\t            component.getComponentRoot().appendTo(this.$leftPannel);\n\t            this.showLeftPannel();\n\t        }\n\t    }, {\n\t        key: 'appendRightToolbox',\n\t        value: function appendRightToolbox(component) {\n\t            component.getComponentRoot().appendTo(this.$rightPannel);\n\t            this.showRightPannel();\n\t        }\n\t    }, {\n\t        key: 'hideRightPannel',\n\t        value: function hideRightPannel() {\n\t            this.$rightPannel.removeClass('veol-show');\n\t        }\n\t    }, {\n\t        key: 'showRightPannel',\n\t        value: function showRightPannel() {\n\t            this.$rightPannel.addClass('veol-show');\n\t        }\n\t    }, {\n\t        key: 'hideLeftPannel',\n\t        value: function hideLeftPannel() {\n\t            this.$leftPannel.removeClass('veol-show');\n\t        }\n\t    }, {\n\t        key: 'showLeftPannel',\n\t        value: function showLeftPannel() {\n\t            this.$leftPannel.addClass('veol-show');\n\t        }\n\t    }, {\n\t        key: 'appendTo',\n\t        value: function appendTo(element) {\n\t            $(element).append(this.$root);\n\t        }\n\t    }]);\n\t\n\t    return Viewport;\n\t}();\n\t\n\texports.default = Viewport;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 28 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = vueJsPreview;\n\tfunction vueJsPreview(options) {\n\t\n\t    var previewOptions = {};\n\t\n\t    if (options.template) {\n\t        previewOptions.onCreateContentContainer = function ($content, widget) {\n\t            var $block = $(options.template);\n\t            $content.append($block);\n\t\n\t            new Vue({\n\t                el: $block[0],\n\t                data: widget.data\n\t            });\n\t        };\n\t    }\n\t\n\t    return previewOptions;\n\t};\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 29 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar SimpleButton = function () {\n\t    function SimpleButton(text, action) {\n\t        _classCallCheck(this, SimpleButton);\n\t\n\t        this.$root = $('<li class=\"veol-action-btn\"/>');\n\t        this.$button = $('<button class=\"veol-button\">' + text + '</button>');\n\t        this.$button.appendTo(this.$root);\n\t\n\t        var self = this;\n\t\n\t        this.$button.click(function (e) {\n\t            action.call(self, []);\n\t        });\n\t    }\n\t\n\t    _createClass(SimpleButton, [{\n\t        key: 'setButtonType',\n\t        value: function setButtonType(type) {\n\t            this.$button.addClass('veol-button-' + type);\n\t        }\n\t    }, {\n\t        key: 'setText',\n\t        value: function setText(text) {\n\t            this.$button.html(text);\n\t        }\n\t    }, {\n\t        key: 'hide',\n\t        value: function hide() {\n\t            this.$root.addClass('veol-hide');\n\t        }\n\t    }, {\n\t        key: 'show',\n\t        value: function show() {\n\t            this.$root.removeClass('veol-hide');\n\t        }\n\t    }]);\n\t\n\t    return SimpleButton;\n\t}();\n\t\n\texports.default = SimpleButton;\n\tmodule.exports = exports['default'];\n\n/***/ }\n/******/ ])\n});\n;\n\n\n// WEBPACK FOOTER //\n// veol.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 59d62ee2cd3a96dde017","import PageMaker from './PageMaker';\nimport WidgetDefinition from './WidgetDefinition';\nimport utils from \"./utils\"\nimport {titleDetails} from \"./utils\"\n\n// Gui\nimport Tree from './Gui/Tree'\nimport Preview from './Gui/Preview'\nimport WidgetPropertiesEditor from './Gui/WidgetPropertiesEditor'\nimport WidgetCreator from './Gui/WidgetCreator'\nimport Viewport from './Gui/Viewport'\nimport ToolboxBar from './Gui/ToolboxBar'\nimport vueJsPreview from './Gui/vueJsPreview'\n\n// Toolbax action\nimport SimpleButton from './Gui/ToolboxAction/SimpleButton'\nimport PreviewDeviceSwitch from './Gui/ToolboxAction/PreviewDeviceSwitch'\n\nimport Error from './Error'\n\n// Editor\nimport PropertyEditor from './Gui/WidgetPropertiesEditor/PropertyEditor'\nimport EditorSimpleInput from './Gui/WidgetPropertiesEditor/Editor/SimpleInput'\n\nlet Veol = {\n    PageMaker,\n    WidgetDefinition,\n\n    Gui: {\n        Tree,\n        Preview,\n        WidgetPropertiesEditor,\n        WidgetCreator,\n        Viewport,\n        vueJsPreview,\n        ToolboxBar,\n        ToolboxAction: {\n            SimpleButton,\n            PreviewDeviceSwitch\n        }\n    },\n\n\n\n    PropertyEditor,\n\n    utils,\n    titleDetails,\n\n    Error,\n\n    _currentZIndex: 1500\n\n};\n\nVeol.PropertyEditor.SimpleInput = EditorSimpleInput;\n\nexport default Veol;\n\n\n\n// WEBPACK FOOTER //\n// ./src/javascripts/index.js","import WidgetWidgetList from \"./Widgets/widget-list\"\nimport Application from \"./Application\"\nimport utils from \"./utils\"\nimport EditorPool from './Gui/WidgetPropertiesEditor/PropertyEditorPool'\n\nvar widgetInstanceId = 10000;\n\nvar PageMaker = function(){\n    this.widgets = {};\n\n    this.editorPool = new EditorPool({\n        loadDefaults: true\n    });\n\n    this.addWidgetDefinition(\"widget-list\", new WidgetWidgetList());\n};\n\nPageMaker.prototype.addWidgetDefinition = function(name, widget){\n    this.widgets[name] = widget;\n};\n\n/**\n * Find a widget by its name among the internally registered widgets\n * @param name\n * @returns {*}\n */\nPageMaker.prototype.findWidgetDefinition = function(name){\n    var widget = this.widgets[name];\n    if(!widget){\n        throw 'No widget named ' + name + ' was found';\n    }else{\n        return widget;\n    }\n};\n\n/**\n * Parse input data to associate a widget definition to widget data\n * @param data\n */\nPageMaker.prototype.parseData = function(data, application, parent = null){\n    var newData = {};\n\n    // TODO: provide a deep copy of data.data\n    newData.data = data.data ||{};\n    newData.meta = data.meta ||{};\n    newData.editor = data.editor ||{};\n    newData.wid = widgetInstanceId++;\n    newData.parent = parent;\n    newData.application = application;\n\n    utils.makeObservable(newData, true);\n\n\n    if(data.widgetName){\n        newData.widgetName = data.widgetName;\n        newData.widgetDefinition = this.findWidgetDefinition(data.widgetName);\n\n        newData.helper = {\n            save: function () {\n                return newData.widgetDefinition.onSave(newData);\n            }\n        };\n\n        if(newData.widgetDefinition.isContainer()){\n            if(data.children && data.children.length>0){\n                newData.children = [];\n                for(let c in data.children){\n                    if(data.children.hasOwnProperty(c)) {\n                        newData.children[c] = this.parseData(data.children[c], application, newData);\n                    }\n                }\n            }else{\n                newData.children = [];\n            }\n        }\n    }\n\n    return newData;\n};\n\n/**\n * Creates an application with the given data\n * @param data\n * @returns {Application}\n */\nPageMaker.prototype.createApplication = function(data){\n    return new Application(this, data);\n};\n\nexport default PageMaker;\n\n\n\n// WEBPACK FOOTER //\n// ./src/javascripts/PageMaker.js","import WidgetDefinition from \"../WidgetDefinition\";\n\nexport default WidgetDefinition.create({\n    isContainer: true,\n\n    title: 'Groupe',\n\n    faIconName: 'folder'\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/javascripts/Widgets/widget-list.js","import utils from './utils';\n\nclass WidgetDefinition{\n\n    onSave(widget) {\n        var data = {\n            widgetName: widget.widgetName\n        };\n\n        if(this.isContainer()){\n            data.children = [];\n            for(var c in widget.children){\n                if(widget.children.hasOwnProperty(c)) {\n                    data.children.push(widget.children[c].helper.save());\n                }\n            }\n        }\n\n        if(widget.data && Object.getOwnPropertyNames(widget.data).length > 0){\n            data.data = widget.data;\n        }\n\n        if(widget.meta && Object.getOwnPropertyNames(widget.meta).length > 0){\n            data.meta = widget.meta;\n        }\n\n        if(widget.editor && Object.getOwnPropertyNames(widget.editor).length > 0){\n            data.editor = widget.editor;\n        }\n\n        return data;\n    }\n\n    isContainer() {\n        return this.config.isContainer === true;\n    }\n\n\n    /**\n     * Check if the given widget is acceptable as a child of this widget\n     * @param widget\n     * @returns {*}\n     */\n    allowedAsChild(widget) {\n        let types;\n        if(widget.widgetDefinition) {\n            types = widget.widgetDefinition.config.types;\n        }else{\n            types = widget.config.types;\n        }\n        return utils.whitelistBlacklistChecker(this.config.childrenWhitelist, this.config.childrenBlacklist, types);\n    }\n\n    /**\n     * Check if the given widget is acceptable as a parent of this widget\n     * @param widget\n     * @returns {*}\n     */\n    allowedAsParent(widget) {\n        let types;\n        if(widget.widgetDefinition) {\n            types = widget.widgetDefinition.config.types;\n        }else{\n            types = widget.config.types;\n        }\n        return utils.whitelistBlacklistChecker(this.config.parentWhitelist, this.config.parentBlacklist, types);\n    }\n\n}\n\n/**\n * @param {Object} config\n * @param {boolean} [config.isContainer=false] true if the widget is a container. A container will accept children widget\n * @param {Array} [config.types=[]] types are used for widget child/parent acceptance.\n * See childrenWhiteList, childrenBlacklist, parentWhiteList and parentBlackList options\n * @param {Array} [config.childrenWhitelist] allowed children. By default all children are allowed.\n * @param {Array} [config.childrenBlacklist] forbidden children. By default all children no child is forbidden.\n * @param {Array} [config.parentWhitelist] allowed parents. By default all parents are allowed.\n * @param {Array} [config.parentBlacklist] forbidden parents. By default all children no parent is forbidden.\n *\n *\n *\n * @param {boolean} [config.preview] array of callbacks that can be called during rendering\n *\n * @param {boolean} [config.preview.onCreateContainer] called when the container dom element is created\n * but not populated yet. This method is called only when config.isContainer is set to true.\n *\n * @param {boolean} [config.preview.afterCreateContainer] called after the container dom element is created\n * and populated. This method is called only when config.isContainer is set to true.\n *\n * @param {boolean} [config.preview.onPreview] called when the preview dom element is created\n * but not populated yet, only when config.isContainer is false\n\n * @param {boolean} [config.preview.onDataChange] called when the preview dom element is created\n * but not populated yet, This method is called only when config.isContainer is set to false\n *\n * @param {boolean} [config.preview.onCreateOuter] called when the outer div containing the element is created\n *\n * @returns {WidgetDefinition} createdWidget\n */\nWidgetDefinition.create = function(config){\n    config = config ||{};\n    var Widget_ =  function(){\n        this.config = config;\n        this.config.data = this.config.data ||{};\n    };\n    Widget_.prototype = Object.create(WidgetDefinition.prototype);\n    return Widget_;\n};\n\nWidgetDefinition.fastInstance = function(config){\n    var widget = WidgetDefinition.create(config);\n    return new widget();\n};\n\nexport default WidgetDefinition;\n\n\n\n// WEBPACK FOOTER //\n// ./src/javascripts/WidgetDefinition.js","var insertWidgetAt = function(insertWidget, at, inParent){\n\n    if(insertWidget.parent) {\n        var indexInBaseParent = insertWidget.parent.children.indexOf(insertWidget);\n        insertWidget.parent.children.splice(indexInBaseParent, 1);\n\n        // If inserted in the same parent we might need to correct the index\n        if(inParent === insertWidget.parent && at >= indexInBaseParent){\n            at--;\n        }\n    }\n\n    inParent.children.splice(at, 0, insertWidget);\n\n    insertWidget.parent = inParent;\n};\n\n\nvar arrayContainsOneOf = function(testArray, dataArray){\n    for(let i = 0; i < dataArray.length; i++){\n        if(testArray.indexOf(dataArray[i]) >= 0){\n            return true;\n        }\n    }\n    return false;\n};\n\nfunction createEvent(data){\n    var stopped = false;\n    var event = {\n        stop: function(){\n            stopped = true;\n        },\n\n        isStopped: function(){\n            return stopped;\n        },\n\n        data: data || {}\n    };\n\n    return event;\n}\n\nvar titleDetails = function(title){\n    return `<span class='veol-title-details'>${title}</span>`;\n};\n\nexport {titleDetails};\n\nexport default {\n\n    /**\n     * Extends the prototype of the given object to be observable (and compatible with RxJS)\n     * @param target\n     * @param directBind by default observable methods are added on the prototype but it's possible to add them\n     * directly as object properties by passing this param to true\n     */\n    makeObservable: function (target, directBind){\n\n        var realTarget;\n        if(directBind){\n            realTarget = target;\n        } else {\n            realTarget = target.prototype;\n        }\n\n        realTarget.addEventListener = function(name, callback){\n            var eventTarget = directBind ? realTarget : this;\n\n            if (!eventTarget.hasOwnProperty('__veol_callbacks')) {\n                eventTarget.__veol_callbacks = {};\n            }\n\n            if(!eventTarget.__veol_callbacks.hasOwnProperty(name)) {\n                eventTarget.__veol_callbacks[name] = [];\n            }\n\n            eventTarget.__veol_callbacks[name].push(callback);\n        };\n\n        realTarget.removeEventListener = function(name, callback){\n            var eventTarget = directBind ? realTarget : this;\n\n            if(eventTarget.hasOwnProperty('__veol_callbacks') && eventTarget.__veol_callbacks.hasOwnProperty(name)){\n                for(var i = eventTarget.__veol_callbacks[name].length - 1; i >= 0; i--) {\n                    if (eventTarget.__veol_callbacks[name][i] === callback) {\n                        eventTarget.__veol_callbacks[name].splice(i, 1);\n                    }\n                }\n            }\n        };\n\n        realTarget.dispatchEvent = function(name, properties, eventData){\n            var eventTarget = directBind ? realTarget : this;\n\n            var event = createEvent(eventData);\n\n            if(eventTarget.hasOwnProperty('__veol_callbacks') && eventTarget.__veol_callbacks.hasOwnProperty(name)){\n                for(var i = 0; i < eventTarget.__veol_callbacks[name].length; i++) {\n                    eventTarget.__veol_callbacks[name][i].apply(event, properties);\n                    if(event.isStopped()){\n                        break;\n                    }\n                }\n            }\n        }\n\n\n\n    },\n\n    insertWidgetBefore: function (beforeWidget, insertWidget){\n        let parent = beforeWidget.parent;\n        if(!parent){\n            throw 'target widget has no parent';\n        }\n        if(!parent.children){\n            throw 'target widget has invalid parent (no children registered)';\n        }\n\n        var index = parent.children.indexOf(beforeWidget);\n        if(index === -1){\n            throw 'target widget has invalid parent (widget not found in parent)';\n        }\n\n        insertWidgetAt(insertWidget, index, parent);\n    },\n\n    insertWidgetAfter: function (afterWidget, insertWidget){\n        let parent = afterWidget.parent;\n        if(!parent){\n            throw 'target widget has no parent';\n        }\n        if(!parent.children){\n            throw 'target widget has invalid parent (no children registered)';\n        }\n\n        var index = parent.children.indexOf(afterWidget) + 1;\n        if(index === -1){\n            throw 'target widget has invalid parent (widget not found in parent)';\n        }\n\n        insertWidgetAt(insertWidget, index, parent);\n    },\n\n    appendWidget: function(parent, insertWidget){\n        if(!parent.children){\n            throw 'target widget has invalid parent (no children registered)';\n        }\n        insertWidgetAt(insertWidget, parent.children.length, parent)\n    },\n\n    insertWidgetAt: insertWidgetAt,\n\n\n    domIndexOf(child, parent) {\n        return Array.prototype.indexOf.call(\n            parent.children,\n            child\n        )\n    },\n\n    arrayContainsOneOf,\n\n    whitelistBlacklistChecker(whiteList, blackList, items){\n        items = items || [];\n        // If is in blacklist\n        if(blackList && blackList.length > 0 && arrayContainsOneOf(blackList, items)){\n            return false;\n        }\n        // If not in whitelist\n        return !(whiteList && whiteList.length > 0)  || arrayContainsOneOf(whiteList, items)\n    },\n\n    /**\n     * Get the editor for the given property using the given editor pool\n     * @param property\n     * @param editorPool\n     * @returns {*}\n     */\n    getPropertyEditor: function(property, editorPool){\n\n        var editorName = property.editor || 'textfield';\n\n        if (typeof editorName == 'string') {\n            var editor = editorPool.findEditor(editorName);\n            if(!editor){\n                throw `Unknown editor ${editorName}`\n            }\n            return editor;\n        } else {\n            return editorName;\n        }\n    },\n\n    /**\n     * Bind a modal to be responsive to use interaction (close buttons)\n     * @param $modal\n     * @param closeHandler\n     */\n    bindModal: function($modal, closeHandler){\n\n        $modal.find('[veol-close]').click(function(){\n            closeHandler();\n        });\n\n        $modal.css({'z-index': Veol._currentZIndex++});\n\n    },\n\n    /**\n     * Bind a modal to be responsive to use interaction (close buttons)\n     * @param $el\n     */\n    setZIndex: function($el){\n        $el.css({'z-index': Veol._currentZIndex++});\n    },\n\n\n    getWidgetIconClass: function(widgetDef){\n\n        if(widgetDef.config.faIconName){\n            return `fa fa-${widgetDef.config.faIconName}`;\n\n        }\n        return false;\n    }\n\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/javascripts/utils.js","import utils from \"./utils\"\nimport EditorPool from \"./Gui/WidgetPropertiesEditor/PropertyEditorPool\"\nimport ConfirmBox from \"./Gui/ConfirmBox\"\nimport VeolError from './Error'\n\nclass Application {\n\n    /**\n     *\n     * @param {PageMaker} pageMaker\n     * @param {object} data\n     */\n    constructor(pageMaker, data){\n\n        if(null === data || typeof data !== 'object'){\n            throw new VeolError(VeolError.ERR_INVALID_DATA, 'Veol data should be an object')\n        } else if(Object.keys(data).length === 0){\n            throw new VeolError(VeolError.ERR_INVALID_DATA, 'Veol data cannot be empty')\n        } else  if(!data.hasOwnProperty('widgetName')){\n            throw new VeolError(\n                VeolError.ERR_INVALID_DATA,\n                'the given data do not appear to be a valid widget (no widget name was provided for the root element)'\n            )\n        }\n\n        this.pageMaker = pageMaker;\n        this.originalData = data;\n        this.data = pageMaker.parseData(data, this, null);\n        this.selectedWidget = [];\n\n        this.yesNo = new ConfirmBox();\n    }\n\n    /**\n     * Get a serialized version of the data\n     * @returns {*}\n     */\n    save(){\n        return this.data.helper.save();\n    }\n\n    /**\n     * refresh the inner data\n     */\n    reload(){\n        var data = this.save();\n        this.data = pageMaker.parseData(data, this, null);\n    }\n\n    deleteWidget(widget){\n        var i = widget.parent.children.indexOf(widget);\n        if(i>0){\n            widget.parent.children.splice(i, 1);\n        }\n        this.dispatchEvent('widgetDeleted', [widget]);\n    }\n\n    /**\n     * Set the widget in a selected state and adds it to the list of selected widget.\n     * Typically a widget is selected when the user clicks it\n     * @param widget\n     */\n    selectWidget(widget){\n        this.selectedWidget.push(widget);\n        this.dispatchEvent('widgetSelected', [widget]);\n    }\n\n\n    /**\n     * Unselect all widget previously selected\n     */\n    unselectAllWidgets(){\n        this.selectedWidget = [];\n        this.dispatchEvent('unselectAllWidgets', []);\n    }\n\n    /**\n     * update a data of a widget\n     * @param widget\n     * @param propertyName\n     * @param value\n     * @param eventData data to pass to the event\n     */\n    updateWidgetData (widget, propertyName, value, eventData) {\n        this.getWidget(widget).data[propertyName] = value;\n        this.dispatchEvent('widgetDataEdited', [widget, propertyName, value], eventData);\n        widget.dispatchEvent('dataEdited', [propertyName, value], eventData);\n    }\n\n    /**\n     * Set a value in the widget meta\n     * @param widget\n     * @param metaName\n     * @param value\n     * @param eventData data to pass to the event\n     */\n    updateWidgetMeta(widget, metaName, value, eventData) {\n        this.getWidget(widget).meta[metaName] = value;\n        this.dispatchEvent('widgetMetaEdited', [widget, metaName, value], eventData);\n        widget.dispatchEvent('metaEdited', [metaName, value], eventData);\n    }\n\n    /**\n     * Set a value in the widget editor properties\n     * @param widget\n     * @param name\n     * @param value\n     * @param eventData data to pass to the event\n     */\n    updateWidgetEditorProperty(widget, name, value, eventData) {\n        this.getWidget(widget).editor[name] = value;\n        this.dispatchEvent('widgetEditorPropertyEdited', [widget, name, value], eventData);\n        widget.dispatchEvent('editorPropertyEdited', [name, value], eventData);\n    }\n\n    /**\n     * Get an editor property for the given widget\n     * @param widget\n     * @param name\n     * @returns {*}\n     */\n    getWidgetEditorProperty(widget, name) {\n        return this.getWidget(widget).editor[name];\n    }\n\n\n    getWidget(widget){\n        if(typeof widget === \"object\"){\n            return widget;\n        } else {\n            throw 'Unable to find a widget by id: not implemented yet';\n            // TODO by id\n        }\n    }\n\n    createWidget(data, widgetDef, parentWidget){\n        var widget = this.pageMaker.parseData(widgetData, this, inWidget);\n\n        if(inWidget){\n            inWidget.children.push(widget);\n        }\n\n        this.dispatchEvent('widgetCreated', [widget]);\n    }\n\n}\n\nutils.makeObservable(Application);\n\nexport default Application;\n\n\n\n// WEBPACK FOOTER //\n// ./src/javascripts/Application.js","import TextField from './Editor/TextField'\nimport TextArea from './Editor/TextArea'\nimport Select from './Editor/Select'\nimport Range from './Editor/Range'\nimport Checkbox from './Editor/Checkbox'\nimport Color from './Editor/Color'\n\n\nfunction loadDefaults(pool){\n    pool.addEditor(['textField', 'textfield'], new TextField());\n    pool.addEditor(['text', 'textArea'], new TextArea());\n    pool.addEditor(['select'], new Select());\n    pool.addEditor(['range'], new Range());\n    pool.addEditor(['checkbox'], new Checkbox());\n    pool.addEditor(['color'], new Color());\n}\n\nclass PropertyEditorPool{\n\n    constructor(config){\n\n        config = config || config;\n\n        this.editors = [];\n\n        if(config.loadDefaults){\n            loadDefaults(this);\n        }\n    }\n\n    addEditor(names, editor){\n        this.editors.push({\n            names: names,\n            editor: editor\n        });\n    }\n\n    findEditor(name){\n        for(var i = 0; i<this.editors.length; i++){\n            if(this.editors[i].names.indexOf(name) > -1){\n                return this.editors[i].editor;\n            }\n        }\n        return null;\n    }\n\n}\n\nexport default PropertyEditorPool;\n\n\n\n// WEBPACK FOOTER //\n// ./src/javascripts/Gui/WidgetPropertiesEditor/PropertyEditorPool.js","import SimpleInput from './SimpleInput';\n\n\nclass TextField extends SimpleInput{\n\n    getInput() {\n        return $('<input type=\"text\" />');\n    }\n}\n\n\nexport default TextField;\n\n\n\n// WEBPACK FOOTER //\n// ./src/javascripts/Gui/WidgetPropertiesEditor/Editor/TextField.js","import PropertyEditor from '../PropertyEditor';\n\n\nclass SimpleInput extends PropertyEditor{\n\n    constructor(){\n        super({\n            'isLiveEdit': true\n        });\n\n        var self = this;\n\n        this.config.onCreateEditor = function($editor, widget, property){\n            var $input = self.getInput($editor, widget, property);\n            $input.on('input', function(){\n                widget.application.updateWidgetData(widget, property.name, $input.val());\n            });\n\n            $editor.data('veol-get-value', function(){\n                return $input.val();\n            });\n\n            var value = widget.data[property.name];\n\n            if(value){\n                $input.val(value);\n            }\n\n            widget.addEventListener('dataEdited', function(propertyName, value){\n                if(propertyName == property.name){\n                    $input.val(value);\n                }\n            });\n\n\n            self.drawEditor($editor, $input, widget, property);\n        }\n\n    }\n\n    drawEditor($editor, $input, widget, property){\n        $editor.append($input, widget, property);\n    }\n\n    getInput($editor, widget, property){\n        throw 'This method is abstract and should be overriden by extending class';\n    }\n}\n\n\nexport default SimpleInput;\n\n\n\n// WEBPACK FOOTER //\n// ./src/javascripts/Gui/WidgetPropertiesEditor/Editor/SimpleInput.js","class PropertyEditor{\n\n    constructor(config){\n        this.config = config || {};\n    }\n\n\n    createEditor(widget, property){\n        var $editor = $('<div class=\"veol-widget-editor-group\"/>')\n\n        if(this.config.onCreateEditor){\n            this.config.onCreateEditor($editor, widget, property);\n        }\n\n        return $editor;\n    }\n\n    isLiveEdit(){\n        return this.config.isLiveEdit === true;\n    }\n\n    hasEditionHandler(){\n        return !!this.config.editionHandler;\n    }\n\n    afterDraw($editor, widget, property){\n        // To be implemented by children that need logic after element is drawn\n    }\n\n    getValue($editor) {\n        var valueGetter = $editor.data('veol-get-value');\n        if(! typeof valueGetter == 'function'){\n            throw 'Editor did not implement get value';\n        }\n        return valueGetter();\n    }\n\n}\n\nexport default PropertyEditor;\n\n\n\n// WEBPACK FOOTER //\n// ./src/javascripts/Gui/WidgetPropertiesEditor/PropertyEditor.js","import SimpleInput from './SimpleInput';\n\n\nclass TextArea extends SimpleInput{\n\n    getInput($editor, widget, property) {\n        return $('<textarea/>');\n    }\n\n    isLiveEdit(){\n        return false;\n    }\n\n}\n\nexport default TextArea;\n\n\n\n// WEBPACK FOOTER //\n// ./src/javascripts/Gui/WidgetPropertiesEditor/Editor/TextArea.js","import SimpleInput from './SimpleInput';\n\n\nclass Select extends SimpleInput{\n\n\n    getInput($editor, widget, property) {\n\n\n        var $select = $('<select />');\n\n        if(property.multiple){\n            $select.prop('multiple', true);\n        }\n\n        for(var i= 0; i < property.options.length; i++){\n            var opt = property.options[i];\n            var optType = typeof opt;\n\n            if (optType == 'string' || optType == 'number') {\n                $select.append(`<option value=\"${opt}\" >${opt}</option>`);\n            } else {\n                $select.append(`<option value=\"${opt.value}\" >${opt.label}</option>`);\n            }\n\n        }\n\n        return $select;\n\n    }\n}\n\nexport default Select;\n\n\n\n// WEBPACK FOOTER //\n// ./src/javascripts/Gui/WidgetPropertiesEditor/Editor/Select.js","import SimpleInput from './SimpleInput';\n\n\nclass Range extends SimpleInput{\n\n    getInput($editor, widget, property) {\n        var min = property.min || 0;\n        var max = property.max || min + 100;\n        var step = property.step || 1;\n\n        return $(`<input type=\"range\" min=\"${min}\" max=\"${max}\" step=\"${step}\" />`);\n    }\n\n    drawEditor($editor, $input, widget, property){\n\n        var $count = $('<span class=\"veol-range-preview\"></span>');\n\n        $count.html($input.val());\n\n        $editor.addClass('veol-combined-range');\n\n        $editor.append($count);\n        $editor.append($input);\n\n        widget.addEventListener('dataEdited', function(propertyName, value){\n            if(propertyName == property.name){\n                $count.html(value);\n            }\n        });\n\n    }\n}\n\n\nexport default Range;\n\n\n\n// WEBPACK FOOTER //\n// ./src/javascripts/Gui/WidgetPropertiesEditor/Editor/Range.js","import PropertyEditor from '../PropertyEditor';\n\n\nexport default class Checkbox extends PropertyEditor{\n\n    constructor(){\n        super({\n            'isLiveEdit': true\n        });\n\n        var self = this;\n\n        this.config.onCreateEditor = function($editor, widget, property){\n            var $input = $('<input type=\"checkbox\" />');\n            $input.on('change', function(){\n                widget.application.updateWidgetData(widget, property.name, $input.is(':checked'));\n            });\n\n            $editor.data('veol-get-value', function(){\n                return $input.is(':checked');\n            });\n\n            var value = widget.data[property.name];\n\n            if(value){\n                $input.prop('checked', !!value);\n            }\n\n            widget.addEventListener('dataEdited', function(propertyName, value){\n                if(propertyName == property.name){\n                    $input.prop('checked', !!value);\n                }\n            });\n\n            $editor.append($input);\n        }\n\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/javascripts/Gui/WidgetPropertiesEditor/Editor/Checkbox.js","import SimpleInput from './SimpleInput';\n\n\nexport default class Color extends SimpleInput{\n\n    getInput() {\n        return $('<input type=\"color\" />');\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/javascripts/Gui/WidgetPropertiesEditor/Editor/Color.js","import utils from '../utils';\n\nclass ConfirmBox{\n\n    constructor(application){\n        this.application = application;\n\n\n        this.$root = $(`\n          <div class=\"veol-modal\">\n            <div class=\"veol-modal-background\"></div>\n            <div class=\"veol-modal-display-area veol-controls\">\n                <div class=\"veol-modal-header\">\n                    <div class=\"veol-modal-title\">Confirmer</div>\n                    <div veol-close><i class=\"fa fa-times fa-fw\"></i></div>\n                </div>\n                <div class=\"veol-modal-content\"></div>\n                <div class=\"veol-modal-footer\">\n                    <div class=\"veol-button veol-button-validate\">Oui</div>\n                    <div class=\"veol-button veol-button-cancel\">Non</div>\n                </div>\n            </div>         \n          </div>\n        `);\n\n        this.$root.hide();\n\n        this.$modalContent = this.$root.find('.veol-modal-content');\n\n\n        var self = this;\n\n        utils.bindModal(this.$root, function(){\n            self.close();\n        });\n\n        $('body').append(this.$root);\n\n        this.$root.find('.veol-button-validate').click(function(){\n            self.close();\n\n                console.log('kk');\n            if(self._yes){\n                self._yes();\n            }\n        });\n\n        this.$root.find('.veol-button-cancel').click(function(){\n            self.close();\n\n            if(self._no){\n                self._no();\n            }\n        });\n\n    }\n\n    ask(message, yesHandler, noHandler){\n        this._yes = yesHandler;\n        this._no = noHandler;\n\n        this.$modalContent.html(message);\n\n        this.$root.show();\n    }\n\n    close(){\n        this.$root.hide();\n    }\n\n}\n\nexport default ConfirmBox;\n\n\n\n// WEBPACK FOOTER //\n// ./src/javascripts/Gui/ConfirmBox.js","class VeolError extends Error {\n\n    constructor (errorType, message) {\n        super(message);\n        this.errorType = errorType;\n    }\n\n}\nVeolError.ERR_INVALID_DATA = 'invdata';\n\n\nexport default VeolError;\n\n\n\n// WEBPACK FOOTER //\n// ./src/javascripts/Error.js","import utils from \"../utils\"\nimport {titleDetails} from \"../utils\";\nimport WidgetCreator from './WidgetCreator'\nimport Component from './Component'\n\nfunction setTreeNodeTitle($child, widget){\n    var title;\n\n    if(widget.widgetDefinition.config.title) {\n        title = widget.widgetDefinition.config.title;\n    }else {\n        title = widget.widgetName;\n    }\n\n    title = `<span class=\"veol-widget-name\">${title}</span>`;\n\n    if(widget.widgetDefinition.config.getDescription){\n        let details = widget.widgetDefinition.config.getDescription(widget);\n        if(typeof details === 'string'){\n            title += ' ' + titleDetails(details);\n        }\n    }\n\n    $child.children(\".veol-title\").find('.veol-title-text').empty().append(title);\n}\n\n\n/**\n *\n * @param {Tree} tree\n * @param {Object} widget\n * @param {WidgetDefinition} [widget.widgetDefinition]\n * @param {JQuery} $parent\n */\nfunction drawWidget(tree, widget, $parent){\n    var widgetDef = widget.widgetDefinition;\n    var isContainer = widgetDef.isContainer();\n    var $child = $(`<li class=\"veol-tree-node\" data-wid=\"${widget.wid}\"/>`);\n\n\n\n    $child.appendTo($parent);\n\n\n    // Associate widget with the dom element\n    $child.data('widget-instance', widget);\n\n    // Title area\n    var $title = $(`<div draggable=\"true\" class=\"veol-title\"></div>`);\n    $child.append($title);\n\n    var $titleContent = $('<div class=\"veol-title-content\"></div>');\n    $titleContent.appendTo($title);\n\n    // title = Widget name + widget summary\n    $titleContent.append(`<span class=\"veol-title-text\"></span>`);\n    setTreeNodeTitle($child, widget);\n\n\n    // Select the widget on click\n    $title.click(function(evt){\n        if(!evt.ctrlKey){\n            tree.application.unselectAllWidgets(widget);\n        }\n        tree.application.selectWidget(widget);\n    });\n\n    var iconClass = utils.getWidgetIconClass(widget.widgetDefinition);\n    if (iconClass) {\n        var $widgetIcon = $(`<i class=\"widget-icon ${iconClass}\"></i>`);\n        $titleContent.prepend($widgetIcon);\n    }\n\n\n    if (isContainer) {\n\n        // Caret icon\n        var $caret = $(`<div class=\"veol-caret\"></div>`);\n        $titleContent.prepend($caret);\n        $caret.click(function(){\n            $child.toggleClass('open')\n        });\n\n        // Add icon\n        var $addIcon = $(`<div class=\"veol-add\"></div>`);\n        $titleContent.append($addIcon);\n        $addIcon.click(function(){\n            tree.widgetCreator.createForParent(widget);\n        });\n\n        // Container classes\n        $child.addClass('is-container open');\n\n        // Children\n        var $subParent = $(`<ul class=\"veol-children\"/>`);\n        $subParent.appendTo($child);\n        for(var i = 0; i < widget.children.length; i++){\n            drawWidget(tree, widget.children[i], $subParent);\n        }\n    }\n\n    // delete icon\n    var $delete = $(`<div class=\"veol-menu-delete\"></div>`);\n    $titleContent.append($delete);\n    $delete.click(function(){\n\n        var message = 'Supprimer le widget ?';\n\n        if(widget.widgetDefinition.isContainer()){\n\n            message += '<br/>' + 'Les sous widgets seront galement supprims';\n        }\n\n        tree.application.yesNo.ask(message, function(){\n            tree.application.deleteWidget(widget);\n        });\n    });\n\n\n\n    // Add the title fill area\n    $title.prepend('<div class=\"veol-tree-fill\"></div>');\n\n\n    var removeDndClasses = function($element){\n        var $parent = $element.parent('.veol-tree-node');\n\n        $parent.removeClass('veol-drag-over');\n        $parent.removeClass('veol-can-drop-next');\n        $parent.removeClass('veol-can-drop-inside');\n        $parent.removeClass('veol-will-drop-before');\n        $parent.removeClass('veol-will-drop-after');\n        $parent.removeClass('veol-will-drop-inside');\n    };\n\n\n    // Drag drop events\n    $title.on('dragstart', function(e){\n        tree.$dragging = $child;\n        $child.addClass('veol-dragging');\n\n        // Has drag helps to know that the tree has a currently dragging element\n        // And allows to apply \"cursor-event: none\" (from css) to prevent dragenter on child element of title\n        tree.$root.addClass('veol-tree-has-drag');\n\n    });\n    $title.on('dragend', function(e){\n        tree.$dragging = null;\n        $(this).parent('.veol-tree-node').removeClass('veol-dragging');\n        tree.$root.removeClass('veol-tree-has-drag');\n    });\n\n    $title.on('dragenter', function(e){\n\n        // Make sure that the data comes from the same tree\n        if(!tree.isDragging()){\n            return;\n        }\n\n        // Check that element is not dropped on a child\n        var $draggedParent = $title.closest('.veol-dragging');\n        if($draggedParent.length !== 0){\n            return;\n        }\n\n        var canBeDroppedNext = false;\n        var canBeDroppedInside = false;\n\n        // Check if it can be dropped before or after the element\n        var droppedWidget = tree.getDraggedWidget();\n        if(\n            widget.parent.widgetDefinition.allowedAsChild(droppedWidget)\n            && droppedWidget.widgetDefinition.allowedAsParent(widget.parent)\n        ) {\n            canBeDroppedNext = true;\n            $title.parent('.veol-tree-node').addClass('veol-can-drop-next');\n        }\n\n        // Check if it can be dropped inside the element\n        if(\n            isContainer\n            && widget.widgetDefinition.allowedAsChild(droppedWidget)\n            && droppedWidget.widgetDefinition.allowedAsParent(widget)\n        ) {\n            canBeDroppedInside = true;\n            $title.parent('.veol-tree-node').addClass('veol-can-drop-inside');\n        }\n\n        if(canBeDroppedInside || canBeDroppedNext){\n            $title.parent('.veol-tree-node').addClass('veol-drag-over');\n        }\n\n    });\n\n    $title.on('dragleave', function(e){\n        removeDndClasses($title);\n    });\n\n    $title.on('dragover', function(e){\n        // In drag enter we already were told if the drop is possible and where it is possible\n        // Now we will determine how we drop the element (before, after, inside) depending on the mouse position\n        // on the target\n        if($child.hasClass('veol-drag-over')) {\n            var childOffset= $child.offset();\n            var mouseYInChild = e.clientY - childOffset.top;\n            var mouseYInPercent = mouseYInChild * 100 / $title.outerHeight();\n\n            $title.parent('.veol-tree-node').removeClass('veol-will-drop-before');\n            $title.parent('.veol-tree-node').removeClass('veol-will-drop-after');\n            $title.parent('.veol-tree-node').removeClass('veol-will-drop-inside');\n\n\n            if (\n                // This first condition checks if the element is droppable inside by either being in the middle\n                // or having drop inside as the only one option\n                $child.hasClass('veol-can-drop-inside')\n                && (\n                    (mouseYInPercent > 30 && mouseYInPercent < 70) || !$child.hasClass('veol-can-drop-next')\n                )\n            ) {\n                $child.addClass('veol-will-drop-inside');\n            } else {\n                // If mouse is in the upper half part of the element we drop be fore\n                if (mouseYInPercent <= 50) {\n                    $child.addClass('veol-will-drop-before');\n                } else if (isContainer && widget.children.length > 0) {\n                    if ($child.hasClass('veol-can-drop-inside')) {\n                        $child.addClass('veol-will-drop-inside');\n                    } else {\n                        $child.addClass('veol-will-drop-before');\n                    }\n                } else {\n                    $child.addClass('veol-will-drop-after');\n                }\n            }\n\n            e.preventDefault();\n        }\n    });\n\n    $title.on('drop', function(e){\n        e.preventDefault();\n        // Make sure that the element was marked as an acceptable target (from drag enter)\n        if($child.hasClass('veol-drag-over')){\n            var droppedWidget = tree.getDraggedWidget();\n            if(droppedWidget && droppedWidget !== widget){\n                var operationType = null;\n                if($child.hasClass('veol-will-drop-before')){\n                    utils.insertWidgetBefore(widget, droppedWidget);\n                    operationType = 'before';\n                } else if ($child.hasClass('veol-will-drop-after')) {\n                    utils.insertWidgetAfter(widget, droppedWidget);\n                    operationType = 'after';\n                } else if ($child.hasClass('veol-will-drop-inside')) {\n                    utils.appendWidget(widget, droppedWidget);\n                    operationType = 'inside';\n                }\n\n                if(operationType){\n                    tree.application.dispatchEvent('widgetMoved', [droppedWidget, widget, operationType]);\n                }\n            }\n            removeDndClasses($(this));\n\n\n        }\n    });\n\n}\n\nfunction bindApplication(application, self){\n\n    application.addEventListener('widgetMoved', function(movedWidget, target, operationType){\n        var $target = self.$root.find(`[data-wid=${target.wid}]`);\n        var $moved = self.$root.find(`[data-wid=${movedWidget.wid}]`);\n        switch(operationType){\n            case 'inside':\n                $moved.appendTo($target.find('.veol-children').first());\n                break;\n            case 'after':\n                $moved.insertAfter($target);\n                break;\n            case 'before':\n                $moved.insertBefore($target);\n                break;\n            default:\n                console.error(`unknown operation type ${operationType}`)\n        }\n    });\n\n    application.addEventListener('widgetDeleted', function(widget){\n        self.$root.find(`[data-wid=${widget.wid}]`).remove();\n    });\n\n\n    application.addEventListener('widgetSelected', function(widget){\n        self.$root.find(`[data-wid=${widget.wid}]`).addClass('veol-widget-selected');\n    });\n\n    application.addEventListener('unselectAllWidgets', function(){\n        self.$root.find('.veol-widget-selected').removeClass('veol-widget-selected');\n    });\n\n    application.addEventListener('widgetDataEdited', function(widget, property, value){\n        setTreeNodeTitle(self.$root.find(`[data-wid=${widget.wid}]`), widget);\n    });\n\n    application.addEventListener('widgetAdded', function(widget){\n        var parentId = widget.parent.wid;\n\n        var $into;\n\n        // if the parent is the first parent (root of the data) then we add it to the $screen directly\n        // because the root element is not included in the preview\n        if(parentId == application.data.wid){\n            $into = self.$root.find(`.veol-root`);\n        } else {\n            $into = self.$root.find(`[data-wid=${parentId}]`).find('.veol-children').first();\n            console.log($into);\n        }\n\n        drawWidget(self, widget, $into);\n    });\n}\n\nclass Tree extends Component{\n\n    constructor(application){\n        super();\n        this.$root.addClass('veol-tree veol-toolbox');\n        this.$dragging = null;\n        this.application = application;\n\n        this.$header = $(\n            `<div class=\"veol-toolbox-header\" >\n                <ul>\n                    <li class=\"veol-title\">Widgets</li>\n                    <li class=\"veol-fill\"></li>\n                </ul>\n            </div>`\n        );\n\n        this.$root.append(this.$header);\n        this.widgetCreator = new WidgetCreator(application); // TODO make it available from config\n\n\n        var self = this;\n\n        // Add widget action\n        var $addWidget = $(`<li class=\"veol-action\" veol-action=\"add-widget\" title=\"Ajouter un widget\"><i class=\"fa fa-plus fa-fw\"></i></li>`);\n        this.$header.find('>ul').append($addWidget);\n        $addWidget.click(function(){\n            self.widgetCreator.createForParent();\n        });\n\n\n\n        this.draw();\n        bindApplication(application, this);\n    }\n\n\n    draw(){\n\n        this.$root.find('.veol-root').remove();\n\n        var $parent = $(`<ul class=\"veol-root veol-children\"/>`);\n        $parent.appendTo(this.$root);\n\n        var data = this.application.data;\n\n        for(var i = 0; i < data.children.length; i++){\n            drawWidget(this, data.children[i], $parent);\n        }\n    }\n\n    isDragging() {\n        return this.$dragging !== null;\n    }\n\n    getDraggedElement(){\n        return this.$dragging;\n    }\n\n    getDraggedWidget(){\n        return this.$dragging.data('widget-instance');\n    }\n\n}\n\nexport default Tree;\n\n\n\n// WEBPACK FOOTER //\n// ./src/javascripts/Gui/Tree.js","import utils from '../utils';\nimport WidgetCreatorFieldEditor from './WidgetCreatorFieldEditor'\n\nfunction createWidgetButton(widgetName, widgetDef){\n\n    var widgetTitle;\n\n    if (widgetDef.config.title) {\n        widgetTitle = widgetDef.config.title;\n    } else {\n        widgetTitle = widgetName;\n    }\n\n    var iconClass = utils.getWidgetIconClass(widgetDef);\n    if(!iconClass){\n        iconClass = 'fa fa-lg fa-question-circle-o';\n    }\n    var icon = `<i class=\"${iconClass}\"></i>`;\n\n\n    var $widgetButton = $(\n        `<div class=\"veol-button veol-button-large veol-button-widget\" title=\"${widgetTitle}\" veol-widget-name=\"${widgetName}\">\n            <div class=\"veol-icon\">${icon}</div>\n            <div class=\"veol-widget-name\">${widgetTitle}</div>\n        </div>`\n    );\n\n\n    return $widgetButton;\n\n}\n\nclass WidgetCreator{\n\n    constructor(application){\n\n        this.application = application;\n\n        this.$root = $(`\n          <div class=\"veol-modal veol-widget-creator\">\n            <div class=\"veol-modal-background\"></div>\n            <div class=\"veol-modal-display-area\">\n                <div class=\"veol-modal-header\">\n                    <div class=\"veol-modal-title\">Ajouter un Widget</div>\n                </div>\n                <div class=\"veol-modal-content\">\n                    <ul class=\"veol-creator-widgetlist\"></ul>\n                </div>\n                <div class=\"veol-modal-footer\">\n                    <div veol-close class=\"veol-button veol-button-cancel\">Annuler</div>\n                    <div class=\"veol-button veol-button-validate\">Valider</div>\n                </div>\n            </div>\n          </div>\n        `);\n\n        this.$root.hide();\n\n        this.$widgetList = this.$root.find('.veol-creator-widgetlist');\n\n\n        let self = this;\n\n        utils.bindModal(this.$root, function(){\n            self.$root.hide();\n        });\n\n        $('body').append(this.$root);\n\n        this.$root.find('.veol-button-validate').click(function(){\n            if($(this).attr('disabled')){\n                return;\n            }\n\n            self.close();\n\n            let widgetDefName = self.$root.find('.veol-button-widget.veol-selected').attr('veol-widget-name');\n            let parent = $(this).data('veol-parent');\n\n\n            let fieldsEditor = new WidgetCreatorFieldEditor(application, widgetDefName);\n            fieldsEditor.create(parent, function(newWidget){\n                parent.children.push(newWidget);\n\n                self.application.dispatchEvent('widgetAdded', [newWidget]);\n\n                self.application.unselectAllWidgets();\n                self.application.selectWidget(newWidget);\n            });\n\n        });\n\n    }\n\n    createForParent(parentWidget){\n\n        if(!parentWidget){\n            parentWidget = this.application.data;\n        }\n\n        var parentWidgetDef = parentWidget.widgetDefinition;\n        var allWidgetDef = this.application.pageMaker.widgets;\n\n        var availableWidgetDef = [];\n\n        for(var i in allWidgetDef){\n            if(parentWidgetDef.allowedAsChild(allWidgetDef[i]) && allWidgetDef[i].allowedAsParent(parentWidgetDef)){\n                availableWidgetDef[i] = allWidgetDef[i];\n            }\n        }\n\n\n        this.$widgetList.empty();\n\n        for(var i  in availableWidgetDef){\n            var $item = createWidgetButton(i, availableWidgetDef[i]);\n            this.$widgetList.append($item);\n        }\n\n        var self = this;\n\n        this.$root.find('.veol-button-validate').attr('disabled', true);\n        this.$root.find('.veol-button-validate').data('veol-parent', parentWidget);\n        this.$root.find('.veol-button-validate').html('Selectionnez un widget');\n\n        this.$widgetList.find('.veol-button-widget').click(function(){\n            self.$widgetList.find('.veol-selected').removeClass('veol-selected');\n            $(this).addClass('veol-selected');\n\n            self.$root.find('.veol-button-validate').removeAttr('disabled', true);\n            self.$root.find('.veol-button-validate').html('Ajouter le widget');\n        });\n\n        if(this.$widgetList.length == 1){\n            this.$widgetList.children().first().trigger('click');\n        }\n\n        this.$root.show();\n    }\n\n    close(){\n        this.$root.hide();\n    }\n\n}\n\nexport default WidgetCreator;\n\n\n\n// WEBPACK FOOTER //\n// ./src/javascripts/Gui/WidgetCreator.js","import utils from '../utils';\nimport drawWidgetEditors from './WidgetPropertiesEditor/drawWidgetEditors'\n\n/**\n * This class allows to create a widget from a widget name.\n * It is responsible for managing default things for creating the widget.\n */\nexport default class WidgetCreatorFieldEditor{\n\n    /**\n     *\n     * @param application application to create a widget for\n     * @param widgetName name of the widget definition\n     * @param parent perent widget (optional)\n     */\n    constructor(application, widgetName){\n        let widgetDef = application.pageMaker.findWidgetDefinition(widgetName);\n\n        this.application = application;\n        this.widgetDef = widgetDef;\n        this.widgetName = widgetName;\n    }\n\n    create(parent, success, cancel){\n\n        let data = {\n            widgetName: this.widgetName,\n            data: {}\n        };\n\n        let properties = this.widgetDef.config.properties;\n\n        // If no property just return the widget with empty data\n        if(!properties){\n            success(this.application.pageMaker.parseData(data, this.application, parent));\n            return;\n        }\n\n        // Find default values\n        for(let i = 0; i < properties.length; i++){\n            if(properties[i].hasOwnProperty(\"defaultValue\")){\n                data.data[properties[i].name] = properties[i].defaultValue;\n            }\n        }\n\n        // Create widget with default values\n        let newWidget = this.application.pageMaker.parseData(data, this.application, parent);\n\n        let title = this.widgetDef.config.title || this.widgetName;\n\n        // Create modal\n        let $modalRoot = this.$root = $(`\n          <div class=\"veol-modal veol-modal-widget-fields-creation\">\n            <div class=\"veol-modal-background\"></div>\n            <div class=\"veol-modal-display-area veol-controls\">\n                <div class=\"veol-modal-header\">\n                    <div class=\"veol-modal-title\">Creation d'un widget: ${title}</div>\n                </div>\n                <div class=\"veol-modal-content\"></div>\n                <div class=\"veol-modal-footer\">\n                    <div veol-close class=\"veol-button veol-button-cancel\">Annuler</div>\n                    <div class=\"veol-button veol-button-validate\">Valider</div>\n                </div>\n            </div>         \n          </div>\n        `);\n\n        utils.bindModal($modalRoot, function(){\n            if(cancel){\n                cancel(this);\n            }\n            $modalRoot.empty();\n            $modalRoot.remove();\n        });\n\n\n        // Create editors\n        let $editors = drawWidgetEditors(newWidget, this.application.pageMaker.editorPool);\n        $editors.addClass('veol-property-editor');\n\n        $modalRoot.find('.veol-modal-content').append($editors);\n\n\n        $modalRoot.find('.veol-button-validate').click(function(){\n            if(success){\n                success(newWidget);\n                $modalRoot.empty();\n                $modalRoot.remove();\n            }\n        });\n\n        // Show modal\n        $('body').append($modalRoot);\n    }\n\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/javascripts/Gui/WidgetCreatorFieldEditor.js","/**\n * Internal function that helps to draw widget editor list\n */\n\nimport utils from '../../utils'\nimport SingleFieldEditor from '../SingleFieldEditor'\n\nexport default function drawWidgetEditors(widget, editorPool){\n\n    let $weditor;\n\n    let widgetDef = widget.widgetDefinition;\n    let properties = widgetDef.config.properties || [];\n\n    $weditor = $('<div/>');\n\n    for(let i = 0; i<properties.length; i++){\n        let property = properties[i];\n\n        let name = property.name;\n        let label = property.label || name;\n\n\n\n        let $editorRow = $('<div class=\"veol-editor-row\" />');\n\n        //Label\n        $editorRow.append($(`<label>${label}</label>`));\n\n        // Editor\n        let $editor = drawEditorField(property, widget, $editorRow, editorPool);\n\n        // Tooltip\n        if(property.tooltip){\n            $editorRow.append(`<span class=\"veol-tooltip veol-tooltip-help-icon\" data-tooltip=\"${property.tooltip}\"></span>`);\n        }\n\n        // Nullable\n        if(property.nullable){\n            bindNullable(property, $editor, widget);\n        }\n\n        // ShowIf\n        if (property.showIf) {\n            bindShowIf(property, $editorRow, widget)\n        }\n\n        // Append to the group\n        $weditor.append($editorRow);\n\n    }\n\n    return $weditor;\n}\n\n\nfunction bindShowIf(property, $editor, widget) {\n    widget.addEventListener('dataEdited', function(){\n        if (property.showIf(widget.data)) {\n            $editor.removeClass('veol-hide');\n        } else {\n            $editor.addClass('veol-hide');\n        }\n    });\n\n    // Initialize\n    if(!property.showIf(widget.data)){\n        $editor.addClass('veol-hide');\n    }\n}\n\n/**\n * Add a checkbox and logic required for nullable properties\n * @param property\n * @param $editor\n * @param widget\n */\nfunction bindNullable(property, $editor, widget){\n    let $nullableCb = $('<input type=\"checkbox\"/>');\n\n    $nullableCb.insertBefore($editor);\n\n    let propertyIsNull = widget.data[property.name] === undefined || widget.data[property.name] === null;\n    if(propertyIsNull){\n        $editor.hide();\n    } else {\n        $nullableCb.attr('checked', true);\n    }\n\n    // on checkbox state change, we forward the info to the application (but we do not change the layout yet)\n    $nullableCb.on('change', function(){\n\n        let nullBackup = widget.application.getWidgetEditorProperty(widget, 'nullBackup');\n        nullBackup = nullBackup || {};\n\n        if(this.checked){\n\n            let value;\n            if(nullBackup[property.name]){\n                value = nullBackup[property.name];\n            } else if (property.defaultIfNull) {\n                value = property.defaultIfNull;\n            } else {\n                value = ''\n            }\n\n            widget.application.updateWidgetData(widget, property.name, value);\n        } else {\n            // Backup the current value to be able to find it latter\n            nullBackup[property.name] = widget.data[property.name];\n            widget.application.updateWidgetEditorProperty(widget, 'nullBackup', nullBackup);\n\n            // Set the value to null\n            widget.application.updateWidgetData(widget, property.name, null);\n        }\n    });\n\n    // When the widget data is edited we might show or hide the editor depending on whether the value is null or not\n    widget.addEventListener('dataEdited', function(propertyName, value){\n        if(propertyName == property.name){\n            if(value !== null){\n                $editor.show();\n                $nullableCb.prop('checked', true);\n            } else {\n                $nullableCb.prop('checked', false);\n                $editor.hide();\n            }\n        }\n    });\n\n}\n\n\nfunction drawEditorField(property, widget, $editorRow, editorPool) {\n\n    let editor = utils.getPropertyEditor(property, editorPool);\n\n    if(property.useDedicatedEditor || !editor.isLiveEdit() || editor.hasEditionHandler()){\n\n        let $editButton = $('<div class=\"veol-dedicated-editor-button\">Editer</div>');\n\n        if(editor.hasEditionHandler()){\n            // The editor has defined its own method to edit the field\n            $editButton.click(function(){\n                editor.config.editionHandler(widget, property);\n            });\n        } else {\n            // If dedicated editor is enabled we show the editor in a popup\n            let singleFieldEditor = new SingleFieldEditor(widget, property);\n\n            $editButton.click(function(){\n                singleFieldEditor.show();\n            });\n        }\n\n        $editorRow.append($editButton);\n        return $editButton;\n\n    } else {\n        // Else we show the inline editor\n\n        let $editor = editor.createEditor(widget, property);\n        $editorRow.append($editor);\n        editor.afterDraw($editor, widget, property);\n        return $editor;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/javascripts/Gui/WidgetPropertiesEditor/drawWidgetEditors.js","import utils from '../utils';\n\nclass SingleFieldEditor{\n\n    constructor(widget, property){\n\n        this.widget = widget;\n        this.property = property;\n\n        var label = property.label || property.name;\n\n        this.$root = $(`\n          <div class=\"veol-modal\">\n            <div class=\"veol-modal-background\"></div>\n            <div class=\"veol-modal-display-area veol-controls\">\n                <div class=\"veol-modal-header\">\n                    <div class=\"veol-modal-title\">Edition du champs ${label}</div>\n                </div>\n                <div class=\"veol-modal-content\"></div>\n                <div class=\"veol-modal-footer\">\n                    <div class=\"veol-button veol-button-validate\">Valider</div>\n                    <div veol-close class=\"veol-button veol-button-cancel\">Annuler</div>\n                </div>\n            </div>         \n          </div>\n        `);\n\n        this.$root.hide();\n\n        this.$modalContent = this.$root.find('.veol-modal-content');\n\n        var editor = utils.getPropertyEditor(property, widget.application.pageMaker.editorPool);\n        var $editor = editor.createEditor(widget, property);\n\n        this.$modalContent.append($editor);\n        editor.afterDraw($editor, widget, property);\n\n        var self = this;\n\n        utils.bindModal(this.$root, function(){\n            self.$root.hide();\n            self.cancel();\n        });\n\n        $('body').append(this.$root);\n\n        this.$root.find('.veol-button-validate').click(function(){\n            self.close();\n            if(!editor.isLiveEdit()){\n                editor.getValue($editor);\n            }\n        });\n\n    }\n\n    show(){\n        this.backupData = this.widget.data[this.property.name];\n        this.$root.show();\n    }\n\n    close(){\n        this.$root.hide();\n    }\n\n    cancel(){\n        if(this.hasOwnProperty('backupData')){\n            this.widget.application.updateWidgetData(this.widget, this.property.name, this.backupData);\n            delete this.backupData;\n        }\n\n\n    }\n\n}\n\nexport default SingleFieldEditor;\n\n\n\n// WEBPACK FOOTER //\n// ./src/javascripts/Gui/SingleFieldEditor.js","class Component{\n    constructor(){\n        this.$root = $('<div class=\"veol-component\"></div>');\n    }\n\n    getComponentRoot(){\n        return this.$root;\n    }\n}\n\n\nexport default Component;\n\n\n\n// WEBPACK FOOTER //\n// ./src/javascripts/Gui/Component.js","import Component from './Component'\nimport utils from '../utils'\nimport ToolboxBar from './ToolboxBar'\nimport PreviewDeviceSwitch from './ToolboxAction/PreviewDeviceSwitch'\n\n/**\n *\n * @param {Preview} oreview\n * @param {Object} widget\n * @param {WidgetDefinition} [widget.widgetDefinition]\n * @param {jQuery} $parent\n */\nfunction drawWidget(preview, widget, $parent){\n    var widgetDef = widget.widgetDefinition;\n    var isContainer = widgetDef.isContainer();\n    var $child = $(\n        `<div class=\"veol-preview-widget\" data-wid=\"${widget.wid}\"/>`\n    );\n\n    var previewProperties = widgetDef.config.preview || {};\n\n    if(previewProperties.onCreateOuter){\n        previewProperties.onCreateOuter($child, widget);\n    }\n\n    $child.appendTo($parent);\n\n    // Associate widget with the dom element\n    $child.data('widget-instance', widget);\n\n    if (isContainer) {\n        // Container classes\n        $child.addClass('veol-is-container');\n\n        // Children\n        var $subParent = $(`<div class=\"veol-preview-content veol-preview-children\"/>`);\n        $subParent.appendTo($child);\n\n        if(previewProperties.onCreateContainer){\n            previewProperties.onCreateContainer($subParent, widget);\n        }\n\n\n\n        widgetRefreshPreview($child, widget, {});\n\n        for(var i = 0; i < widget.children.length; i++){\n            drawWidget(preview, widget.children[i], $subParent);\n        }\n\n\n    } else {\n        var $innerData = $(`<div class=\"veol-preview-content\"></div>`);\n        $innerData.appendTo($child);\n        if(previewProperties.onCreateContentContainer){\n            previewProperties.onCreateContentContainer($innerData, widget);\n        }\n\n        widgetRefreshPreview($child, widget, {});\n    }\n\n}\n\nfunction widgetRefreshPreview($child, widget, event){\n    var preview = widget.widgetDefinition.config.preview;\n    if(preview && preview.onDataChange){\n        var $innerData = $child.find('.veol-preview-content').first();\n\n        if($innerData.length > 0){\n            preview.onDataChange($child, $innerData, widget, event);\n        }\n    }\n}\n\n\nclass Preview extends Component{\n\n    constructor(application, options){\n        super();\n\n        options = options || {};\n\n        this.$root.addClass('veol-preview');\n\n        this.$device = $(\n            `<div class=\"veol-device-wrapper\">\n                <div class=\"veol-device-top\"></div>\n                <div class=\"veol-device-screen\"></div>\n                <div class=\"veol-device-bottom\"></div>\n            </div>`\n        );\n\n\n        var defaultDeviceMove = options.hasOwnProperty('deviceMode') ?  options.deviceMode : 'small';\n\n\n        /// TOP BAR\n        if(options.hasOwnProperty('topBar')){\n            this.topBar = options.topBar;\n        } else {\n            this.topBar = new ToolboxBar();\n            if(defaultDeviceMove !== false){\n                this.topBar.append(new PreviewDeviceSwitch(this));\n            }\n        }\n        if(this.topBar){\n            this.$root.append(this.topBar.$root);\n        }\n\n        this.$screen = this.$device.find('.veol-device-screen');\n        this.$root.append(this.$device);\n\n        this.application = application;\n\n        this.draw();\n\n        this.setDevice(defaultDeviceMove);\n\n        var self = this;\n\n\n\n        application.addEventListener('widgetMoved', function(movedWidget, target, operationType){\n            var $target = self.$root.find(`[data-wid=${target.wid}]`);\n            var $moved = self.$root.find(`[data-wid=${movedWidget.wid}]`);\n            switch(operationType){\n                case 'inside':\n                    $moved.appendTo($target.find('.veol-preview-children').first());\n                    break;\n                case 'after':\n                    $moved.insertAfter($target);\n                    break;\n                case 'before':\n                    $moved.insertBefore($target);\n                    break;\n                default:\n                    console.error(`unknown operation type ${operationType}`)\n            }\n        });\n\n        application.addEventListener('widgetDeleted', function(widget){\n            self.$root.find(`[data-wid=${widget.wid}]`).remove();\n        });\n\n        application.addEventListener('widgetAdded', function(widget){\n            var parentId = widget.parent.wid;\n\n            var $into;\n\n\n            // if the parent is the first parent (root of the data) then we add it to the $screen directly\n            // because the root element is not included in the preview\n            if(parentId == application.data.wid){\n                $into = self.$screen;\n            } else {\n                $into = self.$root.find(`[data-wid=${parentId}]`)\n                $into = $into.children('.veol-preview-children').first();\n            }\n\n\n            drawWidget(self, widget, $into);\n        });\n\n        application.addEventListener('widgetSelected', function(widget){\n            self.$root.find(`[data-wid=${widget.wid}]`).addClass('veol-widget-selected');\n        });\n\n        application.addEventListener('unselectAllWidgets', function(){\n            self.$root.find('.veol-widget-selected').removeClass('veol-widget-selected');\n        });\n\n        application.addEventListener('widgetDataEdited', function(widget, property, value){\n            widgetRefreshPreview(self.$root.find(`[data-wid=${widget.wid}]`), widget, this);\n        });\n    }\n\n    draw(){\n        this.$screen.empty();\n\n        var data = this.application.data;\n\n        for(var i = 0; i < data.children.length; i++){\n            drawWidget(this, data.children[i], this.$screen);\n        }\n    }\n\n    /**\n     * The the device mode for preview\n     * @param device\n     */\n    setDevice(device){\n        this.deviceMode = device;\n\n        // Update the preview class\n        var currentDevice = this.$root.attr('veol-device');\n        if(currentDevice) {\n            this.$root.removeClass(`veol-device-${currentDevice}`);\n        }\n\n        if(device){\n            this.$root.addClass(`veol-device-enabled veol-device-${device}`);\n        } else {\n            this.$root.removeClass(`veol-device-enabled`);\n        }\n\n        this.$root.attr('veol-device', device);\n        this.dispatchEvent('deviceChanged', [device, currentDevice]);\n    }\n\n}\n\n\nutils.makeObservable(Preview);\n\nexport default Preview;\n\n\n\n// WEBPACK FOOTER //\n// ./src/javascripts/Gui/Preview.js","class ToolboxBar{\n\n    constructor(){\n        this.$root = $('<div class=\"veol-toolbox-header\"><ul></ul></div>');\n    }\n\n    append(element){\n        let typeofElement = typeof  element;\n\n        let $element;\n\n        if(typeofElement === 'string'){\n            switch (element){\n                case '->':\n                    $element = $('<li class=\"veol-fill\"></li>');\n                    break;\n                case '|':\n                    $element = $('<li class=\"veol-divider\"></li>');\n                    break;\n                default:\n                    $element = $(`<li class=\"veol-text\">${element}</li>`);\n                    break;\n            }\n        } else if(typeofElement === 'object') {\n            $element = element.$root;\n        }\n\n        this.$root.children('ul').append($element);\n\n    }\n\n}\n\nexport default ToolboxBar;\n\n\n\n// WEBPACK FOOTER //\n// ./src/javascripts/Gui/ToolboxBar.js","class PreviewDeviceSwitch {\n\n    constructor(preview){\n        this.preview = preview;\n\n        this.$root = $(\n        `<li class=\"veol-list-inline\">\n            <div class=\"veol-label\">Device:</div>\n            <div class=\"veol-list-choices\">\n                <ul>\n                    <li class=\"device-button veol-active\" data-device=\"small\">\n                        <i class=\"fa fa-mobile fa-fw\"></i>\n                    </li>\n                    <li class=\"device-button\" data-device=\"medium\">\n                        <i class=\"fa fa-tablet fa-fw\"></i>\n                    </li>\n                    <li class=\"device-button\" data-device=\"large\">\n                        <i class=\"fa fa-laptop fa-fw\"></i>\n                    </li>\n                    <li class=\"device-button\" data-device=\"xlarge\">\n                        <i class=\"fa fa-desktop fa-fw\"></i>\n                    </li>\n                </ul>\n            </div>\n        </li>`\n        );\n\n        var self = this;\n\n        this.$root.find('.device-button').click(function(){\n            var device = $(this).attr('data-device');\n            preview.setDevice(device);\n        });\n\n\n\n        preview.addEventListener('deviceChanged', function(newDevice, oldDevice){\n            // Update the active button on device change\n            self.$root.find('.device-button.veol-active').removeClass('veol-active');\n            self.$root.find(`.device-button[data-device=${newDevice}]`).addClass('veol-active');\n        });\n\n    }\n}\n\n\nexport default PreviewDeviceSwitch;\n\n\n\n// WEBPACK FOOTER //\n// ./src/javascripts/Gui/ToolboxAction/PreviewDeviceSwitch.js","import EditorPool from './WidgetPropertiesEditor/PropertyEditorPool';\nimport utils from '../utils';\nimport SingleFieldEditor from './SingleFieldEditor';\nimport Component from './Component';\nimport drawWidgetEditors from './WidgetPropertiesEditor/drawWidgetEditors';\n\n/**\n *\n * @param {WidgetPropertiesEditor} propertyEditor\n * @param {Object} widget\n */\nfunction drawWidget(propertyEditor, widget){\n\n    propertyEditor.$propertiesWrapper.children().hide();\n    let $weditor;\n\n    if (propertyEditor.__editorCache.hasOwnProperty(widget.wid)) {\n        $weditor = propertyEditor.__editorCache[widget.wid];\n        $weditor.show();\n    } else {\n        $weditor = drawWidgetEditors(widget, propertyEditor.editorPool);\n        propertyEditor.__editorCache[widget.wid] = $weditor;\n        propertyEditor.$propertiesWrapper.append($weditor);\n    }\n\n}\n\n\n\nclass WidgetPropertiesEditor extends Component{\n\n    constructor(application){\n        super();\n        this.__editorCache = {};\n\n        this.$root.addClass('veol-property-editor veol-controls veol-toolbox');\n        this.$root.append($(\n            `<div class=\"veol-toolbox-header\">\n                <ul>\n                    <li class=\"veol-title\">Proprits</li>\n                </ul>\n            </div>`\n        ));\n\n        this.$propertiesWrapper = $(`<div class=\"veol-properties-wrapper\"></div>`);\n        this.$root.append(this.$propertiesWrapper);\n\n\n\n        this.application = application;\n        this.editorPool = application.pageMaker.editorPool;\n\n\n        var self = this;\n\n\n        application.addEventListener('widgetDeleted', function(widget){\n            self.$propertiesWrapper.children().hide();\n            // TODO delete cached version\n        });\n        application.addEventListener('widgetSelected', function(widget){\n            drawWidget(self, widget);\n        });\n        application.addEventListener('unselectAllWidgets', function(widget){\n            self.$propertiesWrapper.children().hide();\n        });\n    }\n}\n\nexport default WidgetPropertiesEditor;\n\n\n\n// WEBPACK FOOTER //\n// ./src/javascripts/Gui/WidgetPropertiesEditor.js","class Viewport {\n\n    constructor(application){\n        this.application = application;\n        this.$root = $('<div class=\"veol-viewport\"/>');\n\n        this.$mainPannel = $('<div class=\"veol-vp-main\"/>');\n        this.$mainPannel.appendTo(this.$root);\n\n        this.$leftPannel = $('<div class=\"veol-vp-left veol-vp-toolbox-container\"/>');\n        this.$leftPannel.prependTo(this.$root);\n\n        this.$rightPannel = $('<div class=\"veol-vp-right veol-vp-toolbox-container\"/>');\n        this.$rightPannel.appendTo(this.$root);\n    }\n\n    setMainComponent(component){\n        component.getComponentRoot().appendTo(this.$mainPannel);\n    }\n\n    appendLeftToolbox(component){\n        component.getComponentRoot().appendTo(this.$leftPannel);\n        this.showLeftPannel()\n    }\n\n    appendRightToolbox(component){\n        component.getComponentRoot().appendTo(this.$rightPannel);\n        this.showRightPannel();\n    }\n\n    hideRightPannel(){\n        this.$rightPannel.removeClass('veol-show');\n    }\n\n    showRightPannel(){\n        this.$rightPannel.addClass('veol-show');\n    }\n\n    hideLeftPannel(){\n        this.$leftPannel.removeClass('veol-show');\n    }\n\n    showLeftPannel(){\n        this.$leftPannel.addClass('veol-show');\n    }\n\n    appendTo(element){\n        $(element).append(this.$root);\n    }\n\n}\n\nexport default Viewport;\n\n\n\n// WEBPACK FOOTER //\n// ./src/javascripts/Gui/Viewport.js","export default function vueJsPreview (options) {\n\n    let previewOptions = {};\n\n    if (options.template) {\n        previewOptions.onCreateContentContainer = function ($content, widget) {\n            let $block = $(options.template);\n            $content.append($block);\n\n            new Vue({\n                el: $block[0],\n                data: widget.data\n            })\n        }\n\n    }\n\n    return previewOptions;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/javascripts/Gui/vueJsPreview.js","class SimpleButton {\n    constructor(text, action){\n\n        this.$root = $(`<li class=\"veol-action-btn\"/>`);\n        this.$button = $(`<button class=\"veol-button\">${text}</button>`);\n        this.$button.appendTo(this.$root);\n\n        var self = this;\n\n        this.$button.click(function(e){\n            action.call(self,[]);\n        });\n\n    }\n\n    setButtonType(type){\n        this.$button.addClass('veol-button-' + type);\n    }\n\n    setText(text){\n        this.$button.html(text);\n    }\n\n    hide(){\n        this.$root.addClass('veol-hide');\n    }\n\n    show(){\n        this.$root.removeClass('veol-hide');\n    }\n\n}\n\nexport default SimpleButton;\n\n\n\n// WEBPACK FOOTER //\n// ./src/javascripts/Gui/ToolboxAction/SimpleButton.js"],"sourceRoot":""}