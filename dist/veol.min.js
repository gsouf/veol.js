!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("Veol",[],t):"object"==typeof exports?exports.Veol=t():e.Veol=t()}(this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return e[o].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=o(i),a=n(3),l=o(a),d=n(4),s=o(d),c=n(15),u=o(c),f=n(18),p=o(f),v=n(21),h=o(v),g=n(16),b=o(g),y=n(23),w=o(y),m=n(19),_=o(m),$=n(24),k=o($),O=n(20),E=o(O),P=n(14),C=o(P),j=n(9),D=o(j),x={PageMaker:r.default,WidgetDefinition:l.default,Gui:{Tree:u.default,Preview:p.default,WidgetPropertiesEditor:h.default,WidgetCreator:b.default,Viewport:w.default,ToolboxBar:_.default,ToolboxAction:{SimpleButton:k.default,PreviewDeviceSwitch:E.default}},PropertyEditor:D.default,utils:s.default,titleDetails:d.titleDetails,Error:C.default};t.default=x,e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),r=o(i),a=n(5),l=o(a),d=n(4),s=o(d),c=n(6),u=o(c),f=1e4,p=function(){this.widgets={},this.editorPool=new u.default({loadDefaults:!0}),this.addWidgetDefinition("widget-list",new r.default)};p.prototype.addWidgetDefinition=function(e,t){this.widgets[e]=t},p.prototype.findWidgetDefinition=function(e){var t=this.widgets[e];if(t)return t;throw"No widget named "+e+" was found"},p.prototype.parseData=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o={};if(o.data=e.data||{},o.meta=e.meta||{},o.editor=e.editor||{},o.wid=f++,o.parent=n,o.application=t,s.default.makeObservable(o,!0),e.widgetName&&(o.widgetName=e.widgetName,o.widgetDefinition=this.findWidgetDefinition(e.widgetName),o.helper={save:function(){return o.widgetDefinition.onSave(o)}},o.widgetDefinition.isContainer()))if(e.children&&e.children.length>0){o.children=[];for(var i in e.children)e.children.hasOwnProperty(i)&&(o.children[i]=this.parseData(e.children[i],t,o))}else o.children=[];return o},p.prototype.createApplication=function(e){return new l.default(this,e)},t.default=p,e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),r=o(i);t.default=r.default.create({isContainer:!0,title:"Groupe",faIconName:"folder"}),e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(4),l=o(a),d=function(){function e(){i(this,e)}return r(e,[{key:"onSave",value:function(e){var t={widgetName:e.widgetName};if(this.isContainer()){t.children=[];for(var n in e.children)e.children.hasOwnProperty(n)&&t.children.push(e.children[n].helper.save())}return e.data&&Object.getOwnPropertyNames(e.data).length>0&&(t.data=e.data),e.meta&&Object.getOwnPropertyNames(e.meta).length>0&&(t.meta=e.meta),e.editor&&Object.getOwnPropertyNames(e.editor).length>0&&(t.editor=e.editor),t}},{key:"isContainer",value:function(){return this.config.isContainer===!0}},{key:"allowedAsChild",value:function(e){var t=void 0;return t=e.widgetDefinition?e.widgetDefinition.config.types:e.config.types,l.default.whitelistBlacklistChecker(this.config.childrenWhitelist,this.config.childrenBlacklist,t)}},{key:"allowedAsParent",value:function(e){var t=void 0;return t=e.widgetDefinition?e.widgetDefinition.config.types:e.config.types,l.default.whitelistBlacklistChecker(this.config.parentWhitelist,this.config.parentBlacklist,t)}}]),e}();d.create=function(e){e=e||{};var t=function(){this.config=e,this.config.data=this.config.data||{}};return t.prototype=Object.create(d.prototype),t},d.fastInstance=function(e){var t=d.create(e);return new t},t.default=d,e.exports=t.default},function(e,t){"use strict";function n(){var e=!1,t={stop:function(){e=!0},isStopped:function(){return e}};return t}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,n){if(e.parent){var o=e.parent.children.indexOf(e);e.parent.children.splice(o,1),n===e.parent&&t>=o&&t--}n.children.splice(t,0,e),e.parent=n},i=function(e,t){for(var n=0;n<t.length;n++)if(e.indexOf(t[n])>=0)return!0;return!1},r=function(e){return"<span class='veol-title-details'>"+e+"</span>"};t.titleDetails=r,t.default={makeObservable:function(e,t){var o;o=t?e:e.prototype,o.addEventListener=function(e,n){var i=t?o:this;i.hasOwnProperty("__veol_callbacks")||(i.__veol_callbacks={}),i.__veol_callbacks.hasOwnProperty(e)||(i.__veol_callbacks[e]=[]),i.__veol_callbacks[e].push(n)},o.removeEventListener=function(e,n){var i=t?o:this;if(i.hasOwnProperty("__veol_callbacks")&&i.__veol_callbacks.hasOwnProperty(e))for(var r=i.__veol_callbacks[e].length-1;r>=0;r--)i.__veol_callbacks[e][r]===n&&i.__veol_callbacks[e].splice(r,1)},o.dispatchEvent=function(e,i){var r=t?o:this,a=n();if(r.hasOwnProperty("__veol_callbacks")&&r.__veol_callbacks.hasOwnProperty(e))for(var l=0;l<r.__veol_callbacks[e].length&&(r.__veol_callbacks[e][l].apply(a,i),!a.isStopped());l++);}},insertWidgetBefore:function(e,t){var n=e.parent;if(!n)throw"target widget has no parent";if(!n.children)throw"target widget has invalid parent (no children registered)";var i=n.children.indexOf(e);if(i===-1)throw"target widget has invalid parent (widget not found in parent)";o(t,i,n)},insertWidgetAfter:function(e,t){var n=e.parent;if(!n)throw"target widget has no parent";if(!n.children)throw"target widget has invalid parent (no children registered)";var i=n.children.indexOf(e)+1;if(i===-1)throw"target widget has invalid parent (widget not found in parent)";o(t,i,n)},appendWidget:function(e,t){if(!e.children)throw"target widget has invalid parent (no children registered)";o(t,e.children.length,e)},insertWidgetAt:o,domIndexOf:function(e,t){return Array.prototype.indexOf.call(t.children,e)},arrayContainsOneOf:i,whitelistBlacklistChecker:function(e,t,n){return n=n||[],!(t&&t.length>0&&i(t,n))&&(!(e&&e.length>0)||i(e,n))},getPropertyEditor:function(e,t){var n=e.editor||"textfield";if("string"==typeof n){var o=t.findEditor(n);if(!o)throw"Unknown editor "+n;return o}return n},bindModal:function(e,t){e.find("[veol-close]").click(function(){t()})}}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(4),d=o(l),s=n(6),c=(o(s),n(13)),u=o(c),f=n(14),p=o(f),v=function(){function e(t,n){if(i(this,e),null===n||"object"!==("undefined"==typeof n?"undefined":r(n)))throw new p.default(p.default.ERR_INVALID_DATA,"Veol data should be an object");if(0===Object.keys(n).length)throw new p.default(p.default.ERR_INVALID_DATA,"Veol data cannot be empty");if(!n.hasOwnProperty("widgetName"))throw new p.default(p.default.ERR_INVALID_DATA,"the given data do not appear to be a valid widget (no widget name was provided for the root element)");this.pageMaker=t,this.originalData=n,this.data=t.parseData(n,this,null),this.selectedWidget=[],this.yesNo=new u.default}return a(e,[{key:"save",value:function(){return this.data.helper.save()}},{key:"reload",value:function(){var e=this.save();this.data=pageMaker.parseData(e,this,null)}},{key:"deleteWidget",value:function(e){var t=e.parent.children.indexOf(e);t>0&&e.parent.children.splice(t,1),this.dispatchEvent("widgetDeleted",[e])}},{key:"selectWidget",value:function(e){this.selectedWidget.push(e),this.dispatchEvent("widgetSelected",[e])}},{key:"unselectAllWidgets",value:function(){this.selectedWidget=[],this.dispatchEvent("unselectAllWidgets",[])}},{key:"updateWidgetData",value:function(e,t,n){this.getWidget(e).data[t]=n,this.dispatchEvent("widgetDataEdited",[e,t,n]),e.dispatchEvent("dataEdited",[t,n])}},{key:"updateWidgetMeta",value:function(e,t,n){this.getWidget(e).meta[t]=n,this.dispatchEvent("widgetMetaEdited",[e,t,n]),e.dispatchEvent("metaEdited",[t,n])}},{key:"updateWidgetEditorProperty",value:function(e,t,n){this.getWidget(e).editor[t]=n,this.dispatchEvent("widgetEditorPropertyEdited",[e,t,n]),e.dispatchEvent("editorPropertyEdited",[t,n])}},{key:"getWidgetEditorProperty",value:function(e,t){return this.getWidget(e).editor[t]}},{key:"getWidget",value:function(e){if("object"===("undefined"==typeof e?"undefined":r(e)))return e;throw"Unable to find a widget by id: not implemented yet"}},{key:"createWidget",value:function(e,t,n){var o=this.pageMaker.parseData(widgetData,this,inWidget);inWidget&&inWidget.children.push(o),this.dispatchEvent("widgetCreated",[o])}}]),e}();d.default.makeObservable(v),t.default=v,e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){e.addEditor(["textField","textfield"],new d.default),e.addEditor(["text","textArea"],new c.default),e.addEditor(["select"],new f.default),e.addEditor(["range"],new v.default)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(7),d=o(l),s=n(10),c=o(s),u=n(11),f=o(u),p=n(12),v=o(p),h=function(){function e(t){i(this,e),t=t||t,this.editors=[],t.loadDefaults&&r(this)}return a(e,[{key:"addEditor",value:function(e,t){this.editors.push({names:e,editor:t})}},{key:"findEditor",value:function(e){for(var t=0;t<this.editors.length;t++)if(this.editors[t].names.indexOf(e)>-1)return this.editors[t].editor;return null}}]),e}();t.default=h,e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),d=n(8),s=o(d),c=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"getInput",value:function(){return $('<input type="text" />')}}]),t}(s.default);t.default=c,e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),d=n(9),s=o(d),c=function(e){function t(){i(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{isLiveEdit:!0})),n=e;return e.config.onCreateEditor=function(e,t,o){var i=n.getInput(e,t,o);i.on("input",function(){t.application.updateWidgetData(t,o.name,i.val())}),e.data("veol-get-value",function(){return i.val()});var r=t.data[o.name];r&&i.val(r),t.addEventListener("dataEdited",function(e,t){e==o.name&&i.val(t)}),n.drawEditor(e,i,t,o)},e}return a(t,e),l(t,[{key:"drawEditor",value:function(e,t,n,o){e.append(t,n,o)}},{key:"getInput",value:function(e,t,n){throw"This method is abstract and should be overriden by extending class"}}]),t}(s.default);t.default=c,e.exports=t.default},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function(){function e(t){n(this,e),this.config=t||{}}return i(e,[{key:"createEditor",value:function(e,t){var n=$('<div class="veol-widget-editor-group"/>');return this.config.onCreateEditor&&this.config.onCreateEditor(n,e,t),n}},{key:"isLiveEdit",value:function(){return this.config.isLiveEdit===!0}},{key:"getValue",value:function(e){var t=e.data("veol-get-value");if("function"==!("undefined"==typeof t?"undefined":o(t)))throw"Editor did not implement get value";return t()}}]),e}();t.default=r,e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),d=n(8),s=o(d),c=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"getInput",value:function(e,t,n){return $("<textarea/>")}},{key:"isLiveEdit",value:function(){return!1}}]),t}(s.default);t.default=c,e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(8),c=o(s),u=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),d(t,[{key:"getInput",value:function(e,t,n){var o=$("<select />");n.multiple&&o.prop("multiple",!0);for(var i=0;i<n.options.length;i++){var r=n.options[i],a="undefined"==typeof r?"undefined":l(r);"string"==a||"number"==a?o.append('<option value="'+r+'" >'+r+"</option>"):o.append('<option value="'+r.value+'" >'+r.label+"</option>")}return o}}]),t}(c.default);t.default=u,e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),d=n(8),s=o(d),c=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"getInput",value:function(e,t,n){var o=n.min||0,i=n.max||o+100,r=n.step||1;return $('<input type="range" min="'+o+'" max="'+i+'" step="'+r+'" />')}},{key:"drawEditor",value:function(e,t,n,o){var i=$('<span class="veol-range-preview"></span>');i.html(t.val()),e.addClass("veol-combined-range"),e.append(i),e.append(t),n.addEventListener("dataEdited",function(e,t){e==o.name&&i.html(t)})}}]),t}(s.default);t.default=c,e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(4),l=o(a),d=function(){function e(t){i(this,e),this.application=t,this.$root=$('\n          <div class="veol-modal">\n            <div class="veol-modal-background"></div>\n            <div class="veol-modal-display-area veol-controls">\n                <div class="veol-modal-header">\n                    <div class="veol-modal-title">Confirmer</div>\n                    <div veol-close><i class="fa fa-times fa-fw"></i></div>\n                </div>\n                <div class="veol-modal-content"></div>\n                <div class="veol-modal-footer">\n                    <div class="veol-button veol-button-validate">Oui</div>\n                    <div class="veol-button veol-button-cancel">Non</div>\n                </div>\n            </div>         \n          </div>\n        '),this.$root.hide(),this.$modalContent=this.$root.find(".veol-modal-content");var n=this;l.default.bindModal(this.$root,function(){n.close()}),$("body").append(this.$root),this.$root.find(".veol-button-validate").click(function(){n.close(),console.log("kk"),n._yes&&n._yes()}),this.$root.find(".veol-button-cancel").click(function(){n.close(),n._no&&n._no()})}return r(e,[{key:"ask",value:function(e,t,n){this._yes=t,this._no=n,this.$modalContent.html(e),this.$root.show()}},{key:"close",value:function(){this.$root.hide()}}]),e}();t.default=d,e.exports=t.default},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(e,i){n(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,i));return r.errorType=e,r}return i(t,e),t}(Error);r.ERR_INVALID_DATA="invdata",t.default=r,e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){var n;if(n=t.widgetDefinition.config.title?t.widgetDefinition.config.title:t.widgetName,t.widgetDefinition.config.getDescription){var o=t.widgetDefinition.config.getDescription(t);"string"==typeof o&&(n+=" "+(0,u.titleDetails)(o))}e.find(">.veol-title .veol-title-text").empty().append(n)}function d(e,t,n){var o=t.widgetDefinition,i=o.isContainer(),r=$('<li class="veol-tree-node" data-wid="'+t.wid+'"/>');r.appendTo(n),r.data("widget-instance",t);var a=$('<div draggable="true" class="veol-title"></div>');if(r.append(a),a.append('<span class="veol-title-text"></span>'),l(r,t),a.click(function(n){n.ctrlKey||e.application.unselectAllWidgets(t),e.application.selectWidget(t)}),i){var s=$('<div class="veol-folder"></div>');a.prepend(s),s.click(function(){r.toggleClass("open")});var c=$('<div class="veol-add"></div>');a.append(c),c.click(function(){e.widgetCreator.createForParent(t)}),r.addClass("is-container open");var u=$('<ul class="veol-children"/>');u.appendTo(r);for(var p=0;p<t.children.length;p++)d(e,t.children[p],u)}var v=$('<div class="veol-menu-delete"></div>');a.append(v),v.click(function(){var n="Supprimer le widget ?";t.widgetDefinition.isContainer()&&(n+="<br/>Les sous widgets seront également supprimés"),e.application.yesNo.ask(n,function(){e.application.deleteWidget(t)})}),a.prepend('<div class="veol-tree-fill"></div>');var h=function(e){var t=e.parent(".veol-tree-node");t.removeClass("veol-drag-over"),t.removeClass("veol-can-drop-next"),t.removeClass("veol-can-drop-inside"),t.removeClass("veol-will-drop-before"),t.removeClass("veol-will-drop-after"),t.removeClass("veol-will-drop-inside")};a.on("dragstart",function(t){e.$dragging=r,r.addClass("veol-dragging"),e.$root.addClass("veol-tree-has-drag")}),a.on("dragend",function(t){e.$dragging=null,$(this).parent(".veol-tree-node").removeClass("veol-dragging"),e.$root.removeClass("veol-tree-has-drag")}),a.on("dragenter",function(n){if(e.isDragging()){var o=a.closest(".veol-dragging");if(0===o.length){var r=!1,l=!1,d=e.getDraggedWidget();t.parent.widgetDefinition.allowedAsChild(d)&&d.widgetDefinition.allowedAsParent(t.parent)&&(r=!0,a.parent(".veol-tree-node").addClass("veol-can-drop-next")),i&&t.widgetDefinition.allowedAsChild(d)&&d.widgetDefinition.allowedAsParent(t)&&(l=!0,a.parent(".veol-tree-node").addClass("veol-can-drop-inside")),(l||r)&&a.parent(".veol-tree-node").addClass("veol-drag-over")}}}),a.on("dragleave",function(e){h(a)}),a.on("dragover",function(e){if(r.hasClass("veol-drag-over")){var n=r.offset(),o=e.clientY-n.top,l=100*o/a.outerHeight();a.parent(".veol-tree-node").removeClass("veol-will-drop-before"),a.parent(".veol-tree-node").removeClass("veol-will-drop-after"),a.parent(".veol-tree-node").removeClass("veol-will-drop-inside"),r.hasClass("veol-can-drop-inside")&&(l>30&&l<70||!r.hasClass("veol-can-drop-next"))?r.addClass("veol-will-drop-inside"):l<=50?r.addClass("veol-will-drop-before"):i&&t.children.length>0?r.hasClass("veol-can-drop-inside")?r.addClass("veol-will-drop-inside"):r.addClass("veol-will-drop-before"):r.addClass("veol-will-drop-after"),e.preventDefault()}}),a.on("drop",function(n){if(n.preventDefault(),r.hasClass("veol-drag-over")){var o=e.getDraggedWidget();if(o&&o!==t){var i=null;r.hasClass("veol-will-drop-before")?(f.default.insertWidgetBefore(t,o),i="before"):r.hasClass("veol-will-drop-after")?(f.default.insertWidgetAfter(t,o),i="after"):r.hasClass("veol-will-drop-inside")&&(f.default.appendWidget(t,o),i="inside"),i&&e.application.dispatchEvent("widgetMoved",[o,t,i])}h($(this))}})}function s(e,t){e.addEventListener("widgetMoved",function(e,n,o){var i=t.$root.find("[data-wid="+n.wid+"]"),r=t.$root.find("[data-wid="+e.wid+"]");switch(o){case"inside":r.appendTo(i.find(".veol-children").first());break;case"after":r.insertAfter(i);break;case"before":r.insertBefore(i);break;default:console.error("unknown operation type "+o)}}),e.addEventListener("widgetDeleted",function(e){t.$root.find("[data-wid="+e.wid+"]").remove()}),e.addEventListener("widgetSelected",function(e){t.$root.find("[data-wid="+e.wid+"]").addClass("veol-widget-selected")}),e.addEventListener("unselectAllWidgets",function(){t.$root.find(".veol-widget-selected").removeClass("veol-widget-selected")}),e.addEventListener("widgetDataEdited",function(e,n,o){l(t.$root.find("[data-wid="+e.wid+"]"),e)}),e.addEventListener("widgetAdded",function(n){var o,i=n.parent.wid;i==e.data.wid?o=t.$root.find(".veol-root"):(o=t.$root.find("[data-wid="+i+"]").find(".veol-children").first(),console.log(o)),d(t,n,o)})}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(4),f=o(u),p=n(16),v=o(p),h=n(17),g=o(h),b=function(e){function t(e){i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n.$root.addClass("veol-tree veol-toolbox"),n.$dragging=null,n.application=e,n.$header=$('<div class="veol-toolbox-header" >\n                <ul>\n                    <li class="veol-title">Widgets</li>\n                    <li class="veol-fill"></li>\n                </ul>\n            </div>'),n.$root.append(n.$header),n.widgetCreator=new v.default(e);var o=n,a=$('<li class="veol-action" veol-action="add-widget" title="Ajouter un widget"><i class="fa fa-plus fa-fw"></i></li>');return n.$header.find(">ul").append(a),a.click(function(){o.widgetCreator.createForParent()}),n.draw(),s(e,n),n}return a(t,e),c(t,[{key:"draw",value:function(){this.$root.find(".veol-root").remove();var e=$('<ul class="veol-root veol-children"/>');e.appendTo(this.$root);for(var t=this.application.data,n=0;n<t.children.length;n++)d(this,t.children[n],e)}},{key:"isDragging",value:function(){return null!==this.$dragging}},{key:"getDraggedElement",value:function(){return this.$dragging}},{key:"getDraggedWidget",value:function(){return this.$dragging.data("widget-instance")}}]),t}(g.default);t.default=b,e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){var n;n=t.config.title?t.config.title:e;var o;o=t.config.faIconName?'<i class="fa fa-lg fa-'+t.config.faIconName+'"></i>':'<i class="fa fa-lg fa-question-circle-o"></i>';var i=$('<div class="veol-button veol-button-large veol-button-widget" veol-widget-name="'+e+'">\n            <div class="veol-icon">'+o+'</div>\n            <span class="veol-widget-name">'+n+"</span>\n        </div>");return i}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(4),d=o(l),s=function(){function e(t){i(this,e),this.application=t,this.$root=$('\n          <div class="veol-modal veol-widget-creator">\n            <div class="veol-modal-background"></div>\n            <div class="veol-modal-display-area">\n                <div class="veol-modal-header">\n                    <div class="veol-modal-title">Ajouter un Widget</div>\n                </div>\n                <div class="veol-modal-content">\n                    <ul class="veol-creator-widgetlist"></ul>\n                </div>\n                <div class="veol-modal-footer">\n                    <div veol-close class="veol-button veol-button-cancel">Annuler</div>\n                    <div class="veol-button veol-button-validate">Valider</div>\n                </div>\n            </div>         \n          </div>\n        '),this.$root.hide(),this.$widgetList=this.$root.find(".veol-creator-widgetlist");var n=this;d.default.bindModal(this.$root,function(){n.$root.hide()}),$("body").append(this.$root),this.$root.find(".veol-button-validate").click(function(){if(!$(this).attr("disabled")){n.close();var e=n.$root.find(".veol-button-widget.veol-selected").attr("veol-widget-name"),t=$(this).data("veol-parent"),o=n.application.pageMaker.findWidgetDefinition(e),i={widgetName:e,data:{}},r=o.config.properties;if(r)for(var a=0;a<r.length;a++)r[a].hasOwnProperty("defaultValue")&&(i.data[r[a].name]=r[a].defaultValue);var l=n.application.pageMaker.parseData(i,n.application,t);t.children.push(l),n.application.dispatchEvent("widgetAdded",[l]),n.application.unselectAllWidgets(),n.application.selectWidget(l)}})}return a(e,[{key:"createForParent",value:function(e){e||(e=this.application.data);var t=e.widgetDefinition,n=this.application.pageMaker.widgets,o=[];for(var i in n)t.allowedAsChild(n[i])&&n[i].allowedAsParent(t)&&(o[i]=n[i]);this.$widgetList.empty();for(var i in o){var a=r(i,o[i]);this.$widgetList.append(a)}var l=this;this.$root.find(".veol-button-validate").attr("disabled",!0),this.$root.find(".veol-button-validate").data("veol-parent",e),this.$root.find(".veol-button-validate").html("Selectionnez un widget"),this.$widgetList.find(".veol-button-widget").click(function(){l.$widgetList.find(".veol-selected").removeClass("veol-selected"),$(this).addClass("veol-selected"),l.$root.find(".veol-button-validate").removeAttr("disabled",!0),l.$root.find(".veol-button-validate").html("Ajouter le widget")}),this.$root.show()}},{key:"close",value:function(){this.$root.hide();
}}]),e}();t.default=s,e.exports=t.default},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=function(){function e(){n(this,e),this.$root=$('<div class="veol-component"></div>')}return o(e,[{key:"getComponentRoot",value:function(){return this.$root}}]),e}();t.default=i,e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t,n){var o=t.widgetDefinition,i=o.isContainer(),r=$('<div class="veol-preview-widget" data-wid="'+t.wid+'"/>'),a=o.config.preview||{};if(a.onCreateOuter&&a.onCreateOuter(r,t),r.appendTo(n),r.data("widget-instance",t),i){r.addClass("veol-is-container");var s=$('<div class="veol-preview-content veol-preview-children"/>');s.appendTo(r),a.onCreateContainer&&a.onCreateContainer(s,t),d(r,t);for(var c=0;c<t.children.length;c++)l(e,t.children[c],s)}else{var u=$('<div class="veol-preview-content"></div>');u.appendTo(r),d(r,t)}}function d(e,t){var n=t.widgetDefinition.config.preview;if(n&&n.onDataChange){var o=e.find(".veol-preview-content").first();n.onDataChange(e,o,t)}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=n(17),u=o(c),f=n(4),p=o(f),v=n(19),h=o(v),g=n(20),b=o(g),y=function(e){function t(e,n){i(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n=n||{},o.$root.addClass("veol-preview"),o.$device=$('<div class="veol-device-wrapper">\n                <div class="veol-device-top"></div>\n                <div class="veol-device-screen"></div>\n                <div class="veol-device-bottom"></div>\n            </div>');var a=n.hasOwnProperty("deviceMode")?n.deviceMode:"small";n.hasOwnProperty("topBar")?o.topBar=n.topBar:(o.topBar=new h.default,a!==!1&&o.topBar.append(new b.default(o))),o.topBar&&o.$root.append(o.topBar.$root),o.$screen=o.$device.find(".veol-device-screen"),o.$root.append(o.$device),o.application=e,o.draw(),o.setDevice(a);var s=o;return e.addEventListener("widgetMoved",function(e,t,n){var o=s.$root.find("[data-wid="+t.wid+"]"),i=s.$root.find("[data-wid="+e.wid+"]");switch(n){case"inside":i.appendTo(o.find(".veol-preview-children").first());break;case"after":i.insertAfter(o);break;case"before":i.insertBefore(o);break;default:console.error("unknown operation type "+n)}}),e.addEventListener("widgetDeleted",function(e){s.$root.find("[data-wid="+e.wid+"]").remove()}),e.addEventListener("widgetAdded",function(t){var n,o=t.parent.wid;o==e.data.wid?n=s.$screen:(n=s.$root.find("[data-wid="+o+"]"),n=n.children(".veol-preview-children").first()),l(s,t,n)}),e.addEventListener("widgetSelected",function(e){s.$root.find("[data-wid="+e.wid+"]").addClass("veol-widget-selected")}),e.addEventListener("unselectAllWidgets",function(){s.$root.find(".veol-widget-selected").removeClass("veol-widget-selected")}),e.addEventListener("widgetDataEdited",function(e,t,n){d(s.$root.find("[data-wid="+e.wid+"]"),e)}),o}return a(t,e),s(t,[{key:"draw",value:function(){this.$screen.empty();for(var e=this.application.data,t=0;t<e.children.length;t++)l(this,e.children[t],this.$screen)}},{key:"setDevice",value:function(e){this.deviceMode=e;var t=this.$root.attr("veol-device");t&&this.$root.removeClass("veol-device-"+t),e?this.$root.addClass("veol-device-enabled veol-device-"+e):this.$root.removeClass("veol-device-enabled"),this.$root.attr("veol-device",e),this.dispatchEvent("deviceChanged",[e,t])}}]),t}(u.default);p.default.makeObservable(y),t.default=y,e.exports=t.default},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function(){function e(){n(this,e),this.$root=$('<div class="veol-toolbox-header"><ul></ul></div>')}return i(e,[{key:"append",value:function(e){var t="undefined"==typeof e?"undefined":o(e),n=void 0;if("string"===t)switch(e){case"->":n=$('<li class="veol-fill"></li>');break;case"|":n=$('<li class="veol-divider"></li>');break;default:n=$('<li class="veol-text">'+e+"</li>")}else"object"===t&&(n=e.$root);this.$root.children("ul").append(n)}}]),e}();t.default=r,e.exports=t.default},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function e(t){n(this,e),this.preview=t,this.$root=$('<li class="veol-list-inline">\n            <div class="veol-label">Device:</div>\n            <div class="veol-list-choices">\n                <ul>\n                    <li class="device-button veol-active" data-device="small">\n                        <i class="fa fa-mobile fa-fw"></i>\n                    </li>\n                    <li class="device-button" data-device="medium">\n                        <i class="fa fa-tablet fa-fw"></i>\n                    </li>\n                    <li class="device-button" data-device="large">\n                        <i class="fa fa-laptop fa-fw"></i>\n                    </li>\n                    <li class="device-button" data-device="xlarge">\n                        <i class="fa fa-desktop fa-fw"></i>\n                    </li>\n                </ul>\n            </div>\n        </li>');var o=this;this.$root.find(".device-button").click(function(){var e=$(this).attr("data-device");t.setDevice(e)}),t.addEventListener("deviceChanged",function(e,t){o.$root.find(".device-button.veol-active").removeClass("veol-active"),o.$root.find(".device-button[data-device="+e+"]").addClass("veol-active")})};t.default=o,e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){e.$propertiesWrapper.children().hide();var n;if(e.__editorCache.hasOwnProperty(t.wid))n=e.__editorCache[t.wid],n.show();else{var o=t.widgetDefinition,i=o.config.properties||[];n=$("<div/>");for(var r=0;r<i.length;r++){var a=i[r],l=a.name,c=a.label||l,u=$('<div class="veol-editor-row" />');u.append($("<label>"+c+"</label>"));var f=d(a,t,u,e);u.append(f),a.tooltip&&u.append('<span class="veol-tooltip veol-tooltip-help-icon" data-tooltip="'+a.tooltip+'"></span>'),a.nullable&&s(a,f,t),n.append(u)}e.__editorCache[t.wid]=n,e.$propertiesWrapper.append(n)}}function d(e,t,n,o){var i=f.default.getPropertyEditor(e,o.editorPool);if(e.useDedicatedEditor||!i.isLiveEdit()){var r=new v.default(t,e),a=$('<div class="veol-dedicated-editor-button">Editer</div>');return a.click(function(){r.show()}),a}var l=i.createEditor(t,e);return l}function s(e,t,n){var o=$('<input type="checkbox"/>');o.insertBefore(t);var i=void 0===n.data[e.name]||null===n.data[e.name];i?t.hide():o.attr("checked",!0),o.on("change",function(){var t=n.application.getWidgetEditorProperty(n,"nullBackup");if(t=t||{},this.checked){var o;o=t[e.name]?t[e.name]:e.defaultIfNull?e.defaultIfNull:"",n.application.updateWidgetData(n,e.name,o)}else t[e.name]=n.data[e.name],n.application.updateWidgetEditorProperty(n,"nullBackup",t),n.application.updateWidgetData(n,e.name,null)}),n.addEventListener("dataEdited",function(n,i){n==e.name&&(null!==i?(t.show(),o.prop("checked",!0)):(o.prop("checked",!1),t.hide()))})}Object.defineProperty(t,"__esModule",{value:!0});var c=n(6),u=(o(c),n(4)),f=o(u),p=n(22),v=o(p),h=n(17),g=o(h),b=function(e){function t(e){i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n.__editorCache={},n.$root.addClass("veol-property-editor veol-controls veol-toolbox"),n.$root.append($('<div class="veol-toolbox-header">\n                <ul>\n                    <li class="veol-title">Propriétés</li>\n                </ul>\n            </div>')),n.$propertiesWrapper=$('<div class="veol-properties-wrapper"></div>'),n.$root.append(n.$propertiesWrapper),n.application=e,n.editorPool=e.pageMaker.editorPool;var o=n;return e.addEventListener("widgetDeleted",function(e){o.$propertiesWrapper.children().hide()}),e.addEventListener("widgetSelected",function(e){l(o,e)}),e.addEventListener("unselectAllWidgets",function(e){o.$propertiesWrapper.children().hide()}),n}return a(t,e),t}(g.default);t.default=b,e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(4),l=o(a),d=function(){function e(t,n){i(this,e),this.widget=t,this.property=n;var o=n.label||n.name;this.$root=$('\n          <div class="veol-modal">\n            <div class="veol-modal-background"></div>\n            <div class="veol-modal-display-area veol-controls">\n                <div class="veol-modal-header">\n                    <div class="veol-modal-title">Edition du champs '+o+'</div>\n                </div>\n                <div class="veol-modal-content"></div>\n                <div class="veol-modal-footer">\n                    <div class="veol-button veol-button-validate">Valider</div>\n                    <div veol-close class="veol-button veol-button-cancel">Annuler</div>\n                </div>\n            </div>         \n          </div>\n        '),this.$root.hide(),this.$modalContent=this.$root.find(".veol-modal-content");var r=l.default.getPropertyEditor(n,t.application.editorPool),a=r.createEditor(t,n);this.$modalContent.append(a);var d=this;l.default.bindModal(this.$root,function(){d.$root.hide(),d.cancel()}),$("body").append(this.$root),this.$root.find(".veol-button-validate").click(function(){d.close(),r.isLiveEdit()||r.getValue(a)})}return r(e,[{key:"show",value:function(){this.backupData=this.widget.data[this.property.name],this.$root.show()}},{key:"close",value:function(){this.$root.hide()}},{key:"cancel",value:function(){this.hasOwnProperty("backupData")&&(this.widget.application.updateWidgetData(this.widget,this.property.name,this.backupData),delete this.backupData)}}]),e}();t.default=d,e.exports=t.default},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=function(){function e(t){n(this,e),this.application=t,this.$root=$('<div class="veol-viewport"/>'),this.$mainPannel=$('<div class="veol-vp-main"/>'),this.$mainPannel.appendTo(this.$root),this.$leftPannel=$('<div class="veol-vp-left veol-vp-toolbox-container"/>'),this.$leftPannel.prependTo(this.$root),this.$rightPannel=$('<div class="veol-vp-right veol-vp-toolbox-container"/>'),this.$rightPannel.appendTo(this.$root)}return o(e,[{key:"setMainComponent",value:function(e){e.getComponentRoot().appendTo(this.$mainPannel)}},{key:"appendLeftToolbox",value:function(e){e.getComponentRoot().appendTo(this.$leftPannel),this.$leftPannel.addClass("veol-show")}},{key:"appendRightToolbox",value:function(e){e.getComponentRoot().appendTo(this.$rightPannel),this.$rightPannel.addClass("veol-show")}},{key:"appendTo",value:function(e){$(e).append(this.$root)}}]),e}();t.default=i,e.exports=t.default},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=function(){function e(t,o){n(this,e),this.$root=$('<li class="veol-action-btn"/>'),this.$button=$('<button class="veol-button">'+t+"</button>"),this.$button.appendTo(this.$root);var i=this;this.$button.click(function(e){o.call(i,[])})}return o(e,[{key:"setButtonType",value:function(e){this.$button.addClass("veol-button-"+e)}},{key:"setText",value:function(e){this.$button.html(e)}},{key:"hide",value:function(){this.$root.addClass("veol-hide")}},{key:"show",value:function(){this.$root.removeClass("veol-hide")}}]),e}();t.default=i,e.exports=t.default}])});
//# sourceMappingURL=veol.min.js.map